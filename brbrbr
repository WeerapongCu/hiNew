-- ตัวแปรสำหรับรายชื่อผู้เล่น
local SENDER_LIST = {'Vikkyoeypc02039', 'Tinebxwsv16484', 'Sibbiegeyoz09434', 'Dulcierweuz01335', 'Frankysuwfp32456',
                     'Sylviaiommf17161', 'Karinekqzft51796', 'Nicoletnopq99664', 'Sibelnqtma03931', 'Aprilsutzb62252',
                     'Karipbdjh60271', 'Verlaiuvnb74632', 'Mauraeiril47957', 'Shebaevzma76992', 'Jinnyodpbq46265',
                     'Denysencwim05822', 'Denahwczu03757', 'Bernikjnle48108', 'Ailigxlfr89815', 'Luiseycbzb44291',
                     'Gillqhvch52471', 'Rodavkxgu41792', 'Cathevzhkt02110', 'Mimigzwuz81959', 'Jackieclvj06839',
                     'Bunniempbse22664', 'Marniaodagr51782', 'Stormujslf03676', 'Lesliecqbng09498', 'Margybogry36646',
                     'Kanyajgccn67255', 'Meggyrveyc90127', 'Jessidbbfg15251', 'Angepsyxa71428', 'Gretakyhdm25487',
                     'Catinalqwft50305', 'Dauneewcnd91993', 'Brennavbkfr45817', 'Lettykpddh59938', 'Ashlieigklg24616',
                     'Luraqtsrt25180', 'Corinaltkyi94416', 'Pettdbzv08233', 'Megenfwkfs52247', 'Ruthggegq88937',
                     'Ulrikacawrq68634', 'Margiermldd35686', 'Sarahgjrfn77041', 'Crissyywcqa71715', 'Ashlencnkdb34047',
                     'Philisjrqdz62708', 'Bryanannbmk34923', 'Alisunpterr61746', 'Fedorahzplh33275', 'Leoniexskpj59320',
                     'Nellivqlpe75667', 'Vedauhuda87457', 'Loneeaayyz54346', 'Yasmindutfn06855', 'Bebevrxsh29900',
                     'Loriecpisy88202', 'Fainamoopt65985', 'Berylirxou83459', 'Karondkhxh76949', 'Bunniecstqe73206',
                     'Leelatvyhv47360', 'Shaylawsjyb88144', 'Taffyapjbj13558', 'Lollysbpxv37878', 'Kevinakkvab93086',
                     'Jolineisqtz97373', 'Tildiudbmo01872', 'Nertielnavm39032', 'Leeijqpa80138', 'Poohobsjr88767',
                     'Sekappxvv87053', 'Libbizcvxd77896', 'Bennyarrlo27042', 'Jennqybub82279', 'Dannamxnwe75316',
                     'Torrieozvgt51239', 'Evitawhhfs25608', 'Tonyokimz70464', 'Adorewyeeo69946', 'Barrydmdcl51503',
                     'Jazminbadzf03652', 'Rorytaryl96070', 'Dronalrsbe55072', 'Eadafcany44443', 'Hindawqgaq25870',
                     'Gustakkwgv62324', 'Sheagwriq72106', 'Senaegwkm00837', 'Margogaldt37985', 'Louisaunnrp01710',
                     'Grayqtsng92484', 'Sindeejhnbh81717', 'Ardeenniiic29391', 'Hallielybts05484', 'Susanhcpwf08123',
                     'Vikiqmkkz69238', 'Devinawpcfz54971', 'Ebabpaoa36176', 'Odiliaxmzsw06538', 'Zenaccuix71548',
                     'Cleovnorh09628', 'Cecilysaeke97099', 'Sherifnhqd91824', 'Doritaiwtrl5583', 'Amyejnupd64385',
                     'Trudecjcsv71719', 'Ursaiqwrv43562', 'Karinkmsma12165', 'Emmeyelwaj66330', 'Anetztfho80771',
                     'Koraflavy96457', 'Brynnykezl04705', 'Floriswvool39913', 'Noreanhvell48980', 'Charokpccn83889',
                     'Earthainawn70402', 'Gabbeyogsok31290', 'Cymbrevjbrc13077', 'Hellijyelw30239', 'Myrtaqefxs68496',
                     'Ashleesnquk67836', 'Annewojz94598', 'Avierdaim80475', 'Kaylegxhji84968', 'Senattvlx38826',
                     'Liliasbyiin55727', 'Lizaiphxv98096', 'Bennietpaqv18025', 'Linabbddm31132', 'Debbiywiqs55627',
                     'Shainerxxbz97115', 'Alvirazrkkj54555', 'Charylgnsdo34773', 'Gillanpasml42993', 'Perifoxsf14282',
                     'Gateszjhti66184', 'Graygjvkc38254', 'Mistymchgw10868', 'Mureilspett90273', 'Ronnahlcbj54747',
                     'Maiarfcop99268', 'Bobinewkvvp25070', 'Cristafecdf24007', 'Kerrieojbqg64307', 'Lintwnxs40601',
                     'Vivaffswd20419', 'Elkaxzlfe30976', 'Oreliaikdtt76449', 'Beretzbgqy82129', 'Lavinabuaxx77460',
                     'Lonnievquti16588', 'Bettyhpziu49313', 'Clarinbmna30569', 'Doreengqinm64949', 'Joreyjauns99292',
                     'Vickyuflee50289', 'lxtv05luqp76', 'ouyp86nuoc04', 'eqlqopcd2759', 'kzui78hghw35', 'nkbotlqe8012',
                     'jyoclltd5375', 'kehbqclc2455', 'onhyygch9732', 'vlil58mjfr91', 'lrrd15vssu94', 'qghb59lmih09',
                     'qeyu53pevx91', 'tutvpntz7475', 'ovzp07xfmn50', 'ylhe78cszn67', 'lrfi77jjeh93', 'zgnowzns3623',
                     'njsu95wyls78', 'uhqz11lrpo67', 'ejzfmuur5177', 'aoco85knpo72', 'tsyb85izzb97', 'tcdvyovi6080',
                     'jfpb45klqi71', 'magv04vdcf36', 'efmgewey7324', 'sphexpzz4729', 'gqpd95fvos00', 'lgmk81ppyz05',
                     'sdjg54aeng06', 'beos21hnwj51', 'vtmw18soez34', 'mspn33aant44', 'drrc19vjsj39', 'nnqyqtka4947',
                     'oiljwrpy3180', 'biozuksq5312', 'umag55bjlm15', 'cmtnbuxc7180', 'kcajvnzv7801', 'dwtd53xhnd17',
                     'Brynnadqfnz12325', 'Carengcmjz73987', 'Megfloem89619', 'Georgexbcgs94185', 'Dardasxkiq17965',
                     'Margitkeuxd43074', 'Jazminsnmoo60133', 'Carenvectg45897', 'Jennabgtie27237', 'Winnysqxnf54057',
                     'Martiusqio51861', 'Yasminmxznb13080', 'Ansleyxxmdr53128', 'Hedvigadcrx48191', 'Rivasycbx69721',
                     'Eadathzyi47115', 'Deliaxeemb18639', 'Janinadpvnq64004', 'Senazseho02971', 'Pearlajaond87202',
                     'Garnetqodvg49584', 'Stephawzovs08605', 'Fararpccf95606', 'Maggivkdej79216', 'Zoranrxzp71395',
                     'Valfyonl32438', 'Dahliauxjyy35779', 'Berylkfyoo65746', 'Kallinfrhj07630', 'Farrahftufl33641',
                     'Agnetaketkr34168', 'Bambyvdaxj66356', 'Vanlifgt54008', 'Bobinanipck57496', 'Andijqylm20506',
                     'Kimmyvflqp99286', 'Bobbemipfe82906', 'Randavqrok07955', 'Pegiuhru73859', 'Dodiepvhob85625',
                     'Joanneevsfu90472', 'Tristaogbwe30421', 'Deinapstqe80522', 'Hollieyqdod00973', 'Allyceoyknv57293',
                     'Kymvuqws03311', 'Ardyskrqfx86747', 'Carlindbgsd04404', 'Dodipoijo32754', 'Marciedqxwu75903',
                     'Biddyqvgfe74832', 'Hattyiwtxd41623', 'Lethiacoold86372', 'Perlgquwk15087', 'Pearlaucdxp64985',
                     'Jennieuuosx49580', 'Caropbrzj41567', 'Dorasqrbx03816', 'Danellrhvww87289', 'Teddiebhtl60121',
                     'Selenagyncl69167', 'Riccauixcp76989', 'Thedahfxhg33656', 'Bessieyzqen47474', 'Zenarozlv57282',
                     'Traceytqlwg40002', 'Pruxxqqn91540', 'Malvareqwr81750', 'Elvarqtwd03920', 'Inesbuexk75266',
                     'Suexlbkv17681', 'Frandcviu48620', 'Lilaskptkl41116', 'Dulcemhnfk05549', 'Inessawczfn89801',
                     'Kileyurrld75193', 'Ileanelvntu51274', 'Sulatpxor10221', 'Karazyniz14437', 'Kerihjpff66952',
                     'Nancexarfx06375', 'Kacyjcmzs17776', 'Karolydynrc39774', 'Rebajyrxv70464', 'Sibylkpbmy17222',
                     'Deberauxwss05044', 'Gustyrqdvy78676', 'Alananscms35976', 'Korienvhsx20252', 'Rorazhnjv77512',
                     'Mernaszyum57555', 'Trudekinds54216', 'Ivoryprisa19903', 'Roxinesumqa29838', 'Aftonlmmvb56015',
                     'Luckytkyck57719', 'Danitkrtni22342', 'Ibbieigifo76172', 'Leiavzdvy71459', 'Ritaqhccc22746',
                     'Gusjhxwa81265', 'Genexwxra32132', 'dsjbwlum5996', 'ggfi81kewu66', 'kffy52hhuk70', 'feozxyhf2750',
                     'vhmqasms9439', 'kowlymxr4562', 'ihba17hmzz55', 'kehrgltj5470', 'vhuv66kvev02', 'nskw27iyoe66',
                     'ctke36jgnu19', 'pxbf05lwoz07', 'hsaaegpt3577', 'wqsm59ccyd06', 'nbrsyjau4182', 'nxbhrjib4761',
                     'czeegjjj5581', 'djfc80osls13', 'avyhupml9195', 'ihre32nacr73', 'zbyzhvnj5211', 'zodsfwcm2872',
                     'qgow89yved84', 'hyorqmsw1276', 'rqvj39dhvo90', 'hnachxcc8299', 'mmzt44thao87', 'vjvh83jvlq65',
                     'ojnnpzqs7136', 'cbik89iqff58', 'vxbd98zltr89', 'jexu92whvp49', 'qzsn53vgqh78', 'atvmtoso7282',
                     'huzq99fwai50', 'xpyiltgv2731', 'ajcrmzzp4536', 'wvfjiioo5765', 'ajtzehmv0367', 'ixlg76feel10',
                     'ppnxopee0283', 'Lonnazjwsq40017', 'Tessaglaaw35035', 'Lusahdznz87927', 'Gwennizbnec25312',
                     'Mollievmisg32877', 'Sherrysfnxw85700', 'Neillazfmit08176', 'Nertieqmxpd32731', 'Pattiecankm58332',
                     'Karanxuei82332', 'Nissekerdl68148', 'Vikkyfdwtw17222', 'Suzyebglf19850', 'Maggieqdcbs55194',
                     'Hedyclhoj25472', 'Delbsxtm31049', 'Renniepmdeg25624', 'Alanahjfamn51353', 'Rikkiubnmd02710',
                     'Easterimase36620', 'Andyjibjt70137', 'Hannietumhd25363', 'Ricijjsrb55929', 'Randeexfknv47719',
                     'Nolliewzicm15868', 'Tinawyqae01521', 'Roxanaerfxx78013', 'Joyceboykw93860', 'Rayntpue22316',
                     'Genevajfknt58640', 'Cellegkdmi18292', 'Jillieidkky46519', 'Shelkrxha03216', 'Onidanukul47521',
                     'Clohydiv29968', 'Cherrytjiau00519', 'Jaclinvpcfj33034', 'Nanigcvxp18655', 'Tildalztrn51227',
                     'Korabanjz99434', 'Marneyuxipo32902', 'jlzkhyqd3361', 'oggz38klax55', 'pcyi05lttd75',
                     'dwuggqbt9310', 'gvkbhdlx2178', 'hcai92cuvs77', 'onpntrlo7097', 'vxvxkiut6832', 'jnaoebqc1154',
                     'dwjz00sgsd02', 'jvyfoumv9560', 'uvek55maxc23', 'wprpovuj4654', 'bwinirzm7246', 'rgsyfmeg1492',
                     'szsolmnn1151', 'ijik91pxpo19', 'szozifwr2147', 'zeqn40gcps16', 'lajv88emio39', 'vmgx18cxiu28',
                     'uogzutmd5265', 'tpth27eryd03', 'psjh10yral84', 'uyvkgihm8705', 'agxa73dmum50', 'leol93kkiu52',
                     'srzjpqkl9437', 'qomm92vrdp72', 'jncq10hmvi17', 'htzu01xsru91', 'nixb03rpzb89', 'smae74tkhg77',
                     'xrbpztni0760', 'uliiibuh7591', 'pzaa89jeeq20', 'aagcsefh0446', 'xkxhehrg4793', 'vstaonma1778',
                     'kqgg91zxhi23', 'yimldnhg8110', 'Sarabljdi67470', 'Aletamnkkc18677', 'Doriseikzdb37418',
                     'Jobyemypvw75924', 'Floryogqox42309', 'Noreencjsnn95170', 'Daffywehww30371', 'Joannehgktx37938',
                     'Tovapkffo30389', 'Happypcshc47799', 'Randieieuyj03063', 'Zaraopnyt86889', 'Albinagwcwp62611',
                     'Catekyvou52289', 'Gretalysush32618', 'Kimmyytala33591', 'Nedajiyqu09446', 'Emylexknto18087',
                     'Wenonafqsew55496', 'Enrikakwbkb92208', 'Lindsyggcno45700', 'Jolynphqbq10661', 'Orsolaxjzxk45485',
                     'Maiafwhee89750', 'Erthaobtgf89492', 'Kataiknc83079', 'Fernqwguv34741', 'Marysnvwpx13518',
                     'Dixiealpqk22933', 'Fayfnmic98868', 'Emaleeijpxq09869', 'Brierayvzc90112', 'Terriuzhxx29577',
                     'Leahtyhfm61162', 'Jainessizz32778', 'Corissuaslz81629', 'Gavrasalpr26415', 'Babehnkf63856',
                     'ooiugyko5278', 'mlvcaiyv5959', 'ppif33bmwh64', 'vjah31eclv25', 'cjqe84keaz06', 'wtcd81jcks87',
                     'jmizhqny8744', 'qyfupblx2689', 'acfoqdfx7014', 'vfwmwyza4652', 'mfec06hitv53', 'fdoa26bpkz91',
                     'hqmw75msdr78', 'biiogotf4635', 'tfpx98ziwn60', 'ztaqjcgw5216', 'xsrv00ecxa19', 'twdigxgh0772',
                     'mdhhvtjl7239', 'nvad38vghh31', 'rqgv26iivt16', 'lpwa36gvbe80', 'udqp08vpjo35', 'bxyb12hirh31',
                     'ylhn06oley76', 'gjnyorpe4271', 'rtiw93eotc89', 'jmzt77nbrp79', 'nebhpjfa5200', 'alfxlgdi1010',
                     'shnk07wpqg99', 'foilxhyq0502', 'dncovbyg1816', 'jugr83njtn76', 'sbiv74xmzk36', 'rkts58kntp26',
                     'xcrjzqjl9098', 'yzkjhmbn9032', 'uydv42ccpv09', 'hyfqgdea3409', 'sbjeflot1855', 'Aggieetdrp69288',
                     'Marriswbxjm34873', 'Edythexarwc78917', 'Cynthycshib66675', 'Merielnpfmq95796', 'Beckikvdcj79691',
                     'Raneebsdfn00280', 'Linetrirzz14327', 'Yvettekhxvy86107', 'Annisanynf45894', 'Shannadruvl88367',
                     'Aliatfkib92972', 'Chereianin20006', 'Renawklzb26336', 'Pavlaohggv95101', 'Imogenrpekw00993',
                     'Sadiecsqml59154', 'Karrybegjv99590', 'Ruthyptwdn28698', 'Bonneelvrqy91203', 'Carenaliosu58361',
                     'Goldyegobp78935', 'Tedrazlnhg13674', 'Lonifezql98426', 'Mabelapmie41087', 'Dosieufgp55367',
                     'Bobbeexzbfs47672', 'Missyobmdh33443', 'Sonniebuddf01509', 'Lyndelqdyzn51226', 'Wylmaxvcmp72550',
                     'Drusiyjqvf97733', 'Robbynjtjop36552', 'Tobyeyfttj69376', 'Bellexuadz81990', 'Louclnxk66563',
                     'Arlineqsqpk12141', 'Gizelafguob11777', 'Tamraoxbmz23371', 'Lianjynv96409', 'Karenucsui63661',
                     'Agnanmeic81789', 'Philismrayi36530', 'Dinniervtei42411', 'Nickiezyte60195', 'Hettiwieiu12487',
                     'Joyecwuof76537', 'Dawncofmt21829', 'Madacbyyk01238', 'Gertcsfmd05186', 'Kerrynbblz77156',
                     'Lonnigojls71057', 'Aratykri95824', 'Annicervhcj36065', 'Daiseyxnmsw73527', 'Birdiezzroc61417',
                     'Philislfabr02774', 'Pattisupnr89805', 'Lindsyultuf46249', 'Cathiwslpo51809', 'Cynthyhyrkx98668',
                     'Annkjnkw87412', 'Madanuqfo99091', 'Marysabsguq01450', 'Gretalrxwoj25424', 'Shellowkyi35610',
                     'Roxineitpbh99381', 'Winneerlyu34958', 'Amiddkyy83549', 'Nessiezcxuk43332', 'Mavisrckkp04217',
                     'Shelarztxo00180', 'Fraydanbgfs48351', 'Sibylhgitu81468', 'Midgeefsge57979', 'Hadriajdgpl76304',
                     'Loneerkiss93665', 'Sybilamtsvr71876', 'Ginnyixnam86124', 'Maxinehqoab38438', 'Almiretrkrh77694',
                     'Cindeejffjg63328', 'Esmetrwog14034', 'Myrnachehl61985', 'Eunicewettc26045', 'Esmeoufvn60935',
                     'Wallyjzbgy45271', 'Maxiwwciv38769', 'Reinakjsxt74128', 'Tommyyunbp26658', 'Jendalwrqc24084',
                     'Meghanhcsbd84776', 'Iliseoumua34572', 'Rubyuctyn21306', 'Kylezsddw33252', 'Merciezefqj18677',
                     'Janeenjlbeo51111', 'Lenkaysiba19814', 'Aleeceucyll11172', 'Dustyitwxh09468', 'Reenaxfaxt56540',
                     'Manoncafjo44015', 'Laneniton39897', 'Lettiehqrd80197', 'Yolanepyxny34666', 'Nealaqbrcq27895',
                     'Kaileznwwc76265', 'Nedigjkwx26569', 'Aleciahrntl11332', 'Sarinarzbyj12537', 'Brittexsbeu82258',
                     'Andiejphwo19961', 'Nevsabxbcd19468', 'Staceeqcjch22987', 'Casslibml64026', 'Florirqoav74966',
                     'Helynedkgp23360', 'Nanceybjeta39609', 'Lauriegynpk09807', 'Gingergiwgg61224', 'Erdavmjgh67764',
                     'Amisqhlo10085', 'Neilahhjbz03212', 'Andyjtlho00577', 'Maisiejjrup68068', 'Xyliaxjztt91052',
                     'Anniebylme59297', 'Jeanntclz92282', 'Helentdkcv91778', 'Paviarbeuf83599', 'Marciexetza74540',
                     'Brinnahavfy58987', 'Alysonzsslj16736', 'Wynnfflmh39029', 'Hayleykwtou21356', 'Dottiedzbmw88398',
                     'Vikkywpaxq32331', 'Zenakklju29151', 'Corrietedkn46060', 'Ulrikaclger35463', 'Coreendtvss02681',
                     'Corryzfaej78888', 'Toreylxykr54608', 'Merylopsif58709', 'Meggietktvg02449', 'Issirseww53941',
                     'Pearlawwsaw04904', 'Mimisppmy08908', 'Sharlahgtid39862', 'Tandyptepl73320', 'Jaclynjfwxb79875',
                     'Noreenrpnzp38372', 'Persisuomlc97087', 'Sandranuyrm60775', 'Yettyzhdsn50869', 'Morenarkcuy98354',
                     'Bobbergzzp83423', 'Gipsyesfrj59016', 'Coralrbtwn79837', 'Indirapncso04008', 'Davetauuxsz39516',
                     'Babbivyvl00132', 'Abbieybclr39312', 'Bertieiwhlm14398', 'Britathuen30399', 'Nadeenxxncr75091',
                     'Deannejympe24965', 'Janetaniwcr70749', 'Elliextpgq57874', 'Juninanupxw89265', 'Alicaygdhy26249',
                     'Maudwdzsc44065', 'Berthapplac81632', 'Lindcszod77897', 'Calidajqnlu85798', 'Kaiasbayi03327',
                     'Astrapjkzt97136', 'Pearlejndrv43039', 'Riviovsww27552', 'Valerahkogv99484', 'Sileasckvbq42827',
                     'Drusievrlei51844', 'Enidoiecr56451', 'Chereyhdnvf81197', 'Ynesydcnr11999', 'Dottyfjhvs86847',
                     'Walliwvuugx77451', 'Tiffiedbppx72393', 'Ellenuxquh45707', 'Crissyuptqx18863', 'Doefkhce05724',
                     'Alayneltjlt70882', 'Goldainxpn38083', 'Avisbmfss86163', 'Brigidztsbj54790', 'Riccaxsdoh09964',
                     'Bernitngdx08346', 'Danilvvmf96243', 'Bobbyniulp04738', 'Ileanahgnqj51238', 'Ailedfwbt46271',
                     'Dottiegvlat22561', 'Heddatctmq21069', 'Leeseioidl46850', 'Lissievqmyr52567', 'Kalierjrfu32691',
                     'Kirstihwuia16914', 'Salqevjt27623', 'Oneidaexlpe73962', 'Sileuvlpc95951', 'Doreenyogcs00191',
                     'Vallyfwhsg60561', 'Tammiebcsqy41668', 'Amatalnclx25895', 'Wynnypkyfk51759', 'Joellyqmygl85223',
                     'Mintasopul55463', 'Graceqdyrm92133', 'Alanahwdjtp52666', 'Luluarjng05606', 'Marlobbydm45864',
                     'Charilsixhy62505', 'Tammasyxvx04324', 'Taragwxhg26939', 'Brynnucchg04755', 'Barberolny03477',
                     'Edenuwfau46479', 'Jolysxgnk43079', 'Nissakuqwc15169', 'Kelciszyhk78746', 'Vannieigpgv53891',
                     'Carinakzvmu38562', 'Jaimedzhju55859', 'Araqwdju10137', 'Katdpill75487', 'Linnieufkky46083',
                     'Cheryebzyzk72113', 'Ulricagwkny66014', 'Sianalplyh26284', 'Codyncskc15377', 'Kathyysxih98168',
                     'Emmakfzbj30371', 'Lettacejfr56990', 'Cleoyvinh07452', 'Janinawqvtf95958', 'Sisileujdzd92402',
                     'Karrielifae64548', 'Beulahfbjrh24357', 'Vikkipmixu22155', 'Cammyjxduu14738', 'Pattibqpct92371',
                     'Amyettkln49584', 'Nessiejhkjq59256', 'Winnierrbnh45761', 'Frankvjeiz24543', 'Caratfbel39995',
                     'Aidanjsayd27897', 'Gertyyayrj73344', 'Alinesayjn57093', 'Mattyunkcp19519', 'Darellcynvv69946',
                     'Alydaxgscb76849', 'Thelmaylnkn40264', 'Joseyagfdq69316', 'Joyetbhxt88466', 'Lelandfsrwp02403',
                     'Lillaqmcjh37007', 'Doreenhbwdq60091', 'Carryloxmz66100', 'Catebrjzv34980', 'Marlynxizol65672',
                     'Rethacwagw09318', 'Winnejapof82877', 'Poohxgagz13947', 'Denaqngib02635', 'Tybiepxktq37826',
                     'Goldyeuceb51883', 'Calleyguepv20880', 'Linvgqwq10474', 'Manonrevdf57841', 'Denyseyqhdd61402',
                     'Sindeedlbkk74430', 'Willowpadqg00978', 'Ilyseaapcm76142', 'Mercyyaxjz15436', 'Lillisfgdll23181',
                     'Filidesyfjk62672', 'Karynacbfd71525', 'Dodywvqqx63331', 'Fallontjtte29490', 'Coryuvlwt51986',
                     'Koraqpwik51036', 'Rubiqqdfq29365', 'Galinanrfek14472', 'Billyzjkma18736', 'Loisezswrl45113',
                     'Salleekiprr83385', 'Austinrpcjg95996', 'Thaliaewpvn42240', 'Ilysegdtmp98949', 'Arynwizhk35987',
                     'Cathenxlrr19853', 'Olgahjhxo28237', 'Judielxdpa97087', 'Erickarzwre79824', 'Jolilqldy92195',
                     'Amylqyqn37035', 'Vickiekukoi96531', 'Berthaniyhv59443', 'Nestatyirp69963', 'Latiamcpbq36882',
                     'Blanchlegtn71937', 'Martyiyjvn59199', 'Arlyndmsmm48512', 'Vidaditpb27136', 'Valdyrwh55607',
                     'Holliepsola05938', 'Reebaslhre03570', 'Cyndybvbdh95921', 'Piersflsz27316', 'Isalbcge17398',
                     'Mollydocdt56660', 'Canditjnsn20583', 'Nessigbiuv30813', 'Orlyexsqn11746', 'Iliseywxiu59937',
                     'Amiialntg24323', 'Phebepmlal63169', 'Gerryjrdvf93980', 'Karymwdpn63018', 'Linniefcwor29267',
                     'Pegpddqf16813', 'Danicemtstu69268', 'Phylyszjvqm19474', 'Cherrinxbgn80866', 'Nanniesabka13154',
                     'Lenorejyzcg16343', 'Pattyymzeh95374', 'Olympelskex69915', 'Maytpfta17402', 'Leenacjqgl24183',
                     'Janekdgxn60138', 'Leanoryvcbd81608', 'Tonianfqfe94560', 'Orsolaxyaap66196', 'Rowerqiay83359',
                     'Faunwjzdd45768', 'Judithezltm71806', 'Kaniadgjqw78146', 'Cherieptkcz98173', 'Lizziehualj97374',
                     'Agathaxqwby50638', 'Ardinejkcgy71569', 'Rickyeggap67608', 'Brennarxnwu72939', 'Codinbqvs03295',
                     'Bibbieouuis29195', 'Reenacjoub22038', 'Andigvddn94091', 'Pettvrej48675', 'Avivahxtjdt40314',
                     'Issijgdgs22139', 'Sarinekrhpx91947', 'Reevaxllnz03689', 'Breecvdyo46754', 'Arynnumxq23094',
                     'Faniaeuixc38564', 'Danaoxxwu29065', 'Isisjbiwa12992', 'Fanhitgh45841', 'Karryrsryy94909',
                     'Zondarzuub21812', 'Almiregpntk07039', 'Carleneevcj88542', 'Ingridfkalh14239', 'Cynthygapsg84302',
                     'Alexaqxjjk88863', 'Saralipxv56606', 'Euginevolnk28015', 'Faithusxif47498', 'Dallaszwquf61453',
                     'Dedrapuupi05045', 'Binnigoshh12668', 'Zorahwyrqr42520', 'Korieuinvz91836', 'Sariwsnzp37787',
                     'Williepjnpw81071', 'Arethaioxvn26767', 'Kipijiky89287', 'Nanceetadoy78880', 'Vandamftyd52951',
                     'Tammaypdae97479', 'Devinmxpsm40211', 'Louisebfesu04845', 'Roiszoowp89005', 'Ileanebnnnv50808',
                     'Lizzyrrmkv96525', 'Janieptkoj10855', 'Kelciqoxsl36778', 'Reyvbtmt35528', 'Emmiertoxj74119',
                     'Deinaycpwn27091', 'Antheagwyyb58902', 'ftbh25rtca15', 'ocnb90bhgv58', 'vuxp21omgx37',
                     'cinm36pbco64', 'pqnc99iwms41', 'esmt18mqmq40', 'epmwcmqx7171', 'enwgfeks3458', 'pfwb44ymtn63',
                     'mjvdthlz9672', 'mcnn31dlpc48', 'obyt75htqa58', 'vvqkwfwx4882', 'dfgg16ceze02', 'xxsappse0253',
                     'dzzwkupx9523', 'ievr39ssla80', 'jjxcblxz5854', 'msvt06ojgd30', 'etsg00fqso45', 'elxyjuqw1255',
                     'qquljjjj8767', 'ejxh13edpm43', 'vsfe51renk76', 'zjwm82ppig16', 'nspz90hvxj07', 'fwzi96jviv63',
                     'bylh17hynv05', 'fzmi81nxtj43', 'yann82wpmm10', 'mdkc64vjtr26', 'kjelbmmu7260', 'ozae17jzfp20',
                     'bwde13rjlz89', 'gnpiiamk4287', 'dfat55erew89', 'ylje39iezq09', 'bxtt77iihw51', 'ivwf50ifqy00',
                     'vpbp83hvlo85', 'pcjujlcy4521', 'Loisengxk86839', 'Shaylaxtuih65084', 'Kayefarqk52000',
                     'Nellkhakp24999', 'Alycelckyl59054', 'Corrytjqga94391', 'Peggyzlgny30852', 'Gayaxaxz98701',
                     'Torieognfs45197', 'Dustyshter50513', 'Narasqnks49121', 'Philisspqgr93487', 'Jerryxxqqh40451',
                     'Bergetjdczx82569', 'Chrisxonrh81121', 'Hanazhvsr17748', 'Stellatlgha13982', 'Chrysawcmug79577',
                     'Fayinahrodx69618', 'Torieyiokk37504', 'Vedavveur72466', 'Nessyyjxbp81938', 'Ulrikecxylf94410',
                     'Alanactxcx84673', 'Nadyeuclj42313', 'Abbeyniwty72195', 'Sibbiexmqsw85810', 'Adoredfesv62653',
                     'Deenafiemi68835', 'Olvaxpxlw20049', 'Nelldqdmt47534', 'Reganzqbmj68939', 'Frandkdpe20413',
                     'Innayzagi58422', 'Tessxlxfq58109', 'Carilhzia10921', 'Joellyykveg27653', 'Cindrafbsvc15384',
                     'Wendaourcp13636', 'Alydabinxt43664', 'Clogkslf79532', 'Wiloneeikep00331', 'Fawnenhsuw15787',
                     'Meggiedmdji54878', 'Laneyktckw19955', 'Binnionjnh41867', 'Marisrlxmr74269', 'Krystakpuhe97415',
                     'Darciervhdx61403', 'Marielhmtrq75300', 'Tandyitthe12980', 'Alikasntmr74146', 'Clioatvks25445',
                     'Wendacurcu88789', 'Mickiegodap05095', 'Agnaqqhhq09682', 'Tatumdwepl17248', 'Dannyerpkod73007',
                     'Philislirgy56686', 'Melodyvhetc87867', 'Dasyalxyhi40065', 'Ardycejheej10708', 'Fawnihidt33533',
                     'Tishaofzcf30981', 'Joleerndis36542', 'Ynesqqbae19441', 'Davineakmcy22083', 'Jadauyxyv39632',
                     'Sonniekvjud71203', 'Carynigtge50166', 'Jerrieyuntu46787', 'Hyndadrnqd86756', 'Celkahxiew80135',
                     'Tammielpfot62008', 'Janeyescm86577', 'Romonanbhka01466', 'Gussiiqdwz06433', 'Laureloniqh05886',
                     'Bobbeeevcth74441', 'Hayleygcxpg64835', 'Daffikptsj62646', 'Tovevmmlt19811', 'Vivfsuex16005',
                     'Tyneaywnt26504', 'Brigidzwykz07982', 'Raquelielmx53353', 'Iliseqlhfx79128', 'Arleenckgbl43727',
                     'Hzeldnepu65132', 'Ditamowra42187', 'Coleenryupj97397', 'Binnisrlxd39852', 'Fanzysqg83705',
                     'Fraydaamprf52904', 'Hollyedmes82789', 'Brigidnmjwj26498', 'Addiavfwbv35498', 'Kieleylyvj09137',
                     'Arielnvnpm10710', 'Cookievsbdb11690', 'Rickysgyuu65526', 'Reggihqixg71649', 'Gwennywvdsl60670',
                     'Nitajprgm82856', 'Vannavrjwd86062', 'Kataegftg14443', 'Drusygdjep28295', 'Shannaubach46089',
                     'Timmiedntel76954', 'Leonenqmsx56102', 'Sindeeijxnh07847', 'Unaluwvf89222', 'Araibewy17895',
                     'Glynislvedi16908', 'Jenatbroq89860', 'Lindymsdji53589', 'Dennieqpevv48080', 'Joliebeepa60928',
                     'Eydieatchp37018', 'Naomiunxwj05886', 'Kerritvvzy33632', 'Ritamtimm48853', 'Rosebuqhk84700',
                     'Dallasygpmv79452', 'Jolyncnprh61068', 'Edythlnbly88237', 'Alexistnnbq08662', 'Elwirafihgp11229',
                     'Heidiezizsw41591', 'Sammysakyo19720', 'Bobbeeejxpd31398', 'Dyannaszcxt87761', 'Audyzukco11829',
                     'Robbycbcor20018', 'Rebatxqrh13207', 'Erintjhyl34676', 'Sabinefjded79641', 'Cherriqncsf82420',
                     'Bertievzqrq23388', 'Erintqled37292', 'Amberosfsz11827', 'Agaceitqmk05493', 'Ursolambjpd98685',
                     'Dorryluqdp64743', 'Oralleyjtbw27966', 'Karetttfj60538', 'Ibbieiplfh48541', 'Tessmwvpm40753',
                     'Metadenmg99002', 'Liviawgxqo87483', 'Doriaowbvc23960', 'Inessalhzee25799', 'Ardythfffnu43155',
                     'Martaozwsm37026', 'Marthapdckj18156', 'Shaynafbwzj95113', 'Raynafulby07689', 'Adihxnis67740',
                     'Erminatrkax29121', 'Elnaauydp01652', 'Saudrakcpaa54819', 'Florritlsdk11001', 'Shebaqxtsv10520',
                     'Diannarslxi11144', 'Jamiltdng71830', 'Dannyoznml76931', 'Aliexnryl47995', 'Geniarosbf02712',
                     'Carinejivhl62256', 'Pammigegzk54456', 'Loellamsags79004', 'Adanvllqx44976', 'Terijjkzr82176',
                     'Grettavvcvo02670', 'Milliengrkf48862', 'Loucpcya02555', 'Bertieiknvh07997', 'Dedievxrch80433',
                     'Andreiilvre96125', 'Tressathbpv63040', 'Leelaycfls33521', 'Ettaiqsmq34807', 'Babsrtfex84450',
                     'Metaadnze86522', 'Meiaqpph53120', 'Willaahftt39242', 'Kareevuyyk84935', 'Corriekmwei16069',
                     'Lyndelfxzxh75698', 'Anabelsnspk57351', 'Vitiagqdwz40103', 'Vitiaygvij17175', 'Anetrscyt81584',
                     'Fayinawsbez12888', 'Steshaexuxb73760', 'Suejagin50149', 'Trishahweuz82801', 'Joyadfkuk92942',
                     'Meggizxdbp57434', 'Vereutlrl70277', 'Arlynjymfm35126', 'Eliseeefso02486', 'Muireqqbdv62137',
                     'Cheriznvcy29905', 'Trixieejyeh91580', 'Dulcieyfmsr01577', 'Stacektkou69728', 'Anettejtkri58128',
                     'Kelceymuxwp81395', 'Sibbietncdn81712', 'Nanceyticyh13868', 'Leiasmngk14377', 'Marthauoppl44681',
                     'Juniezompq50461', 'Stefajrhhl15787', 'Koreksixr52990', 'Ananwqia46931', 'Catleegzktt43057',
                     'Nariotykr58814', 'Honorwaghk64561', 'Ilkacssml39211', 'Alleensblee29904', 'Jessihjyik46800',
                     'Meggiekaezg54090', 'Kimexdkb93000', 'Aubrieofnbx59803', 'Clareynitmg61664', 'Kerriebdsgb72099',
                     'Florrywekpj52115', 'Candimghes77718', 'Haliewbuts75655', 'Tandyjjmig24748', 'Jessypjolt10639',
                     'Florepiskv49140', 'Orelleoibrv66234', 'Mufiuwlcu57444', 'Davinerikts82247', 'Barriefvfrg52372',
                     'Peggifdinn54798', 'Neelyqpgpq21974', 'Fionarayof91885', 'Livvyyhcgkj47002', 'Korriekfqgr14835',
                     'Yvonneonqmz59494', 'Mahalahzylj14002', 'Sibbyufzhe55158', 'Oracywpw47358', 'Juniesqrcl90485',
                     'Shandyhphgu03453', 'Zolamdukf44610', 'Mamenipbz28850', 'Naraddgyu14163', 'Anakglop23079',
                     'Lultexn86300', 'Guszvjkg40623', 'Raenddpe43376', 'Daronwmyjq89134', 'Druciegqfor92120',
                     'Dixiexbwdw89331', 'Kareeaiimk64924', 'Gratiaaklyx97946', 'Lydaqmizb76423', 'Trixihxqup00783',
                     'Mavrakawbw08436', 'Natarkpfg32486', 'Dashajzwis41900', 'Nikkifwraf21831', 'Daffytrtvs76339',
                     'Adanmrpxz36665', 'Beckiebqvq90257', 'Claryneaqu45884', 'Minnamyixy03815', 'Kaylilxtpst68338',
                     'Rethaonlaf58483', 'Tallouhviem99877', 'Emmeyarjmj79526', 'Norriitkxg88400', 'Evonnetrwvf04617',
                     'Tonieuzydk24249', 'Carirzhel92481', 'Ashiaydjab64222', 'Elsylpbgm02674', 'Alysiaeyxnr98013',
                     'Nickieeknpm50265', 'Erickaxzdwp51619', 'Shereedekpr79149', 'Brinnaskaaj46219', 'Tillieclbff08287',
                     'Nertersjto57700', 'Vannieevjna25861', 'Shaydcqjm87211', 'Benitafjybp67168', 'Rhetaaakon52837',
                     'Adenauskfw66093', 'Claryqmotu05752', 'Terizchmt73717', 'Janetaxrwgr13889', 'Pansyziaow30450',
                     'Valewbzbd73577', 'Janicepjqly72594', 'Dorovsujv45028', 'Noelqukqa55876', 'Haileerhxhc42136',
                     'Kattiefioef60262', 'Addazuvjk79273', 'Haliusvtb53761', 'Koriekebbd46060', 'Gertagpmjv35496',
                     'Cordytkiwo17732', 'Birdxgqha69105', 'Karilkxgsa60954', 'Bessgltfu71579', 'Marenayumod60367',
                     'Denivqgvp06715', 'Mellyltwki79368', 'Tessixblns36508', 'Darceywikpc70577', 'Brigitkmnos88120',
                     'Erinfnkyl19336', 'Eydielpvmj58516', 'Liesateovt34046', 'Eboneefnyen35866', 'Karinnkhbq35717',
                     'Margocsmpv63314', 'Jamimafmhju75245', 'Willihirke65105', 'Nydiaxerer56745', 'Denavvtvs03061',
                     'Tovasznvl67194', 'Wynnierihrc96621', 'Ronnafiekl84537', 'Gladysvvkmy45033', 'Ethylqalnq67508',
                     'Devorathclr84586', 'Angelackctw56928', 'Rivkahvsqpo63818', 'Cesyaekhcm81297', 'Eliepgnwk91136',
                     'Maviscypak71001', 'Vinninianw18335', 'Loreenmwfpx65335', 'Abraetauj09780', 'Irasrdin89345',
                     'Quinnkozpf32561', 'Roannapibsg00342', 'Lyneacjzxb25905', 'Rafcviut42514', 'Vanyasgfli87243',
                     'Trudibysrc41316', 'Rhodiecpghb20069', 'Elenaoummb68215', 'Sigridmgjxh96928', 'Floriaqwvyq96675',
                     'Dawnuprqv63556', 'Nessaecyzs87898', 'Drunazyp87872', 'Grierrflww62692', 'Tarahnrayf99066',
                     'Benniervpls20110', 'Athenelrzxp95369', 'Hannisnfniv69972', 'Dorrismdfba10613', 'Feyrzkva69953',
                     'Cesyaaoqaf15795', 'Carreelpbrm49884', 'Lonacjcjk71888', 'Hanakvcjj22347', 'Alvirauptqv97496',
                     'Katiislcx53858', 'Godivaazywq76444', 'Robbijjklq95966', 'Catyvzvrm06207', 'Shaunaykggm51164',
                     'Susannptbcf88804', 'Eadiepihqz52687', 'Brettlqqsh72376', 'Karoniodpd33410', 'Cayevliao31316',
                     'Devoracqgpo73114', 'Jeanekqhnt30323', 'Jobeycjydd98713', 'Sisiletnhmp66399', 'Belledvlfl93270',
                     'Margajnhah33523', 'Kettichrdy11041', 'Marylmirg18734', 'Leannaddjsd30093', 'Kaileumyrj67504',
                     'Dacyncntw29267', 'Adelaiccip31497', 'Blisseixufi74530', 'Bobbyjburb46144', 'Traciqtkoj65225',
                     'Moreenpibgi45610', 'Bertizntlg54775', 'Nataffzyh78164', 'Doriandxvnb65653', 'Hetticgary87505',
                     'Dulcevvvvc20096', 'Avivavyicd59423', 'Avivajjyvz87040', 'Kassieuvros84198', 'Cherypxlmu19600',
                     'Linzyqbxwr05289', 'Kelliahjtob54735', 'Angiekxbov11262', 'Ettaovgbm12247', 'Fanciegyffj22417',
                     'Celekojmb54695', 'Berthaejqcy04410', 'Luisabfyus90505', 'Cheryjqupa99392', 'Gateskwaog67352',
                     'Wylmagucqr66285', 'Lebbieslsfp81080', 'Honorntqpu16582', 'Ivyrnjvf36579', 'Ericaytjov79921',
                     'Celineyskwx29322', 'Roriziifm73585', 'Marjyqlbtq29372', 'Anyawedtq67119', 'Gillycowyd87743',
                     'Sherritrqny99463', 'Aurelzxokx82135', 'Jyotixhelk94249', 'Vanyaejuoe05797', 'Paulauwplt98657',
                     'Carlinhekmn98960', 'Angilhctrt23864', 'Vinniekucpd04418', 'Jewelkwcmj30023', 'Mercibmwib43499',
                     'Inessavkofh97523', 'Aileyevdrt00620', 'Herthaeuxmw10151', 'Effieispjd38172', 'Berthejxrvo75465',
                     'Liselvicb69773', 'Doecagdc59648', 'Tomiipirr16474', 'Casseynqvxc35165', 'Elliypwea01941',
                     'Charilslqzy60931', 'Bettivaabw62916', 'Amitieokloc41190', 'Ddenexlsoq33031', 'Wandiebzgnk11689',
                     'Erichaotzhq56254', 'Debbipvser40117', 'Lucieeeipn96322', 'Vickieoogfp37537', 'Fawniaicijg87181',
                     'Oneidapdvay72057', 'Gaelpasnn00365', 'Gloriamnftn68542', 'Tiffyhtymo71870', 'Alanaidrhj64502',
                     'Nanceetlkdc40210', 'Tillieftpcd42995', 'Brinyrwqwk49426', 'Ashialifrt84489', 'Dedetxqmo28190',
                     'Reawqcas42998', 'Britganli59028', 'Norazccov96474', 'Shalneuvyry71729', 'Jolenensdho33092',
                     'Vinniefwjeh95075', 'Aileyqjxjd74334', 'Kinnaeukjs87232', 'Nanceertrsr00514', 'Maxfwfrw90946',
                     'Brinaudbgo34216', 'Perlhcqub80596', 'Maryaqyqw98152', 'Ginnievxrdl05098', 'Tommykibsz57587',
                     'Odellehghlk22651', 'Kelseyvqyzy62525', 'Aureagoshn63904', 'Linzysrcat63181', 'Serenawhqkw25249',
                     'Kristaiisze68121', 'Pollyuceew71730', 'Wandaowaud90544', 'Jodyfhyto79743', 'Katyalrbk50707',
                     'Willowsmpwy88541', 'Audrejnevh31147', 'Pheliajinwq41619', 'Edinwjwkb48961', 'Kettitrraz27857',
                     'Angiluqgpg44854', 'Crystaptkmd82636', 'Galedzgni51810', 'Lolitaoepvd84234', 'Jemimaqfslm54281',
                     'Wynnyftaif14291', 'Doritalxrhm02891', 'Venitafwlqy28844', 'Jorriedhisb47131', 'Gustadkaiq06442',
                     'Arlynmjhpo79488', 'Kattitnrue69180', 'Orallankkfy53463', 'Zorineqlfyv32935', 'Blissekvncc69267',
                     'Rahalcgzdl08113', 'Lilithxtmrb63722', 'Tanhyadhaid27896', 'Penniepqaoc86029', 'Catheyiutr40431',
                     'Katizipra73685', 'Valeneqdvhh67610', 'Allenehhfdp81753', 'Dronapdyff73069', 'Dorieijtme53911',
                     'Codytqqmy26489', 'Lexyxeubx99508', 'Kipssgga69695', 'Caroleibuvj29586', 'Violebfyfu26809',
                     'Luelleysiyp53837', 'kfxafcet6434', 'mvyauujz9660', 'hvwxcahv7016', 'lyzh30hclo13', 'qbynjxit1214',
                     'xrtn68kxlr75', 'croe89bvix51', 'mbrpcpug2481', 'sbadlaai2731', 'losdwren8680', 'fkljmoas8895',
                     'qvoi18xvya75', 'sgtp79wpdi43', 'ruqf78msqd99', 'cicdmnse9010', 'wwyckhxm0087', 'pghr98pjlk70',
                     'joeh77lskm76', 'kucc06qajk33', 'jcovjttg2250', 'ddqc53gpzq15', 'flay08jtum36', 'bvzqzaoh0336',
                     'kxkvwdrc2928', 'dhoizxdr0628', 'pxcu92pmou07', 'apdj39jjgj31', 'grhr88kjox56', 'rrzz72pzte85',
                     'osegovps5643', 'vfpj24ntpg53', 'bcweyuiu3385', 'qfxatxyd7579', 'rkym81jcxu80', 'vhncfgji8030',
                     'mqqx96hxau34', 'pravjlyv5744', 'gsyr38cwuh21', 'xkmbqpat0590', 'ukdw46zuxl41', 'wezetmax0265',
                     'qugqbnsp9801', 'tseuamws8594', 'Janiceqdcym79724', 'Terzabkktk54434', 'Dorthygudrl68166',
                     'Randaglmfj28556', 'Janeyoswlc77410', 'Shelacsmrw97021', 'Kerrierpkvx96826', 'Nettiegubbj35290',
                     'Mairvitwl50001', 'Edithmpoum81584', 'Cybzmgos72450', 'Nadybkaqn99520', 'Minnatparh08548',
                     'Tobyeahbmd45093', 'Wylmaxjyfy29612', 'Candyikghy62269', 'Krissyootza15679', 'Abbeyivwbw74070',
                     'Lonnarydlu15175', 'Randyxwbmt91048', 'Denyseulxlw30854', 'Marnianzmqu59110', 'Hadrialxbij15456',
                     'Shariapqcsh16789', 'Priszonox34181', 'Nedaccnci39965', 'Sallyavqyv64404', 'Bertidefuf55111',
                     'Barbydzati37406', 'Andreiobord29608', 'Sonyanhwgv46290', 'Kelilaiyqwb66485', 'Glendadohdd54022',
                     'Astrixqddbk87534', 'Claryrwmzc80205', 'Jammieapxqe94126', 'Jonieygqtl78911', 'Bernirqdgp35111',
                     'Aidavmevf34025', 'Dredizcvzj56739', 'Malayjhdu98761', 'Zulemahmwye97913', 'Kippiejcyks45001',
                     'Elyseetubdd80617', 'Bobbiukddd54004', 'Jeweliqewv26653', 'Amyedwmnj70104', 'Maloryfxopi32019',
                     'Alfiuugfb11666', 'Tiffiyqank08414', 'Madgejgxgm07133', 'Garnetveanz92365', 'Kateyrqik97222',
                     'Vandajbaam42473', 'Claudegwzwq94053', 'Nonnahxdyow43514', 'Neliaomsnc82481', 'Sibleynscmo95202',
                     'Shalnaaqwxl91027', 'Tammiezjbey44748', 'Finauecia86843', 'Shantavwltz14122', 'Edythkeyun51732',
                     'Tiffietedyj74937', 'Sachaenzte68208', 'Lonnaovtin06489', 'Gwenrulhr96651', 'Zarlaqqqqg29939',
                     'Loiszwydj90736', 'Alycejvjke39676', 'Amyecwrbq97064', 'Basiashmkf11570', 'Ursadxigi91369',
                     'Lyndacogzn20364', 'Joeannjjywo46130', 'Catyhcats79996', 'Jotvwqa44347', 'Brynnesylqz70404',
                     'Blanchffifm83608', 'Taliazcteb24951', 'Desiriwvlkv58698', 'Paulybsktw98749', 'Dedebhhul60738',
                     'Nanciuktrb87786', 'Debcpjnf38312', 'Danitchtmu22013', 'Lelamcegj89174', 'Carreebfnye82952',
                     'Fawneeetts58703', 'Gillkmgcs79789', 'Cellelmfdr19778', 'Britnitdsav07723', 'Shellldjqa55063',
                     'Eranplyko93637', 'Bobbicboad54285', 'Carlenvfxhw54834', 'Peggiaunqv01596', 'Kylynntlxir98301',
                     'Maiseywgooy70563', 'Kizzievgsul90087', 'Daniuexgm88316', 'Rhettacsorj00219', 'Neddauhyig18826',
                     'Madliniwdvs64877', 'Zandracuaqt02235', 'Megvvnjh27074', 'Rhodiaoltho59371', 'Annicevng01126',
                     'Mabelrftyf91233', 'Gertixnbju16872', 'Kippyfogny99801', 'Bebeppqqy24025', 'Addikrtpi83225',
                     'Hyndaurgyv22758', 'Romonaefqxs98548', 'Shannateybt82750', 'Sunnyunrta96073', 'Lucyzdqpb88509',
                     'Vivaonotx49748', 'Shariaoonqd96772', 'Ilenepwyyi79442', 'Cathifionp62188', 'Marjiedhnxl04820',
                     'Shaniqjdzl37427', 'Odillevaitf99960', 'Catleektbrs77008', 'Edithearnun22580', 'Ruthefomhx15408',
                     'Liagtowq16770', 'Ddenevnfip29312', 'Mintyzdn28509', 'Catinabojny27791', 'Sonniedtlip78616',
                     'Shereensslv38796', 'Florisbgua59069', 'Dinanryyx43805', 'Lishexbxwq49003', 'Karlencszmc12202',
                     'Birdqvfwo15502', 'Mandyzastz64974', 'Agfspwi91438', 'Allistciao81750', 'Bunniekapzj97046',
                     'Cassikcidg77907', 'Ethelvwxhl80396', 'Pansyxpski17950', 'Belviatzzdq39487', 'Bonnidfieb66626',
                     'Brennbuyis68669', 'Kellenbzzzk57130', 'Denyseuadwb64646', 'Carmonkwxbg26392', 'Delilawoffq59290',
                     'Eydezzncd42009', 'Alietybub67919', 'Marlynskqek69479', 'Lannyicacj44633', 'Dashaijnya34139',
                     'Melonydwtad44677', 'Laneyqpkag54336', 'Claryqtrwu03075', 'Sachacpgte43014', 'Timmiecsqvo75255',
                     'Sekafoizl12430', 'Kassibhorl26000', 'Kimmiesubyn14854', 'Serenalxqod43525', 'Randiejnzhi89664',
                     'Mirannjbok77788', 'Tovepbjon96173', 'Dorisehxbbu61613', 'Edithahyoxw78374', 'Trixymhrar78570',
                     'Cordeypdlrn34582', 'Dynahxihnv61176', 'Austinwtvim79248', 'Brittepdpzl68850', 'Ivoryymfjt18068',
                     'Sianavhfyg23673', 'Catheenyzof59179', 'Zulemacmrnq87793', 'Aniatuhpc52141', 'Dollialmfv27048',
                     'Brittehfsza85170', 'Vikilqmqz29246', 'Barbyvskxf69808', 'Luckyvfndc77674', 'Cindafcdri01424',
                     'Correyswipj00957', 'Julibgnuu58681', 'Sonyatvpad54372', 'Laceyjsatf63147', 'Teddybhnpr21412',
                     'Lonniemprsl46510', 'Nicholcexfn28375', 'Colenehfxef96522', 'Cassybwuaa63239', 'Diannszteo98714',
                     'Gerriewkgtl22684', 'Lucitawotfw00320', 'Pruvldnn26077', 'Tiffykehcw15978', 'Ynesdlupd78029',
                     'Dorrisvwlby47586', 'Aprilhjqxz19703', 'Jandytseki35104', 'Yolanemwfgh99004', 'Diantepkj35942',
                     'Freddykoknz05367', 'Jeanmrxmd80186', 'Margixshyq01527', 'Hildynmkyg73916', 'Britshauu61280',
                     'Marnieqotqn33970', 'Mayxdlgf72071', 'Ellentwzn22583', 'Wynnieefjzm43287', 'Aubryrcrwj34917',
                     'Gracieankdy08376', 'Trixicvlvl10364', 'Wendycycne96517', 'Eilisijvut87027', 'Cammiepmxas08611',
                     'Gerrizjkmw23874', 'Theoncyiv20902', 'Claregdngw91573', 'Meagandgkdb07089', 'Prudyaqnsl84430',
                     'Brigidytazg22361', 'Fayujspb09843', 'Ivetteljdgp83045', 'Bertaeiusk64388', 'Aileykyxbz24846',
                     'Wynnyyxlen43781', 'Keriihqrz85287', 'Nanceemaavn70439', 'Tasiakmkri22342', 'Philisellmf07473',
                     'Orallesqnkf61096', 'Dardakvtat50015', 'Ailisjxuld55526', 'Maloryyrgph32517', 'Sibbykqmqx82340',
                     'Jemmiealmws32812', 'Mableipqcy67216', 'Kiahdcthy70912', 'Caljwkip67932', 'Dorislqvof73997',
                     'Metacijcc23181', 'Vonnyhmxvm08046', 'Shalnazhlcx28510', 'Dollyivbsg85762', 'Glynxhbqs65684',
                     'Estaiziwn21714', 'Krissycyhdn43564', 'Abbeyxtiyj23442', 'Tabbyjztqp80379', 'Roannecxvbu20680',
                     'Adriaifvdo23328', 'Dustyaobtr01908', 'Sheadqbpo17599', 'Jeriyinku91986', 'Pansyxzzee99682',
                     'Nolieutzpr89784', 'Dorenamrhdo55180', 'Kettyoogqx63326', 'Lilahkdczq20867', 'Ranavkibb91219',
                     'Vykysuhub42981', 'Deniceqrpwb74476', 'Floqojfh06844', 'Dollyhcxyj53630', 'Wilonawcitp64123',
                     'Violetvumhs13233', 'Nessierfbmc96045', 'Koosdkje56350', 'Perriorrfn93119', 'Chereynfglf08403',
                     'Gustahavdp62382', 'Farahhkssw15335', 'Faydraojnoj97741', 'Kendreqagtj61439', 'Marshaunokx27289',
                     'Fraydadxssk88635', 'Annicemrkoe86690', 'Nellewoxkt45070', 'Floriyopca02462', 'Lanitatjktx38982',
                     'Morenaeedjr94130', 'Jackiefptbo60040', 'Bettyumjfd06949', 'Mindystfir13601', 'Tabbieiwihz00934',
                     'Meirqpcj35517', 'Minnieldcrq79540', 'Opaljaimz60098', 'Ivetteiffsw31593', 'Eirenalhemi89776',
                     'Bebebdclv90144', 'Evaniadyddo11403', 'Elfieejavg56022', 'Ronnieverke94962', 'Bessxcmis23679',
                     'Reedhkhu70483', 'Jackywjawm5029', 'Gillwjmeh27769', 'Lillyldflg09609', 'Bebepeovx56932',
                     'Barbymxjxd63391', 'Ettaedlxt99635', 'Ellipvgmb11143', 'Nessieffjs57362', 'Talliefvmim64284',
                     'Gabieegvjf69842', 'Tandilosjw37844', 'Jammiezezsr51035', 'Hannidmuhm67527', 'Karlapqvpk12120',
                     'Denicejusgv05655', 'Lorenezepby49934', 'Janotepxmd21911', 'Leonannfdc29766', 'Paulacsvhw34493',
                     'Gipsyxapfj46236', 'Cristiobgrt36479', 'Midgebipir65534', 'Fanlaunq41945', 'Nickydqjhq92004',
                     'Trudimtkye62641', 'Anniekatjt85199', 'Erminasbmyp34086', 'Danirrhfg11990', 'Edithteaiw86954',
                     'Shawnaqkpys50986', 'Emmibcqww12284', 'Florarrsgb82007', 'Sharylwxxbi11328', 'Savinahyczr37211',
                     'Mabvacgn98699', 'Mabudhcr48452', 'Reagkqyx73643', 'Fredraumznz56795', 'Lanajjets27560',
                     'Barbeeieuyg70340', 'Ravenzskmu88313', 'Helsakaptt70746', 'Noniedwphf74216', 'Rhebaxvwig78758',
                     'Kaileywcgpn29681', 'Kimmninb09497', 'Nadyahnmci71577', 'Zarlaqfszg88076', 'Farahndari76197',
                     'Libbibnjky50057', 'Dorisenwmdh81122', 'Alleenjtmkk44669', 'Flofljwr51636', 'Cindrauvyrj99311',
                     'Petrallzcg23500', 'Wandaqmhqe50066', 'Fallonzmlai60821', 'Kelliexqpwq54090', 'Lizzyvxlfx39623',
                     'Devonwqsmp60879', 'Annierawdv45488', 'Dellafuiyo82454', 'Annoraulrhr35181', 'Glendayoopa67296',
                     'Lonnielkqtt86358', 'Sonjaacdzu60406', 'Vinitauqnex00812', 'Fleurhqlbp14596', 'Calofnvf10049',
                     'Deberaerexn68419', 'Opalcpkar71414', 'Tillievicpy59334', 'Ailaiuuzl95738', 'Reynavbqsf26128',
                     'Arethaabvdl32204', 'Isobelxjxwy69778', 'Jamimabngjn84480', 'Laceybkcrd99286', 'Dorryiekdf47465',
                     'Clairlrwdm42543', 'Loisetvzhm79666', 'Ronnieskenk79194', 'Lishajxcty84970', 'Zoraikrfq68867',
                     'Valezvfrj49168', 'Patsyiqirx62532', 'Teddyxuccf10716', 'Beliapdsai52305', 'Darladnejp91973',
                     'Cherinlccjc30357', 'Allysrwehk10594', 'Manyaiybvp22440', 'Arletawkkgc21135', 'Renataswpxc44919',
                     'Odellebperj55179', 'Gabbievzhsh07657', 'Dedraxomhc35138', 'Buffyykbwx67621', 'Gustygcopb12743',
                     'Vickyuskoc09709', 'Filialelew85505', 'Sellalbnuc42838', 'Leahscboc99707', 'Nattypcrij07701',
                     'Lorenadqnkn86568', 'Bennysglep63975', 'Piercphiw21147', 'Myrtaqyiij96426', 'Petraqdqdf19337',
                     'Lavenaleuec38949', 'Tineytahv92257', 'Rodidgxcp26792', 'Idadzdce79282', 'Adenakccqd77214',
                     'Myrlepihop44070', 'Mintasrvbt69048', 'Kelliadsrag54938', 'Ermafqkoa20165', 'Sherxtytc84151',
                     'Fainatugad69014', 'Amabelvffce53236', 'Eadawtylt63591', 'Deejfdlg25257', 'Cheriewqnho43302',
                     'Vickyhalsr86664', 'Joeyzxzgo05918', 'Amieudjhu49691', 'Lorainmjkpo97873', 'Harriezmhzk97863',
                     'Albinaxjdxb59270', 'Kristiokxrf75902', 'Ettiqzsch71687', 'Beliadkfic84806', 'Kimmiejgfhf19429',
                     'Dolleydkdbo61597', 'Bettyeebugp35668', 'Shantaorwor51728', 'Isisuindt28790', 'Eilisshikk80212',
                     'Tinapjcsw28356', 'Stormljxoy91394', 'Lorylatkn45878', 'Rozerjaxe98972', 'Stormvgfzp41372',
                     'Feykqqjs59912', 'Darbucrmo19964', 'Danahjbnw63393', 'Iritaxhoyv58203', 'Ashlirxggg16674',
                     'Quintahixgs78479', 'Stephaydngj92531', 'Litaoagil16321', 'Merlarnmik97193', 'Trennajoikq19395',
                     'Gretebklhp31106', 'Staceyhbvbk26923', 'Deefhfia78653', 'Breeksfrk65183', 'Raniceoawug68954',
                     'Brityobdm86528', 'Minniemnmqc61900', 'Periaohftm82905', 'Janieogdmn06126', 'Ianthebkcru47558',
                     'Oraliamndqm50122', 'Inanuogc86249', 'Brianaulbug09704', 'Paulinwdud79550', 'Gabiyydfw06239',
                     'Kathiwvwiu39791', 'Claraffdgb78863', 'Zariasnbhd46357', 'Dollietrxzy47303', 'Johnnamjvyr40012',
                     'Teddydluxd05386', 'Esmanpdji58376', 'Jobiaxplg79810', 'Ediexvmfz33793', 'Orallaigmpp19036',
                     'Pepitaphdzg27940', 'Tallygyhmq54882', 'Nertazfebf17040', 'Jolynklzuc89604', 'Lillisxgbls21175',
                     'Bobbeqtjfx22740', 'Aurorayybdr91685', 'Lissyqqlxf74679', 'Cleodesqc40772', 'Dyannenqarp05399',
                     'Prudygcjdt82586', 'Vandasaaat42410', 'Miranhgpby02188', 'Verinegkrql82238', 'Kaylawbdob66845',
                     'Austinbbqbo08877', 'Helenaawhvi68660', 'Gratanywar89109', 'Benniewobjp71558', 'Grierxhyfw02273',
                     'Tybixhvds86755', 'Brineyarqxc93928', 'Vannjzdn68502', 'Judyeahpeg40781', 'Stacinblis07294',
                     'Saramysoi89965', 'Rhodyhsirn79771', 'Nealausfei91899', 'Alizaqwczy51207', 'Jeanbdlok56847',
                     'Isaqnyxm62130', 'Ryannckohc83998', 'Dottucrc49504', 'Susannzsdwz11408', 'Winonaiifqi35948',
                     'Marthewsmsl50265', 'Olgakmeyb71833', 'Gabbiarwjd61114', 'Amitymzuor62052', 'Lindruleh15273',
                     'Celeshnrv13727', 'Bryanamtqkr13223', 'Irenarycjw67772', 'Dixotzwk51836', 'Coralpqwzl48848',
                     'Joannamhtvx78615', 'Beliaiftlk43395', 'Romonagqnjb16319', 'Gabbivlcve44528', 'Aileeetnby04841',
                     'Jadeqexlj44194', 'Mintavyuhm81049', 'Bobinaasngf27318', 'Linjtvqo88129', 'Sattiparms28254',
                     'Soulruid45474', 'Fultzburgs7801', 'Sidurkornn560', 'Kublyrufa2326', 'Lardelaria482',
                     'Barbekirst99403', 'Tabibnesti2399', 'Jettasynek3954', 'Catjapasho22703', 'Niniprol24015',
                     'Tanzhymes8464', 'Budayhalie71274', 'Gooldcaten6360', 'Dottsikpe5601', 'Glucksalud0521',
                     'Alysial7267', 'Barnbatho933', 'Mcvayzala34947', 'Kaurmizel872', 'Oxsenchuha8141', 'Wixsafo5439',
                     'Kotchseema4518', 'Ocambbubis72510', 'Tewsfun9247', 'Ciezacolom17371', 'Gazericho9122',
                     'Mindyroza5563', 'Rassirines18844', 'Stafffiene488', 'Slarkkolar6627', 'Gietlgunn5658',
                     'Danyieibl5616', 'Midtadhg03527', 'Paschgumby360'}
local RECEIVER_LIST = {'Klaranvwgf67781', 'Donnataouo69500', 'Ritapaekl93176', 'Noniedaiwt76299', 'Ailaethvj45696',
                       'Genatgpuk13199', 'Dulcyvrzkm97478', 'Sekaqgbjo28068', 'avfe50ymye98', 'xpcehzdz4865',
                       'Anicaokvdh20051', 'Priscavjeqt54826', 'Galewzdgw20864', 'Casieifdnc32391', 'Shelawqpoh44686',
                       'Sonjaumypg90636', 'gonkyvhg6799', 'thsfbtgo8102', 'Ardenenkbku99835', 'Vonnietpmjq90706',
                       'keuxofor6473', 'mwkcrwgh3367', 'Rosymuaxu55003', 'Nellieqqosj71604', 'zgdiyhfi1327',
                       'fhub78ykcq48', 'Fidelafndyb25677', 'Kevynrifcx45460', 'Anniemlpl60393', 'Faithbgkdl82924',
                       'Arlanasrlrb13725', 'Devoradrsll35385', 'Ranicezdakz62761', 'Amicvcoy64100', 'Angegynbq99829',
                       'Rakelnqkfj46829', 'Kathyblsmp16685', 'Alysiaqyfua91693', 'Amberfttun60205', 'Pietraowhve81183',
                       'Avivakvhzk89278', 'Rebecasdzbl59944', 'Dannilypvh36419', 'Fiannadrjsf71739', 'Blinnifmqvo75933',
                       'Lonauafja35920', 'lfjjfvaj7781', 'nsiviwpf4997', 'Amitienypjm98100', 'Vinniejlana22067',
                       'Maggydcfnl80226', 'Randieairdn46333', 'Agirrkc08952', 'Rhebatjege80989', 'Edebiqcz63454',
                       'Mollxptyx14238', 'Heddikuolf84502', 'Roisqjnpc62192', 'Peggyzgvsz30800', 'Ericharrkfc98240',
                       'Ilkawtckd36078', 'Arlenabupts45604', 'Fawniakeuap64869', 'Calleyykeck59003', 'Aileenxlock40504',
                       'Blancaitsud34896', 'Aprilaefac44168', 'Barbixujqw40738', 'Maddysfsao94676', 'Hedwigqzlwg90886',
                       'Ilsaekitk12023', 'Carolakcsfc86207', 'Guslpthm58728', 'Amatalvdde71598', 'lajehohg4473',
                       'yqur70chsf59', 'Dulcipkezh85597', 'Debbidtiij14346', 'Mernazmicn32557', 'Amidapsp91884',
                       'Selaphdii75299', 'Lexyabuqd13828', 'Lottatbwoz12242', 'Elliqylri52812', 'Mandiwhemn50291',
                       'Dixrpzra01458', 'Judithygcoq19252', 'Marjxvdyj97100', 'Ardeneruxza31559', 'Frankbntko89456',
                       'Carogdxju35934', 'Camiemysh22939', 'Abbeyfxbbm94200', 'Bertecjqmk73035', 'Gretejbege54307',
                       'Gledauahkm82786', 'Daffyahzai19479', 'Farralargl91982', 'Lyndellkacb15522', 'Inatzhvr70351',
                       'Daeltvjhe72046', 'Netticzdll97121', 'Fleurrpece74228', 'Mellieufron26696'}

-- ตัวแปรสำหรับการทำงาน
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GuiService = game:GetService("GuiService")
local VirtualInputManager = game:GetService("VirtualInputManager")

-- ตัวแปรสำหรับ tracking
local currentStep = 0
local currentStepReceiver = 0 -- ตัวแปรแยกสำหรับ receiver mode
local isTrading = false
local tradePartner = nil

-- ตัวแปรสำหรับตรวจสอบสถานะการเพิ่มไอเทม
local shroomAdded = false
local tokenAdded = false
local creatureAdded = false

-- ตัวแปรควบคุมการเรียก remote (ป้องกันการเรียกซ้อน)
local isRemoteBusy = false
local lastRemoteCallTime = 0

-- ตัวแปรสำหรับ state-based tracking (เพิ่มใหม่)
local receiverCreatureStartTime = 0
local receiverCreatureRequested = false
local receiverAcceptStartTime = 0
local receiverAcceptRequested = false

-- ตัวแปรสำหรับ receiver timeout (เพิ่มใหม่)
local lastTradeRequestTime = tick()
local RECEIVER_TIMEOUT = 300 -- 5 นาที (300 วินาที)

-- ตัวแปรสำหรับ sender state-based tracking
local senderShroomStartTime = 0
local senderShroomRequested = false
local senderTokenStartTime = 0
local senderTokenRequested = false
local senderCreatureStartTime = 0
local senderCreatureRequested = false
local senderAcceptStartTime = 0
local senderAcceptRequested = false

-- ตัวแปรป้องกันการทำงานพร้อมกัน
local isSenderMainActive = false
local isSenderReceiverActive = false

-- ตัวแปรสำหรับ timeout การรอเริ่มเทรดหลังส่งคำขอหา receiver
local SENDER_REQUEST_TIMEOUT = 200 -- วินาที
local lastSentTargetName = nil
local lastSentTargetIsReceiver = false
local lastSentTime = 0

-- ฟังก์ชันช่วยเหลือ
local function IsInList(name, list)
    for _, listName in ipairs(list) do
        if name == listName then
            return true
        end
    end
    return false
end

local function Clicked_Ui(path)
    local success, error = pcall(function()
        GuiService.SelectedObject = path
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการเลือก UI: " .. tostring(error))
    end
end

local function Click_NOW()
    local success, error = pcall(function()
        VirtualInputManager:SendKeyEvent(true, 13, false, game)
        wait(0.1)
        VirtualInputManager:SendKeyEvent(false, 13, false, game)
        task.wait(2)
        Clicked_Ui(nil)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกดปุ่ม: " .. tostring(error))
    end
end

-- ฟังก์ชันวาร์ปไปยังตำแหน่งที่กำหนด
local function WarpToLocation()
    local success, error = pcall(function()
        local character = LocalPlayer.Character
        if character then
            character:PivotTo(CFrame.new(Vector3.new(-2132.24, 490.66, 1106.83)))
            print("✅ วาร์ปไปยังตำแหน่งที่กำหนดแล้ว")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการวาร์ป: " .. tostring(error))
    end
end

-- ฟังก์ชันหาคู่เทรดที่ว่าง
local function FindValidReceiver()
    local result = nil
    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            return nil
        end
        
        print("🔍 กำลังค้นหาคู่เทรดที่ว่าง...")

        -- ค้นหา receiver ที่ว่าง
        local validReceivers = {}
        local getPlayersSuccess = pcall(function()
            for _, player in pairs(Players:GetPlayers()) do
                if IsInList(player.Name, RECEIVER_LIST) then
                    local isAvailable = false
                    local tradingValue = nil
                    local checkSuccess = pcall(function()
                        if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                            tradingValue = player.Settings.Trading.Value
                            isAvailable = (tradingValue == false)
                        else
                            isAvailable = true
                            tradingValue = "unknown"
                        end
                    end)

                    if not checkSuccess then
                        print(
                            "⚠️ เกิดข้อผิดพลาดในการเช็คสถานะ " ..
                                player.Name .. " สมมติว่าว่าง...")
                        isAvailable = true
                        tradingValue = "error"
                    end

                    if isAvailable then
                        print("✅ พบ receiver ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                                  tostring(tradingValue) .. ")")
                        table.insert(validReceivers, player)
                    else
                        print("❌ Receiver " .. player.Name ..
                                  " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) ..
                                  ")")
                    end
                end
            end
        end)

        if not getPlayersSuccess then
            print(
                "❌ เกิดข้อผิดพลาดในการดึงรายชื่อผู้เล่น")
            return nil
        end

        -- ถ้ามี receiver ว่าง ให้เลือกหนึ่งคน
        if #validReceivers > 0 then
            local selected = validReceivers[math.random(1, #validReceivers)]
            print("🎯 เลือก receiver: " .. selected.Name)
            result = selected
            return
        end

        -- ถ้าไม่มี receiver ว่าง ให้ค้นหา sender อื่นที่ว่าง
        print("ไม่มี receiver ว่าง กำลังค้นหา sender อื่น...")
        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    tradingValue = player.Settings.Trading.Value
                    isAvailable = (tradingValue == false)
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print(
                        "❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " ..
                            tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender เพื่อเทรดด้วย: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบคู่เทรดที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindValidReceiver: " ..
                 tostring(error))
    end
    return result
end

-- ฟังก์ชันส่ง trade request
local function SendTradeRequest(receiverName)
    local success, error = pcall(function()
        local args = {"SendRequest", game:GetService("Players"):WaitForChild(receiverName)}
        game:GetService("Players").LocalPlayer:WaitForChild("Remotes"):WaitForChild("TradeRequestRemote"):FireServer(
            unpack(args))
        print("📤 ส่ง trade request ไปยัง " .. receiverName)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการส่ง trade request: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันหาผู้เล่น sender ที่ว่าง (ค้นหาเฉพาะ sender)
local function FindAvailableSender()
    local result = nil
    local success, error = pcall(function()
        print("🔍 กำลังค้นหา sender ที่ว่าง...")

        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                        tradingValue = player.Settings.Trading.Value
                        isAvailable = (tradingValue == false)
                    else
                        isAvailable = true
                        tradingValue = "unknown"
                    end
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " .. tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print("❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบ sender ที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindAvailableSender: " .. tostring(error))
    end
    return result
end

-- ฟังก์ชัน add shroom
local function AddShroom()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่สามารถเพิ่ม shroom ได้")
            return false
        end
        
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub("@", "")
        local localPlayerName = LocalPlayer.Name

        local amount = coinsValue - 20
        if amount > 500000 then
            amount = 500000
        end
        if amount < 0 then
            amount = 0
        end

        local args = {"AddTradeItem", {
            Overwrite = true,
            ItemType = "Currency",
            Name = "Shooms",
            Amount = amount
        }}

        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ถูกปิดระหว่าง AddShroom, reset currentStep")
            currentStep = 0
            return false
        end

        local remote1Name = localPlayerName .. "-" .. opponentName .. "TradeRemote"
        local remote1 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote1Name)
        if not remote1 then
            print("❌ ไม่พบ remote1: " .. tostring(remote1Name))
            currentStep = 0
            return false
        end
        remote1:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote1...")
        wait(3)

        local remote2Name = opponentName .. "-" .. localPlayerName .. "TradeRemote"
        local remote2 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote2Name)
        if not remote2 then
            print("❌ ไม่พบ remote2: " .. tostring(remote2Name))
            currentStep = 0
            return false
        end
        remote2:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote2...")
        wait(3)

        print("✅ เพิ่ม " .. amount .. " Shrooms ในการเทรดกับ " .. opponentName)
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddShroom: " ..
                 tostring(error))
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add token
local function AddToken()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local tokenList = {'ChangeCreatureColorsToken', 'CreatureReviveToken', 'FullGrowToken', 'PartialGrowToken',
                       'FreeSpinToken', 'RandomStoredCreatureToken','DeathGachaToken'}

    local success, error = pcall(function()
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub('@', '')
        local localPlayerName = LocalPlayer.Name

        -- ตั้งค่า remote กำลังใช้งาน
        isRemoteBusy = true

        for i, tokenName in ipairs(tokenList) do
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("❌ TradeGui ถูกปิดระหว่าง AddToken, reset currentStep")
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Tokens',
                Name = tokenName,
                Amount = 150
            }}

            local remoteName = localPlayerName .. '-' .. opponentName .. 'TradeRemote'
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print("📤 กำลังเพิ่ม " .. tokenName .. " (" .. i .. "/" .. #tokenList .. ")...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn(
                    "❌ เกิดข้อผิดพลาดในการเรียก remote สำหรับ " ..
                        tokenName .. ": " .. tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print('✅ เพิ่ม ' .. tokenName .. ' ในการเทรดกับ ' .. opponentName)

            -- รอ 3 วินาทีหลังใช้ remote
            print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ " .. tokenName ..
                      "...")
            wait(3)
        end

        -- ปลดล็อค remote
        isRemoteBusy = false
        print('✅ เพิ่ม token ทั้งหมดเสร็จสิ้น')
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddToken: " ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature สำหรับ Receiver แบบปลอดภัย
local function AddCreatureReceiver()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                    currentStepReceiver = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStepReceiver = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStepReceiver = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            local remotes = ReplicatedStorage:FindFirstChild('Remotes')
            if not remotes then
                print('❌ ไม่พบ Remotes folder')
                currentStepReceiver = 0
                return false
            end

            local remote = remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStepReceiver = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                currentStepReceiver = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStepReceiver = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStepReceiver = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreatureReceiver: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStepReceiver = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature
local function AddCreature(isReceiver)
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                    currentStep = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStep = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStep = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName
            if isReceiver then
                remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            else
                remoteName = LocalPlayer.Name .. '-' .. otherPlayerName .. 'TradeRemote'
            end
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStep = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                currentStep = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStep = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreature: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชันกด accept สำหรับ Receiver แบบปลอดภัย
local function ClickAcceptReceiver()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
        if not tradeGui then
            print("❌ ไม่พบ TradeGui")
            return false
        end

        local containerFrame = tradeGui:FindFirstChild("ContainerFrame")
        if not containerFrame then
            print("❌ ไม่พบ ContainerFrame")
            return false
        end

        local acceptButton = containerFrame:FindFirstChild("AcceptButton")
        if not acceptButton then
            print("❌ ไม่พบ AcceptButton")
            return false
        end

        local upperLabel = acceptButton:FindFirstChild("UpperLabel")
        if not upperLabel then
            print("❌ ไม่พบ UpperLabel")
            return false
        end

        Clicked_Ui(upperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด accept
local function ClickAccept()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.AcceptButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด cancel
local function ClickCancel()
    local success, error = pcall(function()
        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.CancelButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("❌ ยกเลิกการเทรด")
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด cancel: " .. tostring(error))
    end
end

-- ฟังก์ชันเช็คชื่อคู่เทรด
local function CheckTradePartner()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            return false
        end

        local theirLabel = LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel
        if not theirLabel or not theirLabel.Text then
            return false
        end

        local opponentName = theirLabel.Text:gsub("@", "")

        -- เช็คว่าชื่อตรงกับในรายชื่อหรือไม่
        if IsInList(opponentName, RECEIVER_LIST) or IsInList(opponentName, SENDER_LIST) then
            print("✅ ชื่อคู่เทรดถูกต้อง: " .. opponentName)
            return true
        else
            print("❌ ชื่อคู่เทรดไม่ตรงกับรายชื่อ: " ..
                      opponentName)
            ClickCancel()
            return false
        end
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการเช็คชื่อคู่เทรด: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Sender
local function AcceptTradeRequestForSender()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    -- Sender สามารถรับ trade request จาก sender อื่นได้
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Sender พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                -- Sender สามารถรับ trade request จาก sender อื่นได้
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Sender พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Sender: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver แบบปลอดภัย
local function AcceptTradeRequestReceiver()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver
local function AcceptTradeRequest()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน Coroutine สำหรับ Sender ที่รับ trade request
local function SenderReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) SenderReceiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                -- รอ trade request
                AcceptTradeRequestForSender()

                -- ตรวจสอบ timeout สำหรับ Sender ที่ทำงานแบบ Receiver (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Sender (Receiver mode) ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print(
                            "⏰ Sender (Receiver mode) รอ trade request... เหลือเวลาอีก " ..
                                string.format("%.0f", timeRemaining) ..
                                " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                isSenderReceiverActive = false
                wait(2)
            else
                -- กำลังเทรดอยู่ (เมื่อเป็น receiver)
                -- ตรวจสอบว่ามี trade request หรือไม่
                local hasTradeRequest = false
                local requestsFrame = LocalPlayer.PlayerGui.RequestsGui.RequestsFrame.Other
                if requestsFrame then
                    for _, child in pairs(requestsFrame:GetChildren()) do
                        if string.find(child.Name, "^Trade") then
                            hasTradeRequest = true
                            break
                        end
                    end
                end

                -- ถ้ามี trade request ให้ override main sender
                if hasTradeRequest then
                    print("📩 พบ trade request กำลัง override Main Sender...")
                    isSenderMainActive = false
                end

                -- ตรวจสอบว่า main sender loop กำลังทำงานอยู่หรือไม่
                if isSenderMainActive then
                    print(
                        "⏸️ Main Sender กำลังทำงานอยู่ SenderReceiver รอสักครู่...")
                    wait(1)
                    return
                end

                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        isSenderReceiverActive = true
                        currentStepReceiver = 1
                        print(
                            "🚀 Sender เริ่มขั้นตอนที่ 1: Add Creature (โหมด Receiver)")
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 เริ่ม Add Creature...")
                            -- เริ่มทำ AddCreature แบบไม่รอผลลัพธ์
                            spawn(function()
                                AddCreature(true)
                            end)
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()
                            print("⏳ รอให้ Add Creature เสร็จ...")
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 5 then
                            currentStepReceiver = 2
                            print(
                                "   Sender เริ่มขั้นตอนที่ 2: Click Accept (โหมด Receiver)")
                        else
                            print("⏳ รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking
                    if not receiverAcceptRequested then
                        print("🚀 เริ่ม Click Accept...")
                        -- เริ่มทำ ClickAccept แบบไม่รอผลลัพธ์
                        spawn(function()
                            ClickAccept()
                        end)
                        receiverAcceptRequested = true
                        receiverAcceptStartTime = tick()
                        print("⏳ รอให้ Click Accept เสร็จ...")
                    else
                        -- ตรวจสอบว่าผ่านไป 3 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 3 then
                            currentStepReceiver = 0
                            print("✅ Sender เทรดเสร็จสิ้น (โหมด Receiver)")
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                            isSenderReceiverActive = false
                        else
                            print("⏳ รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 3 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน SenderReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            isSenderReceiverActive = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

function TradeStepHandlerSender(step)
    if not LocalPlayer.PlayerGui.TradeGui.Enabled then
        -- ยังไม่ได้เทรด
        if step ~= 0 then
            print(
                "Trade ถูกยกเลิกหรือจบกลางคัน กำลัง reset step...")
            -- รีเซ็ตสถานะการเพิ่มไอเทม
            shroomAdded = false
            tokenAdded = false
            creatureAdded = false
            -- รีเซ็ตสถานะ sender tracking
            senderShroomStartTime = 0
            senderShroomRequested = false
            senderTokenStartTime = 0
            senderTokenRequested = false
            senderCreatureStartTime = 0
            senderCreatureRequested = false
            senderAcceptStartTime = 0
            senderAcceptRequested = false
            isSenderMainActive = false
            -- รีเซ็ตสถานะการส่งคำขอค้าง
            lastSentTargetName = nil
            lastSentTargetIsReceiver = false
            lastSentTime = 0
            step = 0
        end

        -- ตรวจสอบว่า SenderReceiver กำลังทำงานอยู่หรือไม่
        if isSenderReceiverActive then
            print(
                "⏸️ SenderReceiver กำลังทำงานอยู่ Main Sender รอสักครู่...")
            return 0
        end

        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            -- ถ้า coins ไม่เพียงพอ ให้ปลดล็อค main sender และรอ
            isSenderMainActive = false
            wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
        else
            -- ถ้าส่งหา receiver ค้างไว้นานเกินกำหนด ให้ลองหา sender ที่ว่างแทน
            if lastSentTargetIsReceiver and lastSentTime > 0 then
                local elapsed = tick() - lastSentTime
                if elapsed >= SENDER_REQUEST_TIMEOUT then
                    print("⚠️ รอเริ่มเทรดกับ receiver (" .. tostring(lastSentTargetName) .. ") นานเกิน " .. SENDER_REQUEST_TIMEOUT .. " วินาที กำลังหา sender แทน...")
                    local fallbackSender = FindAvailableSender()
                    if fallbackSender then
                        SendTradeRequest(fallbackSender.Name)
                        lastSentTargetName = fallbackSender.Name
                        lastSentTargetIsReceiver = false
                        lastSentTime = tick()
                        return 0
                    else
                        -- ปรับเวลาเพื่อหลีกเลี่ยงการ spam ตรวจซ้ำทันที
                        lastSentTime = tick()
                    end
                end
            end

            local validPartner = FindValidReceiver()
            if validPartner then
                SendTradeRequest(validPartner.Name)
                -- บันทึกสถานะเป้าหมายล่าสุดที่ส่งคำขอ
                lastSentTargetName = validPartner.Name
                lastSentTargetIsReceiver = IsInList(validPartner.Name, RECEIVER_LIST)
                lastSentTime = tick()
            else
                -- ถ้าไม่มี partner ให้ปลดล็อค main sender
                isSenderMainActive = false
            end
        end
        return 0 -- reset step
    else
        -- กำลังเทรดอยู่
        -- เคลียร์สถานะการส่งคำขอค้างเมื่อเข้าสู่หน้าต่าง Trade จริง
        lastSentTargetName = nil
        lastSentTargetIsReceiver = false
        lastSentTime = 0
        if step == 0 then
            if CheckTradePartner() then
                print("🚀 เริ่มขั้นตอนที่ 1: Add Shroom")
                -- รีเซ็ตสถานะการเพิ่มไอเทมเมื่อเริ่มเทรดใหม่
                shroomAdded = false
                tokenAdded = false
                creatureAdded = false
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                return 1
            end
        elseif step == 1 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddShroom, reset step")
                return 0
            end
            -- Add Shroom - ใช้ state-based tracking
            if not senderShroomRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 1
                else
                    print("🚀 เริ่ม Add Shroom...")
                    senderShroomRequested = true
                    senderShroomStartTime = tick()
                    isSenderMainActive = true -- ตั้ง active เมื่อเริ่มเทรดจริง
                    -- เรียก AddShroom แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Shroom เสร็จ...")
                    local shroomSuccess = AddShroom()
                    if shroomSuccess then
                        shroomAdded = true
                        print("✅ Add Shroom เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 2: Add Token")
                        return 2
                    else
                        print("❌ Add Shroom ล้มเหลว")
                        senderShroomRequested = false
                        isSenderMainActive = false
                        return 0
                    end
                end
            else
                -- ถ้า shroom ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderShroomStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Shroom ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                    shroomAdded = true
                    return 2
                else
                    print("⏳ รอ Add Shroom เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 1
                end
            end
        elseif step == 2 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddToken, reset step")
                return 0
            end
            -- Add Token - ใช้ state-based tracking
            if not senderTokenRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 2
                else
                    print("🚀 เริ่ม Add Token...")
                    senderTokenRequested = true
                    senderTokenStartTime = tick()
                    -- เรียก AddToken แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Token เสร็จ...")
                    local tokenSuccess = AddToken()
                    if tokenSuccess then
                        tokenAdded = true
                        print("✅ Add Token เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 3: Add Creature")
                        return 3
                    else
                        print("❌ Add Token ล้มเหลว")
                        senderTokenRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า token ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderTokenStartTime
                if elapsedTime >= 30 then
                    print(
                        "⚠️ Add Token ใช้เวลานานเกินไป กำลังข้ามไป step 3")
                    tokenAdded = true
                    return 3
                else
                    print("⏳ รอ Add Token เสร็จ... (" .. string.format("%.1f", 30 - elapsedTime) ..
                              " วินาที)")
                    return 2
                end
            end
        elseif step == 3 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddCreature, reset step")
                return 0
            end
            -- Add Creature - ใช้ state-based tracking
            if not senderCreatureRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 3
                else
                    print("🚀 เริ่ม Add Creature...")
                    senderCreatureRequested = true
                    senderCreatureStartTime = tick()
                    -- เรียก AddCreature แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Creature เสร็จ...")
                    local creatureSuccess = AddCreature(false)
                    if creatureSuccess then
                        creatureAdded = true
                        print("✅ Add Creature เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 4: Click Accept")
                        return 4
                    else
                        print("❌ Add Creature ล้มเหลว")
                        senderCreatureRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า creature ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderCreatureStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 4")
                    creatureAdded = true
                    return 4
                else
                    print("⏳ รอ Add Creature เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 3
                end
            end
        elseif step == 4 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง ClickAccept, reset step")
                return 0
            end
            -- Click Accept - ใช้ state-based tracking
            if not senderAcceptRequested then
                -- ตรวจสอบว่าทุกขั้นตอนเสร็จสิ้นแล้ว
                if shroomAdded and tokenAdded and creatureAdded then
                    print("🔍 ตรวจสอบสถานะ: Shroom=" .. tostring(shroomAdded) .. ", Token=" ..
                              tostring(tokenAdded) .. ", Creature=" .. tostring(creatureAdded))

                    -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                    if isRemoteBusy then
                        print(
                            "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                        return 4 -- ยังคงอยู่ใน step 4
                    end
                    print("🚀 เริ่ม Click Accept...")
                    senderAcceptRequested = true
                    senderAcceptStartTime = tick()
                    -- เรียก ClickAccept แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Click Accept เสร็จ...")
                    local acceptSuccess = ClickAccept()
                    if acceptSuccess then
                        print("✅ เทรดเสร็จสิ้น")
                        -- รีเซ็ตสถานะการเพิ่มไอเทม
                        shroomAdded = false
                        tokenAdded = false
                        creatureAdded = false
                        -- รีเซ็ตสถานะ sender tracking
                        senderShroomStartTime = 0
                        senderShroomRequested = false
                        senderTokenStartTime = 0
                        senderTokenRequested = false
                        senderCreatureStartTime = 0
                        senderCreatureRequested = false
                        senderAcceptStartTime = 0
                        senderAcceptRequested = false
                        isSenderMainActive = false
                        return 0
                    else
                        print("❌ Click Accept ล้มเหลว")
                        senderAcceptRequested = false
                        return 0
                    end
                else
                    print(
                        "⚠️ ยังมีขั้นตอนที่ยังไม่เสร็จ: Shroom=" ..
                            tostring(shroomAdded) .. ", Token=" .. tostring(tokenAdded) .. ", Creature=" ..
                            tostring(creatureAdded))
                    -- กลับไปทำขั้นตอนที่ยังไม่เสร็จ
                    if not shroomAdded then
                        print("🔄 กลับไปทำ Add Shroom")
                        return 1
                    elseif not tokenAdded then
                        print("🔄 กลับไปทำ Add Token")
                        return 2
                    elseif not creatureAdded then
                        print("🔄 กลับไปทำ Add Creature")
                        return 3
                    end
                end
            else
                -- ถ้า accept ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderAcceptStartTime
                if elapsedTime >= 5 then
                    print(
                        "⚠️ Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                    print("✅ เทรดเสร็จสิ้น")
                    -- รีเซ็ตสถานะการเพิ่มไอเทม
                    shroomAdded = false
                    tokenAdded = false
                    creatureAdded = false
                    -- รีเซ็ตสถานะ sender tracking
                    senderShroomStartTime = 0
                    senderShroomRequested = false
                    senderTokenStartTime = 0
                    senderTokenRequested = false
                    senderCreatureStartTime = 0
                    senderCreatureRequested = false
                    senderAcceptStartTime = 0
                    senderAcceptRequested = false
                    isSenderMainActive = false
                    return 0
                else
                    print("⏳ รอ Click Accept เสร็จ... (" .. string.format("%.1f", 5 - elapsedTime) ..
                              " วินาที)")
                    return 4
                end
            end
        end
    end
    return step
end

-- เรียกใช้งานแบบ timer (ทุก 1 วินาที)
local function StartSenderStepLoop()
    spawn(function()
        while true do
            local success, err = pcall(function()
                local previousStep = currentStep
                currentStep = TradeStepHandlerSender(currentStep)

                -- ถ้า step เปลี่ยน แสดงว่าขั้นตอนเสร็จแล้ว
                if previousStep ~= currentStep then
                    print("🔄 ขั้นตอนเปลี่ยนจาก " .. previousStep ..
                              " เป็น " .. currentStep)
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน TradeStepHandlerSender: " .. tostring(err))
                currentStep = 0
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                isSenderMainActive = false
            end

            -- รอ 1 วินาทีแล้ววนใหม่
            wait(1)
        end
    end)
end

-- Coroutine สำหรับ Receiver แบบปลอดภัย
local function ReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) Receiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            -- ตรวจสอบ TradeGui อย่างปลอดภัย
            local tradeGuiEnabled = false
            local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
            if tradeGui then
                tradeGuiEnabled = tradeGui.Enabled
            end

            if not tradeGuiEnabled then
                -- รอ trade request
                AcceptTradeRequestReceiver()

                -- ตรวจสอบ timeout (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Receiver ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print("⏰ Receiver รอ trade request... เหลือเวลาอีก " ..
                                  string.format("%.0f", timeRemaining) ..
                                  " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                wait(2)
            else
                -- กำลังเทรดอยู่
                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        currentStepReceiver = 1
                        print("🚀 Receiver เริ่มขั้นตอนที่ 1: Add Creature")
                        -- รีเซ็ตสถานะก่อนเริ่มใหม่
                        receiverCreatureStartTime = 0
                        receiverCreatureRequested = false
                        receiverAcceptStartTime = 0
                        receiverAcceptRequested = false
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Receiver: Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Add Creature...")
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()

                            -- เรียก AddCreatureReceiver แบบ synchronous พร้อม error handling
                            local creatureSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                creatureSuccess = AddCreatureReceiver()
                            end)

                            if attemptSuccess and creatureSuccess then
                                print("✅ Receiver Add Creature เสร็จสิ้น")
                                currentStepReceiver = 2
                                print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                            else
                                warn("❌ Receiver Add Creature ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverCreatureRequested = false
                                receiverCreatureStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 10 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 10 then
                            print(
                                "⚠️ Receiver Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                            currentStepReceiver = 2
                            print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                        else
                            print("⏳ Receiver รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 10 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverAcceptRequested then
                        -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⚠️ Receiver: Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Click Accept...")
                            receiverAcceptRequested = true
                            receiverAcceptStartTime = tick()

                            -- เรียก ClickAcceptReceiver แบบ synchronous พร้อม error handling
                            local acceptSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                acceptSuccess = ClickAcceptReceiver()
                            end)

                            if attemptSuccess and acceptSuccess then
                                print("✅ Receiver เทรดเสร็จสิ้น")
                                currentStepReceiver = 0
                                -- รีเซ็ตสถานะ
                                receiverCreatureStartTime = 0
                                receiverCreatureRequested = false
                                receiverAcceptStartTime = 0
                                receiverAcceptRequested = false
                            else
                                warn("❌ Receiver Click Accept ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverAcceptRequested = false
                                receiverAcceptStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 5 then
                            print(
                                "⚠️ Receiver Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                            print("✅ Receiver เทรดเสร็จสิ้น")
                            currentStepReceiver = 0
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                        else
                            print("⏳ Receiver รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน ReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

-- Coroutine ปิดหน้าต่าง CreatureInventoryFrame อัตโนมัติ (ทำงานเบื้องหลังตลอดเวลา)
local function InventoryCloserCoroutine()
    spawn(function()
        while true do
            local success, error = pcall(function()
                local playerGui = LocalPlayer and LocalPlayer.PlayerGui
                if not playerGui then return end

                local tradeHudGui = playerGui:FindFirstChild("TradeHUDGui")
                if not tradeHudGui then return end

                local bottomFrame = tradeHudGui:FindFirstChild("BottomFrame")
                if not bottomFrame then return end

                local creatureInventoryFrame = bottomFrame:FindFirstChild("CreatureInventoryFrame")
                if not creatureInventoryFrame then return end

                if creatureInventoryFrame.Visible == true then
                    local closeButton = creatureInventoryFrame:FindFirstChild("CloseButton")
                    local upperLabel = closeButton and closeButton:FindFirstChild("UpperLabel")
                    if upperLabel then
                        local safetyCounter = 0
                        while creatureInventoryFrame.Visible == true and safetyCounter < 30 do
                            Clicked_Ui(upperLabel)
                            task.wait(0.1)
                            Click_NOW()
                            task.wait(0.2)
                            safetyCounter = safetyCounter + 1
                        end
                    end
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน InventoryCloserCoroutine: " .. tostring(error))
            end
            wait(0.5)
        end
    end)
end

-- ฟังก์ชันหลัก
local function Main()
    local success, error = pcall(function()
        print("🎮 เริ่มต้นสคริปต์ Trade")

        -- วาร์ปไปยังตำแหน่งที่กำหนด
        WarpToLocation()

        -- เริ่ม coroutine ปิด CreatureInventoryFrame อัตโนมัติ
        InventoryCloserCoroutine()

        -- ตรวจสอบว่าเป็น Sender หรือ Receiver
        local isSender = IsInList(LocalPlayer.Name, SENDER_LIST)
        local isReceiver = IsInList(LocalPlayer.Name, RECEIVER_LIST)

        if isSender then
            print("👤 ทำงานในโหมด Sender")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ sender (สำหรับโหมด receiver) (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            StartSenderStepLoop()
            -- เพิ่มการทำงานแบบ Receiver สำหรับ Sender
            coroutine.wrap(SenderReceiverCoroutine)()
        elseif isReceiver then
            print("👤 ทำงานในโหมด Receiver")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ receiver (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            coroutine.wrap(ReceiverCoroutine)()
        else
            print("❌ ชื่อผู้เล่นไม่ตรงกับรายชื่อใดๆ")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชันหลัก: " ..
                 tostring(error))
        -- ลองรันใหม่หลังจาก 10 วินาที
        wait(10)
        Main()
    end
end

-- เริ่มต้นสคริปต์
Main()
