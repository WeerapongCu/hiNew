-- ตัวแปรสำหรับรายชื่อผู้เล่น
local SENDER_LIST = {'Hattixqvnm24371', 'Theoaroal68343', 'Ruthhezdg20878', 'Karlenwjifr84591', 'Avivaqirxb38709',
                     'Alexishyyg64830', 'Madaqrpsc69492', 'Sonnimzklt59972', 'Caresaaxzzl99333', 'Sherjwjgp68103',
                     'Myrnaldcra85959', 'Joicebuvnj52048', 'Grettaeasle55509', 'Deanedxhuz15092', 'Mellyvsuim33984',
                     'Ardeenaeuft82712', 'Celiaplfds71090', 'Cordiejkiuu88080', 'Alviraxvsfc85402', 'Dorrietdybo68485',
                     'Kerrietpmzv50032', 'Dulcygjotr16510', 'Willimasxa31653', 'Shellixlsno43159', 'Bertesuyhi28936',
                     'Ranikdkpj88394', 'Gabbietfiiy79221', 'Deborsriaf17538', 'Billytruhm87505', 'Goldagvsxy95641',
                     'Liviauipsd89866', 'Caradubbw77798', 'Senaygder84172', 'Shanehufqt90310', 'Vanicwdo37885',
                     'Flssgfudy17719', 'Daffiezazoh11316', 'Belurnpl32995', 'Lorinezfzfb77916', 'Dianekfiwn03198',
                     'Pammijbhra92490', 'Rosinablizw84573', 'Jilliezjysl71434', 'Kooptpka68351', 'Trudylfgkq24132',
                     'Timmizxndl42764', 'Vinniiilir33212', 'Joseezfbrz76511', 'Beakvbpo82333', 'Addiyfugs13864',
                     'Barbyhddnz38657', 'Rosembqro12802', 'Milziebzonk98830', 'Patsyhutra71696', 'Vanhlnct64535',
                     'Anneykusr89334', 'Stacialnqte66379', 'Manonexiiw09897', 'Gretnafpfrx17198', 'Andreaygwid53402',
                     'Elnorafbucg65615', 'Lucewmwcy11782', 'Sonyawwjvp65538', 'Jennyammrt51886', 'Meadeslrfr34373',
                     'Tonydzxcj11669', 'Reaqglmu38410', 'Annigikdj07449', 'Gustigtpjl95144', 'Valegoqlj81004',
                     'Devanfxbeq94699', 'Adriaqaycq27875', 'Reikoiphet77467', 'Toveptgia84740', 'Pepidxezl99303',
                     'Fianntfugl32868', 'Kathiexnvmq15053', 'Kettyinzel92554', 'Billitgykk62850', 'Odessaghdqm69859',
                     'Robbylppxk48970', 'Katgjlmm55755', 'Calleyvmhjn20037', 'Jillydjqtg59888', 'Enrikaxldui69892',
                     'Druzxlpu09090', 'Daffihyebk61079', 'Nannymubnb47521', 'Caroymvgg81765', 'Elitacyufv06434',
                     'Coraxmlib30012', 'Abbyemufdz60612', 'Eugineuusdr61103', 'Vickykjnrn79416', 'Pammykanas60418',
                     'Fifigedfb40241', 'Tammauaqnw94274', 'Calcndfg73353', 'Cleoruerc28143', 'Saideebhaoj54440',
                     'Cornyloukq64590', 'Tashaodatt37937', 'Winibdyph13474', 'Sharieswph84336', 'Candiespstu90178',
                     'Terixzqaw29499', 'Jessaxsdmo94859', 'Rowebbuts38936', 'Noelleamnss04257', 'Sammyeyxut90784',
                     'Arleenagosh54645', 'Gizelafqlnw74625', 'Ailiegehe17209', 'Lottabzlii97731', 'Kiragrpav37336',
                     'Birdiewddqi49579', 'Margityiucr78104', 'Billyeepesp69320', 'Gladmjsmd82487', 'Gretnaqnlpc23755',
                     'Violettusgl68020', 'Piabmyqj03097', 'Krishtrns28377', 'Riccayzxhp90413', 'Kaliwvgto21333',
                     'Dulcemfhtw36507', 'Tammieavmmw82421', 'Darceetxddo60996', 'Nissietclyt05042', 'Dodiwcmda79491',
                     'Pegnaedp59074', 'Dodersqda03112', 'Teddiebutgm37526', 'Reggirleee07031', 'Cassieytxjl70920',
                     'Anettacxrhb08138', 'Joanedfduz90721', 'Dixiekcqqh22589', 'Floraeqmhc45874', 'Letarzzif58240',
                     'Aerielwboqf13467', 'Dosiejkpy80933', 'Rickicpihw35829', 'Winonalkvor70817', 'Sarenaopxyr51113',
                     'Beckyokvii63354', 'Irmamptns19793', 'Joellybdbth83351', 'Agnetahzteg98855', 'Shelbimyspi16018',
                     'Lorenavhpfo91766', 'Genniaqkpn97269', 'Naomazvsgp16443', 'Jessiibrsl69822', 'Finazpglx83119',
                     'Pammieakbdj70385', 'Onidasgzvo75567', 'Goldiafpzcp75555', 'Evawhrho57423', 'Carlyecxyrd93899',
                     'Fansxjab88436', 'Bertieywdmv90794', 'Eddyrvhcu92702', 'Edithaseufm27937', 'Robbiijwtj63429',
                     'Carynbarox39527', 'Kamekozmtps90223', 'Terrieihhpw87544', 'Leneeshugl78104', 'Jenniemzgxv87908',
                     'Cliolcwbo45220', 'Carylerlil35401', 'Marshaphjju64232', 'Traciefkyrt20695', 'Avivahdjqik75105',
                     'Lonanqnil44666', 'Isobelxinfn13537', 'Tiffycclqw66304', 'Jennmlelr46911', 'Ebaimurx97944',
                     'Vinitahgvcb91540', 'Zondrasrjqk11199', 'Mavistyage20495', 'Shandyagddw05259', 'Nickixwsuf37142',
                     'Orelfmkvs16269', 'Magdanific37650', 'Neliawfoja12450', 'Suzannpsawe98210', 'Mattyezjwm84715',
                     'Frediortvo10234', 'Rianonbkhzv42886', 'Charinxxgea00030', 'Cybilynqwg21367', 'Bambiekqawa45112',
                     'Elinorbtepl63830', 'Muireozrbh03716', 'Finasklrd45512', 'Bertxwrkk42142', 'Kareacwyp32155',
                     'Sarazkzcu82297', 'Edeeidbas32414', 'Wallisnusoh19207', 'Kippygfujs10944', 'Ernachmky54463',
                     'Fayeojkeg07569', 'Arleenuupdx07520', 'Romonaxjngl78075', 'Noniectujm53691', 'Danioossm02679',
                     'Abbyeohtyg37716', 'Sandiephdig77725', 'Daronkoqgk22829', 'Cathiwuwvm19250', 'Kipvkcfz90121',
                     'Vallyulkbc12047', 'Pepijqyff50893', 'Karonwwvhd00465', 'Mureilaagxx86247', 'Mollixyszs97338',
                     'Calleyuvbyc87629', 'Sonnitdnay09069', 'Libbybwdzl64729', 'Hanayrzxt32689', 'Jeripvzvv53203',
                     'Wanidsylzct58233', 'Brandelopfm98693', 'Deepjxpo27902', 'Othauznzg88969', 'Loletaczwgr79694',
                     'Petracwtmx70045', 'Lynnemycmj76181', 'Jobinavxumi50385', 'Fifiafcdm12634', 'Emmipoatc50050',
                     'Melliemahbm12227', 'Imeldabdcrl82807', 'Brandifdiwf74803', 'Dasidjuhb81959', 'Joriefexbd64238',
                     'Maycyhtr96075', 'Cristaufear41387', 'Kyliexwjpa44636', 'Murialeucdw49998', 'Winipwqki96938',
                     'Sofieaplhm57946', 'Onidadiygg90850', 'Lydavmxtx39050', 'Denyseqbhkt90855', 'Doriexbasv72310',
                     'Clarylxvnl65746', 'Barbeivtzg14108', 'Gillitdztb37107', 'Robyntesrd10531', 'Myrleobgfe83981',
                     'Evitaofwcs84232', 'Michallbcap87066', 'Vernadfgoa08100', 'Diannbcqml86386', 'Dodiqfzwb95394',
                     'Ramonaetqfx87152', 'Franniaahsw03353', 'Cilkavbgfv75181', 'Dynahmkmox53051', 'Cybilleezan65137',
                     'Lettadpnjn82156', 'Adoraxwkjg16822', 'Heddiogfoh35046', 'Lannirdkaf32391', 'Daceyipvll23527',
                     'Janithjhfbz33506', 'Peggiecpybk98699', 'Jinnygxgdy19944', 'Daleophlg45459', 'Ianthevugjq24491',
                     'Chadcilwi69008', 'Ashilydqjv29598', 'Blisseldcpo83361', 'Lydaegwjq94914', 'Eydiemaoyc23555',
                     'Nellgtddg75098', 'Rahelmcbmw77641', 'Bessyujjsw78498', 'Janythbgu23811', 'Trixyytvqu24523',
                     'Ailisvjwoc08760', 'Livamonme77121', 'Elenivsmgy68562', 'Altamrryc28919', 'Babbieuskmj64912',
                     'Neilenertw95097', 'Raventpomx02690', 'Maudiernmlw55535', 'Vandaclwao83187', 'Adriamlthl99854',
                     'Cherflguy33838', 'Alexinkjjw36882', 'Mashaflgsq75651', 'Casseyvurlx08225', 'Moreeneftab12563',
                     'Gracelmtqb71588', 'Shanieklasb32947', 'Kippujolh58093', 'Dawnaqvbnl93281', 'Lesyayoger94056',
                     'Dinnyxgone10230', 'Sonjajbgeo08441', 'Shainaqtgun72093', 'Avivahuggwc57118', 'Gladidhbfh54043',
                     'Shelbadxabc98022', 'Caresamcgoh55462', 'Callatxxvn70153', 'Emyleeutmub28349', 'Rayecpipo35113',
                     'Jorriernesz82932', 'Henkahlrxd75853', 'Birdeejaf61760', 'Siouxbbguf84924', 'Dorieztoyl46175',
                     'Ritayxjxk44158', 'Maigafhtmg95831', 'Cordymfnwo66469', 'Barbixqhbb37731', 'Dixpamwp77139',
                     'Britgobdi95453', 'Shandalxuts21848', 'Happyamvls40375', 'Breekzmyp50355', 'Leshiaxbsmr46568',
                     'Rheantbiy08072', 'Cristidbtpf31874', 'Libbiegjvio54081', 'Clovisvlxci39666', 'Amyiytzt48389',
                     'Edithaoyxme31216', 'Erthanjtpl99276', 'Jackieigckk57496', 'Gussijdkai61633', 'Albinakdobn38110',
                     'Avivazhwhh48972', 'Daleuwcop93583', 'Brennfxhlm68589', 'Minadqjqq50077', 'Adoreqadfb27096',
                     'Erinnmmdbc21445', 'Glyndaermce80600', 'Peggyftjvh71116', 'Emmafxfgn77790', 'Karyvofaf78047',
                     'Babarawrlde98849', 'Kareznkcn93887', 'Mollxaptc32874', 'Aliaxseop34080', 'Darceenpjju27002',
                     'Brinaubwll95284', 'Antheasjcp24649', 'Rosyaqxwi66250', 'Lenoraomehw91466', 'Rhettacrawm49325',
                     'Susiznrvg30915', 'Alicadjdau86717', 'Nelleglmky93947', 'Georgeyzvqh88853', 'Odeliaqdplk82996',
                     'Carlieiddpl41809', 'Casszzpeb40794', 'Midgelcwki31210', 'Shaylafzpio40987', 'Nitafrboq72556',
                     'Jodibsezt52888', 'Nedipugqx22793', 'Anettgcayv33431', 'Glennnmlaq43010', 'Dorreeycwmm53432',
                     'Carreeisqku33616', 'Alishawkhmy95458', 'Sandietrteb01866', 'Dollyxfxia81258', 'Ivyfjzgb23256',
                     'Mairtkfui28165', 'Lurapqdpu44910', 'Leesafltqj08794', 'Laceendokh27451', 'Dolliegrwln87978',
                     'Editallxtl57555', 'Veriledfisl27018', 'Giuliaqdapw86737', 'Darbcnvsp42599', 'Lornaegohy56707',
                     'Minnieacsqd37125', 'Greteknpna87035', 'Abraturvn46177', 'Toniwcbrv34448', 'Hollinxgty00052',
                     'Ardisnlngj28024', 'Kaylilhgxwi60049', 'Jannawgybk29037', 'Dodyiamnj64866', 'Kaialdzmn37132',
                     'Alieeikyx09485', 'Samyzgep10157', 'Blondymejvm32620', 'Bobinetrehe53194', 'Doricevfxds66352',
                     'Livviecwwfh54255', 'Erckaefkfs28002', 'Jessiegdjse74209', 'Kirbeerorlu05044', 'Farahwdgnc42393',
                     'Zonnyamgxxs10695', 'Olivianjnpx53854', 'Lynseymzflu35077', 'Norinabklpo29474', 'Lettyvrixy21269',
                     'Wylmaysbza53465', 'Bettyeyhtga04284', 'Lennajnrvh03484', 'Zorahppaih79375', 'Agnolateuxo21624',
                     'Donnigpyrw24407', 'Leonazkvcj89720', 'Mandybaeai34444', 'Tobelyakg61613', 'Jenhhdni71005',
                     'Evyegzlv03411', 'Asiasdgpd33273', 'Lanivrzff41184', 'Karlyhycez27619', 'Mairmqjqa41152',
                     'Gloriaoytwh67322', 'Melinaqnrmc43822', 'Gelyacpcee57499', 'Emyleedjnyv16224', 'Trishargvce13455',
                     'Karlenbfiyv12312', 'Valeksguw16453', 'Wylmajeojm02481', 'Ardysisqeo87586', 'Risajvfdz45551',
                     'Glennanghpz61207', 'Fayresuntr50020', 'Billieinmfw19255', 'Shayfnhhp97845', 'Avrilomnjh83445',
                     'Carlyrtvpt09339', 'Alisrzhmj98302', 'Walliekeaer59301', 'Eudoralgkwf78680', 'Ivettuxrlm07681',
                     'Ediysorn80701', 'Venusnfdms08000', 'Susannuifpd53982', 'Elielbdvo60524', 'Mandylzojp65411',
                     'Alinepitoy97537', 'Trixiebkgil72556', 'Alvinaxhcfs91527', 'Kellilrvzh64590', 'Kipgrkfb92855',
                     'Luragcugw64707', 'Gwenhtczn81853', 'Riciybodw90212', 'Sheliafmumt41555', 'Danitsczvs74080',
                     'Eadithvoibm35671', 'Audieufjto99186', 'Donakqchn13779', 'Kerrymdmdt40493', 'Drusiejbbjs64675',
                     'Lynnetgrtxp51135', 'Tommyqlbyu19497', 'Connysotry84642', 'Zonnyavtmlr06721', 'Odettasxapw15910',
                     'Esmaudydp79391', 'Aloisekbqfe81884', 'Greerfhkmi88892', 'Frangvnci85985', 'Rebecaczhxp49086',
                     'Calleypqvdh29718', 'Crystanzmug47250', 'Anicafjycw59238', 'Nanvcjna30805', 'Helsayolrn11538',
                     'Britazgykr66160', 'Pippyxweup22205', 'Alycehzmtp88486', 'Hettybeica99978', 'Nellemtdgn55114',
                     'Greteopski99478', 'Yettacfwfh01498', 'Gertdxteb14342', 'Zenapwmwk85849', 'Asiaudrlr04109',
                     'Lanaeqnnyb09990', 'Lilliwmaqn52177', 'Adenabkgfd05280', 'Kerriptsph35390', 'Sellewksnh26756',
                     'Sonnimpkup47796', 'Ailaskkmo62935', 'Neysaajfnc34547', 'Orayqifm61446', 'Yettywuuta30280',
                     'Chrysaaiakd30097', 'Greerbfzzj70374', 'Jillkqovl00094', 'Bibbieihlts90004', 'Heleneudkwn76476',
                     'Hermiaxuafy06518', 'Michelxewck34530', 'Allxkpvyv96877', 'Beeikpop04652', 'Libbeyjxwlo31021',
                     'Florriekbck80010', 'Fayrexkaqk92998', 'Aviexpfbz97850', 'Carrinbpnf77050', 'Nanicegnjvn32231',
                     'Rubimztjl98631', 'Desiriegovh50900', 'Yoshidknmt07556', 'Libbypedbb11650', 'Sherqiigs71660',
                     'Barrietbnyj09701', 'Deedeepmgab71027', 'Sybilathrac25919', 'Marjeobvip20233', 'Nonnaaulgs85920',
                     'Mercyijqno58537', 'Sonyalhquq32012', 'Gertiearnrj98627', 'Hettyysofu13688', 'Zararsnyc96555',
                     'Babucxrq31854', 'Dottieyapge70619', 'Carenntlcy74770', 'Marnencgbi35268', 'Erichaggxud24670',
                     'Deaneeklkd66837', 'Dioniszzliz76746', 'Sonnieupqgj97359', 'Lindwjemz56404', 'Maiaoowwb08511',
                     'Alixpbgdt26951', 'Caylavxmks67700', 'Daliladqgrx39818', 'Josyhmimy03102', 'Bobbiexccmr69280',
                     'Gustiqnolo50776', 'Leoineslsrc00245', 'Fifineupkbl45408', 'Phebehlvdl46100', 'Debraodoub06571',
                     'Stormmvuwj68221', 'Dasyacdtbu93011', 'Roslynekucs82596', 'Timtjwbt88670', 'Alidaeajtb72990',
                     'Hazelqyepc66050', 'Libbiwurt26411', 'Brittekosyc34816', 'Atheneoufmx71159', 'Jeannepglyy74018',
                     'Timmiuqjah93364', 'Wileenldprt26624', 'Vickycrhzk03124', 'Tessymvyix99968', 'Cammietoljx77878',
                     'Ionazasin95602', 'Arlenajgof14621', 'Cloettfn73393', 'Gretamvquc92035', 'Ryannnbzjy98893',
                     'Issyqnoqs46505', 'Lexinejnijl28698', 'Daffienmzkn53076', 'Jessygcwez87832', 'Donicagspti25942',
                     'Dorrirnzta88037', 'Ianthevqnbs29887', 'Ulalzhge40682', 'Prismqqou16382', 'Joufved28632',
                     'Mirannngvk74674', 'Moiralsqaa90584', 'Staciaziaqz28650', 'Philhlqua79172', 'Siselyeaqkc76741',
                     'Breebeikk74463', 'Marenulvem35933', 'Hildyskeyl36329', 'Donicapbkkz68908', 'Darbzndqx89267',
                     'Yoshiphokm79243', 'Coriedihdj00505', 'Lynettwyone75123', 'Siselyirjqk51668', 'Lineaiqajh49605',
                     'Ninaxwoms33892', 'Jerrieljflh64172', 'Alyspfibo46711', 'Valerydvqwg42436', 'Dyannxhemb81291',
                     'Celiefdiox44957', 'Neillaqscpp14150', 'Kittypcubi18886', 'Ollyimrmf79545', 'Trudieizjgw68418',
                     'Auroregwuyh78705', 'Cherryfpnlt81955', 'Stephikwjal74705', 'Aleecemxfys73458', 'Corielgcti33403',
                     'Brinaupauj50032', 'Zeldaygnhd75293', 'Ingridqcvla71822', 'Daffiblzou36717', 'Andieflkfu09640',
                     'Sherrzshg48361', 'Shantarrpbe85003', 'Pperkzrid69001', 'Luzgnmoo79309', 'Lizaqzmts38663',
                     'Orellepjuxb44107', 'Mellierlthd77614', 'Nissalsslc32516', 'Geniapeffg71686', 'Corrymdhlo48683',
                     'Katinaiorlt56341', 'Elnoradznrj15900', 'Kialdmvzz63633', 'Shariarwpcy47212', 'Daynarevdt95473',
                     'Blisspthdd14905', 'Maddiublvb79757', 'Umekonkeok08328', 'Bonnieppdoz87138', 'Mandaylxrl20897',
                     'Janyfwzxl53207', 'Dannieyoyjr32638', 'Caseyuzliq67708', 'Clemffmkm90556', 'Daciecdkzv76155',
                     'Sandeibkak33046', 'Cordyszwwe48029', 'Tommivmvhf41045', 'Hyndaihboy68833', 'Andreakpjtj55159',
                     'Cicelytnkoc72766', 'Lulakiboz46867', 'Dennifvseb78394', 'Klaradnoxt12890', 'Amitieojfsv70724',
                     'Dannyewlavz98267', 'Correynsalc05114', 'Barbemdadm24300', 'Yvetteundcr62707', 'Beccatcwpz26342',
                     'Jolyzckre42421', 'Fionnajxmva88350', 'Karongbdbx58742', 'Winnahplyml36215', 'Deenaoxllx09742',
                     'Codieotpeg40268', 'Goldagfbpp90720', 'Pearlsymrj85470', 'Liukannynz92569', 'Berridgntf51600',
                     'Ilyssagegoo87260', 'Tandymcpsw57409', 'Carmonargfy85880', 'Sallywbomd17364', 'Gladysdwlzz19119',
                     'Betseyepenm48773', 'Rodadzavj60560', 'Gillanpfvdl93641', 'Fiannumbsq00862', 'Tandieungea26925',
                     'Darceebedck79708', 'Florieknltn48962', 'Lilahhfyuv95888', 'Cleogsoky65457', 'Sandehcogk48635',
                     'Utammthi68404', 'Kerryyhsmg99349', 'Carynnslta95867', 'Cathieodqok10744', 'Rinawlvxs76129',
                     'Lettyyicro46797', 'Gwynzyykn28444', 'Ardathbputz91428', 'Gaehoagj58993', 'Maggirbsyc93166',
                     'Pippaoyvem31977', 'Piargjqv77875', 'Floraspzjj93368', 'Shawnahmiqr99503', 'Naridhxge95210',
                     'Marysspast12586', 'Dathaagecn23196', 'Darapsfef30134', 'Wilonexsnls82204', 'Dellahsqu03189',
                     'Rianesfdwj84674', 'Ynesdruuk38146', 'Zonnyaiqkkj9337', 'Neillawlrfi72972', 'Jaimekngkb88888',
                     'Lavenafwcmy51700', 'Donniezhqic14924', 'Elyncvpzj20446', 'Deeiqwaj23721', 'Gwynneqmanv11619',
                     'Timmidcqyr97691', 'Alvinasjccq42335', 'Jodieszhop89946', 'Karleeurbcy52599', 'Dulciawzycc75201',
                     'Alvinapqpvw79028', 'Kirbyzhwml32284', 'Moirabmcmy65897', 'Sondranyhlt09114', 'Florezyhvz19366',
                     'Deliaqdkwv42385', 'Andiikuvl33492', 'Arielynbkb65674', 'Lizyneds88495', 'Amyxxhij53817',
                     'Illaogibb07726', 'Renniegvvgl08781', 'Timmirffky50506', 'Kylynneivtq20423', 'Maxilyryo88069',
                     'Joycekjdmz80095', 'Drusiesfnbz99845', 'Kerryofvid88682', 'Ginniezpfoq55090', 'Cassinkude10808',
                     'Nanceyirhxd51255', 'Fauniekvyhr22097', 'Starlafwkei74704', 'Norrienubul68803', 'Kettinzafn66492',
                     'Cheryjglys89221', 'Nanakildo60367', 'Lucitantduu43940', 'Mishajhuqt72932', 'Sheritpbc80365',
                     'Oneidairdro14736', 'Dorrisfdaxj42370', 'Jobyerahxd38538', 'Cilkabtrcv74836', 'Bettyeoksxa47681',
                     'Fawniarmdqi91164', 'Dedieleknm21349', 'Janotitvlb30533', 'Dyanczcax85296', 'Marshanhdus02751',
                     'Torigregh66378', 'Criscxmkp22359', 'Emilienxbtv57914', 'Dionnedjkzw15864', 'Esmebvihu70929',
                     'Sibleyygqej78005', 'Adoreejmssb83452', 'Gerrieaewah25269', 'Vivlxhgg38271', 'Vanniebhzbg09916',
                     'Margeobgsg75036', 'Brettccavv48103', 'Brittazcvsf02667', 'Agnetaeysil15119', 'Gabyevjoe70914',
                     'Staceakhku75221', 'Fredmhjhq15620', 'Pearlakyhue17331', 'Norahfjsqa69549', 'Shainecqtks40722',
                     'Leeywvtz89726', 'Dottyuubkv92524', 'Ledamgkee89072', 'Frediavcsic79710', 'Moravymse47925',
                     'Lyssafewtq57287', 'Neilaaxyba12860', 'Sibleyahqwl13325', 'Reggiegjhsr11660', 'Dodipgnmx09649',
                     'Brearbhvhb15262', 'Vickyfcqhc10182', 'Bertimhkin42001', 'Rozeleseuej08887', 'Janinexbczh86653',
                     'Jessaqvfoi70666', 'Elsasnyly36431', 'Astrawcvvz07236', 'Susyojhkh99340', 'Chariscosbb88688',
                     'Alyceuqgms89293', 'Ofeliyiajg70774', 'Loneebvqrp68834', 'Sheenadyhwc2792', 'Gildafdvwt63839',
                     'Remybnqha91258', 'Elyseewfrqv61417', 'Oliabhwwu72388', 'Palomalbffq51430', 'Devizcwko10714',
                     'Jillycfcba32728', 'Linnqspeu43505', 'Dionispwgvo14291', 'Bilibkfpd21130', 'Difwnkd93864',
                     'Samxezti70620', 'Leighieeck92843', 'Helsarzggo95446', 'Glynlfozb69444', 'Zolanckct28352',
                     'Bunnivzrex19027', 'Cristaioexn61780', 'Vonniepgbgl83072', 'Nadeanlbksn28638', 'Gypsyfhgnk61867',
                     'Timkitia57752', 'Rosymflgm94037', 'Sharirowak61974', 'Gustaygaud11341', 'Kittiegbsbm98299',
                     'Annicenmmeq68100', 'Bernielylgg23315', 'Shalnarbput80224', 'Kandymovjc35336', 'Karolezsjtn80869',
                     'Juninappnwc40897', 'Margothczjc99557', 'Biankadpobz92920', 'Ronaidatf84020', 'Seanaftznm79005',
                     'Petanqvuh97369', 'Gaezwxqf95676', 'Delljwyri46698', 'Bernanokrs50519', 'Yettiekdtkw05310',
                     'Bonniekrisa73173', 'Cassymrbng26973', 'Casielfltc49512', 'Finadamwp82791', 'Sherrihijpe36659',
                     'Bonneetvxtc57706', 'Tarrayaglb41455', 'Beckawhmrd13767', 'Dannifjexa39308', 'Cybilaztlm45984',
                     'Corinemkios67516', 'Gledazbrrk16711', 'Hedwigtqnlc95769', 'Jolineobcaf85330', 'Orallannhbp57331',
                     'Callirnuhc51548', 'Kattivxpit21761', 'Charylkkpyj69041', 'Sonjayvtgi25932', 'Ceilxssim35478',
                     'Shaynahdvhf26480', 'Ebbapiymv51600', 'Sharyliuflq17088', 'Nancicvlrr88075', 'Timeartq66814',
                     'Emaasjbf95934', 'Coleenmujzx07747', 'Cellefnmtz75894', 'Peguqzrx15928', 'Norinehmamr77112',
                     'Molleebfmnd25101', 'Nickieibmcl45484', 'Rhodakescj35233', 'Vonnieoggtt14998', 'Ruthipmive30165',
                     'Sadyevmljv15246', 'Karilkopkg66421', 'Faunieftaoh57605', 'Didoueomm89188', 'Roxixzbid18078',
                     'Ailisgqvph52094', 'Tresaxqwgc61111', 'Stellacamix42147', 'Ameliebyygq47690', 'Saraowcje93990',
                     'Terzawhmza70322', 'Ursalarsfnl78379', 'Teriiclmj26997', 'Harleyjwfnb38245', 'Lynnezwmpo09468',
                     'Glenptequ54423', 'Janineznvlm16817', 'Ingefvyqt09489', 'Ileanamdgen20274', 'Janenedsuvv26514',
                     'Doricesngfd17589', 'Lilyaniyrup75257', 'Beretoaiwp70417', 'Gwennyzbbqo62415', 'Eliciawqfkd74588',
                     'Dominircggu716', 'Irenewlswm30780', 'Lorykysse69738', 'Idetteeigwc12273', 'Trudeyloqnr75092',
                     'Corinerntef85604', 'Sibbybjqtv85501', 'Merlasxaq68439', 'Morafsftz36233', 'Adelyghpj90132',
                     'Robbinrgrhp04297', 'Oraycpdg82696', 'Oliviabtnpy93156', 'Gabiktomd79441', 'Roannedjdhc64370',
                     'Berriefuhd31892', 'Kellieuysxd19123', 'Beccaoxtvr82435', 'Neliedadln32458', 'Delasvflb93937',
                     'Sigridglbqm27010', 'Randyhvlhr79953', 'Raineitjyl70457', 'Faywqxlw60936', 'Brynnbesdr55781',
                     'Deanneffoxs11072', 'Verewagxn40765', 'Rorapgaza41381', 'Ursulaxilds66818', 'Nettyrplwb82272',
                     'Coraouuxs13582', 'Susannfhimg46008', 'Quintagnqrz32794', 'Marlynetcgi78167', 'Paigemdsfu30779',
                     'Leesepgmdl23689', 'Amilgomqn89793', 'Denyzefup42236', 'Judieqnysv44933', 'Dustyspmzk26976',
                     'Ruthybyild67157', 'Elviraltiqn10371', 'Mollyunvpz96281', 'Karnadjgum55714', 'Corapmmjq33755',
                     'Mairecugcl17886', 'Ettyqtctz97469', 'Emilialcgpn37093', 'Rikizwvgj46162', 'Ebbadwjmh03473',
                     'Kimkuimh55679', 'Nadagdgru64043', 'Blinniofpun99735', 'Sarizprzj74842', 'Fayebrnnk54794',
                     'Gwenjqbgc76998', 'Bertheagfdg51792', 'Darciqfaio15846', 'Cherritvlkf22781', 'Erinvqoar93536',
                     'Hilaryglvgn89136', 'Retaxazom46353', 'Dardawlfha15181', 'Fanfykzr50987', 'Helenaphnrw60313',
                     'Jennywxnxz55343', 'Eleneumqdg53342', 'Lyneamapbt94773', 'Randiowdfh18937', 'Kasseyjgxkx23670',
                     'Korieoybxe36558', 'Lydavvsvd21539', 'Cieljboxq96694', 'Nanniicmfy40297', 'Thedakkzuj28340',
                     'Tillyovdvr24619', 'Rorieyidwu40663', 'Vinnieprqml54105', 'Lonnieylqmj47080', 'Heddinjyua79845',
                     'Sandikrfrp96498', 'Shirlkdzcm39618', 'Helenelqnpm72080', 'Tanaqzmts44928', 'Bertezvwir06949',
                     'Aurielddhu41854', 'Jannelbmzxn78538', 'Hermiaxqwlt31205', 'Ilkaymccr81012', 'Tammyutmta48055',
                     'Emmeyuptip57068', 'Hollyjmhbf57478', 'Almirapplbu41741', 'Manonrzmgy94248', 'Bobinajlwuo21669',
                     'Theklahzwwt20653', 'Vanniebjaar98280', 'Kirbieiqwdx27090', 'Toryxrklj89426', 'Chrysazonbo85883',
                     'Irinaougnv22006', 'Bonitaihcgp30758', 'Eliehezzs56334', 'Bernieukkfx45322', 'Edeelnvxm08436',
                     'Sibelizhsa30030', 'Loletafwwoj17621', 'Brithdbmo25252', 'Theklayaetp00255', 'Trudixuafa78945',
                     'Serenenkips07596', 'Rafytcrv24132', 'Lilahjkmq24903', 'Audywrghu16574', 'Berrieijjpo81409',
                     'Dodiegjxzz08341', 'Roranojaq05952', 'Kamiladdqyf46008', 'Tabbyvbuus79832', 'Vitavofyy86576',
                     'Rorazrilm68665', 'Kinnactaxv75994', 'Mandyikxhe90029', 'Kristeuxhvd11131', 'Dollywkhjp17162',
                     'Normawlnst37991', 'Kaiawwsxd81131', 'Shaynarlcyi95913', 'Karisayvz46253', 'Darsieduupm34021',
                     'Kathlpsae79637', 'Judiltehe55155', 'Norrywbthu40625', 'Arlenekcqxd63702', 'Xylinaljxlf99252',
                     'Emmybcbwr83126', 'Ardenqhcch30904', 'Erinidvzz96585', 'Linellmkrqk71649', 'Ursolabmhhv69348',
                     'Thealyggx20680', 'Audrawhxsw74794', 'Shawnxjtvj56618', 'Angelahgkbc98160', 'Arethajrmdj87632',
                     'Anniexifjs51693', 'Kittiejuyio31099', 'Tasiasghkp00140', 'Aubrymprhm39006', 'Roslyngajqx35951',
                     'Leenafnnbi72142', 'Helynmvcch50902', 'Vannaddzns98006', 'Olagjrov06088', 'Rachelmehvg66770',
                     'Ibbypibbk45092', 'Carlavkhwj71949', 'Angywavyl19549', 'Lynorfks67231', 'Eilispqycy70441',
                     'Marylnkgay67873', 'Tobyekqjfl52356', 'Kellialozcj41290', 'Sheliaggpkt18595', 'Maxinevvwmi18600',
                     'Loriaeyjhc44708', 'Milziedjeqf28999', 'Brittaycpcb25306', 'Cordirowim74499', 'Julietgfqkg69364',
                     'Connieguwnr01498', 'Kennatnetu41461', 'Oneidanpxit55868', 'Debbiuxczs23251', 'Glyniscfpef81000',
                     'Brandeorqpx15265', 'Celievxwzp13845', 'Jolynfkune59526', 'Ettavzjky24263', 'Emmiefediu31087',
                     'Berniwqajr15703', 'Loneegohdk61355', 'Sarahnsdkh43233', 'Dauneevofq96520', 'Sandieiomow36369',
                     'Mableeiyuy59704', 'Sibrgfef71505', 'Velvetfylpn16685', 'Salppvxk69687', 'Joellyznfzq82411',
                     'Kendracuqcp53955', 'Maiblexhbpv94799', 'Garnetkibbc21653', 'Minniemgoio39913', 'Starrpcnrm67980',
                     'Melinaanfkl20920', 'Audradvvbp66843', 'Sadievfghu84177', 'Edypjeeh06197', 'Joyaqevbp99068',
                     'Bettakjlnw90863', 'Sareeuguyc08840', 'Kirbyjonau19339', 'Oliyitcdk00657', 'Carylpvoo63930',
                     'Nedimbjmx14539', 'Kaniagnkko13340', 'Rannafxhzs65660', 'Elgakqzpt99466', 'Vanyabpfuf85514',
                     'Arlynsdkzp81807', 'Jenneegjmoz61278', 'Perlcunft03704', 'Joyexgnbx81285', 'Graycerxvph66282',
                     'Gratauftlr88566', 'Lorabwqol16191', 'Alidiajmvlw34974', 'Sarahhfzpx02574', 'Gilliuonpa78729',
                     'Toniznawh50355', 'Leevzkqm28860', 'Odelledpzkx53485', 'Cindicncww15120', 'Barbrahnlad98236',
                     'Theklaxucvf91339', 'Portiavrtdr03014', 'Mollielffky39905', 'Mellaqvawb65775', 'Natalarrmkc11108',
                     'Alydaqicxn08911', 'Maudiejdzrq17346', 'Denyikvxr72170', 'Cahracwbvf00760', 'Darinmcwm83262',
                     'Kylajindg80674', 'Shaunafcpzs68954', 'Cynderxcdy43378', 'Bennylyomo55327', 'Zorahyzmll12022',
                     'Dasienqjee42466', 'Sadieuurwx92995', 'Cassieeyboe88138', 'Karisitlm98617', 'Neileruwte61372',
                     'Evonneiyobj64331', 'Pierrdxyf67259', 'Andriaijkdy54911', 'Ashienoeyrw37930', 'Reazanqs77535',
                     'Mayexhphc70117', 'Walliejehxo36550', 'Goldieraovu26079', 'Rainaceioq54123', 'Kataostvo20316',
                     'Tabbieiperc60982', 'Eloisagimit18947', 'Kerilvgpq62219', 'Rochdzkyt89641', 'Jainevbsil97902',
                     'Cybghqrv38420', 'Ynezvlown02178', 'Ruthvybgj02960', 'Wilmamzkwa83889', 'Nellsqcub66840',
                     'Catieywyxt92544', 'Kissiewlapm40486', 'Shandydiaeq69433', 'Bambyhyxsd85886', 'Kaseycwjck02735',
                     'Mureilnzqsc31970', 'Susanvpulw19882', 'Fiannalwqzd22422', 'Dorisaswmz69305', 'Tommiemaay28574',
                     'Kattirtkzp49743', 'Bobinazvaxc25096', 'Annisnujyf81418', 'Diannpldkm05969', 'Xenavlqop72304',
                     'Flossikoiqb07886', 'Umekoxeqcr13402', 'Tilliemiway24833', 'Peghfovs80224', 'Clemmyzrgau82264',
                     'Eddythnyv70833', 'Florrigqpui37516', 'Rianonrisjg74834', 'Fannieojpuz89253', 'Danniehlrtg57579',
                     'Heddiedjocw08797', 'Darajwaib86038', 'Catheerdgjx23009', 'Goldyyypdx46579', 'Cleoqbyba52693',
                     'Carreevgtuu66706', 'Fredradzahi61743', 'Jessigkewj98658', 'Shayhbjfg35463', 'Casscgjzo01576',
                     'Brynnjbojd74701', 'Colenetjrdc95691', 'Piperdjmvv16432', 'Brynvhmnt93711', 'Anetmzzhl16050',
                     'Wilonezuitn48679', 'Dawnazkhps34914', 'Zeankvut98731', 'Nitauuefq20893', 'Donnartpgb06597',
                     'Caronckgiy60934', 'Andreakkqwq48850', 'Sandyevqhiy16703', 'Sileaspvyjs69141', 'Brinygfblm55598',
                     'Joannafjaej37734', 'Normaghfzm44468', 'Cellepvtna42058', 'Rheaswodn87424', 'Sibcknyd94070',
                     'Allxgtzcm47502', 'Sianagzknk92663', 'Laynehdphk15313', 'Roraxzoxh41164', 'Reggiemdvvw91620',
                     'Kristitlibu75241', 'Lottyusnkt14325', 'Aubinejeyju85529', 'Laurynsmiko34234', 'Valliytibg61616',
                     'Sibbivtv73770', 'Peggipixdp27837', 'Kendrefmmtz08218', 'Nicoladwwjk23643', 'Katigujus00879',
                     'Dorreeymozf09848', 'Lyndelsrsyc07078', 'Lillywiajb38820', 'Trudyoutbe85020', 'Joeynqmnw81075',
                     'Jereltvil61003', 'Loridfgzm62214', 'Sandyeyykip60092', 'Malvagfguf97028', 'Minnihnlev13659',
                     'Helgeqpnhr73940', 'Bernyminod23017', 'Gracewddxy73466', 'Catlinegzjk69777', 'Erdahdxoq39850',
                     'Piamtkvj43088', 'Karonnmnko51169', 'Janithraqax50429', 'Dedraefmtq33328', 'Dennieowpjs11184',
                     'Deinajpxbc79124', 'Linniexbtnf07119', 'Susieqwarv10542', 'Pamvzctd44203', 'Catinqmqd60985',
                     'Drusiicxvi52389', 'Hanahsqkk79625', 'Monaekjbu98759', 'Robyntuivp67824', 'Ebaivdeh73126',
                     'Hedituuhb35436', 'Janenefykjf85514', 'Bariystlj22869', 'Faunxrcsg96479', 'Delyvkbm66331',
                     'Robbinxxyoe27032', 'Davidaokjlj27930', 'Gretelbwhjh93208', 'Devinaipyvb37795', 'Edythecfrla75455',
                     'Timsjzbc59148', 'Denniixumk45650', 'Sellamtfgi63988', 'Cheryesmbcz27199', 'Maddiefqgsc23144',
                     'Xenacdtof63555', 'Roxixrrsj16525', 'Oliathdzb25781', 'Dorowoqhg44273', 'Daisywsxsj10116',
                     'Elynuqnjp62745', 'Kylazrvnk12154', 'Jandyfwflt34642', 'Elinorpgrrh26763', 'Codeecpytz95363',
                     'Timmiegjkts45801', 'Denicewgdog89691', 'Ginnijiwbw81831', 'Eugineimrgs37773', 'Monahdtfkx73389',
                     'Lyntvbub92301', 'Joseyhrfyd07893', 'Karrygkaah75530', 'Mavrayyzop53757', 'Maudqgijn11061',
                     'Billyctjpo11095', 'Rivykagdx79972', 'Faeraqsx56907', 'Koriysvkc53211', 'Cammiexesho51421',
                     'Fawnezppfn12555', 'Meaganuwpln06288', 'Brinnntpxd27376', 'Idettewqauk65057', 'Didimjxlh65454',
                     'Ivorydttcb14097', 'Elnorepmspg54536', 'Babpwqvf43731', 'Gloryrdbkq05525', 'Idaliajjfyd95318',
                     'Dreddyvjnqh89860', 'Florryeefdg26332', 'Lornarlvik94368', 'Milziewroim95003', 'Dariakrhsr33788',
                     'Sibylqrrkv53314', 'Moreenpaurl83267', 'Elverawonby57441', 'Myriamdpsdd64461', 'Denisembqfc36605',
                     'Gussymsmsj60010', 'Aliiuqmk61936', 'Devoracboef92075', 'Gabieaopnc52277', 'Jewellmqyyh74521',
                     'Kandyausrj30005', 'Luelletjggi38889', 'Wandisyylrm02335', 'Pammypgowg08485', 'Idamwgnb70803',
                     'Candinuafx33727', 'Altheakywxf27211', 'Sorchaxsfoi49721', 'Gussyhogci45952', 'Coreykopht34120',
                     'Nickypyomp97104', 'Sarinehfpca20362', 'Vallihjvou78067', 'Phylisfiqbm88067', 'Julieviwyz97582',
                     'Andisnnrd49128', 'Ardenikwms97965', 'Quintakqtpf97192', 'Jeridngul74311', 'Regansmxqe21213',
                     'Janelarllyt11412', 'Joicexpvie42331', 'Dionislgahw45697', 'Piapjncp32239', 'Sharadploh55899',
                     'Jolykbifp07218', 'Willowigayc80525', 'Delsszfd67824', 'Alyseqtmvc25050', 'Joannamnqan73442',
                     'Camellozrh81536', 'Linnxrewb51750', 'Rickyfetqg27211', 'Davinajqpbd17324', 'Luckykbmgs29950',
                     'Shellzcllu39445', 'Estatkyft33626', 'Jessiocbky00440', 'Rebecabpzzz69895', 'Fredranygrz60492',
                     'Mayeecghu57001', 'Shircuvvu58186', 'Carlyngvrwi67101', 'Mercyemdpx55625', 'Blithesqdmp39970',
                     'Lusalkopq12997', 'Cordiwjzvx29675', 'Salliehouxs53469', 'Tandiesxdnn67482', 'Peggyknpih06935',
                     'Onidarwvfg42513', 'Clareytlaew86144', 'Tonyadzejf52422', 'Pamvhimu18596', 'Lyndyvbcci32832',
                     'Loisebosut55319', 'Raneegikgd02003', 'Joniecnecc85384', 'Elfiechswy28984', 'Shaunrjutv04949',
                     'Kristywhdvz34216', 'Timmyqwpue74987', 'Eveyuwfh16438', 'Deannaxjcbo21723', 'Hyndahcfvd05726',
                     'Loisevkqbt47872', 'Wendieppknd11715', 'Blancatojzy43584', 'Chelsyvtaos67703', 'Maddiectybg89742',
                     'Kennasofwc71881', 'Bonitactycz66191', 'Tessycwbd87207', 'Kareltlvil35553', 'Kittiefkwux10424',
                     'Joreytpwam45582', 'Finastfxz74646', 'Lyndellulrk54810', 'Tishatoldn77627', 'Geniakxjny32104',
                     'Sylviaefysb21046', 'Reinapvyng02450', 'Reetawotlb91794', 'Lenahglba82248', 'Shelbapdnit76478',
                     'Mauraazhdx08821', 'Carlenxazgl18891', 'Prudyptutb18398', 'Livaaqbyz93959', 'Altheaboeln17596',
                     'Orlyfgsxk60895', 'Karelclbqd15944', 'Rhondatbawd98241', 'Kialscqxm54143', 'Gloriarwvfy69183',
                     'Glyndaqbmcu73504', 'Rosinabssff72966', 'Meadezpjhy03467', 'Luellaobxei55857', 'Nicholwzpkb09967',
                     'Carlyeflfq33386', 'Tomibuhdl89304', 'Brandiwjgee62957', 'Corissbuwib18582', 'Ardathwrixw70767',
                     'Alexajrbrt37010', 'Pegurlwp41294', 'Daleplhri39089', 'Loellalchpp19526', 'Dorrimlbhq99051',
                     'Cariegzmfp01617', 'Drucieeluhm55245', 'Nessajzunl23547', 'Deinagxipa38525', 'Rochuaffo20414',
                     'Erinrzozj41690', 'Noelssshl85656', 'Brookszhbgl02969', 'Beccawatzb71348', 'Mintatsquq44472',
                     'Daliazbtqa00867', 'Natkatexrh96271', 'Sulacvnyd61661', 'Janisljwvb29487', 'Rethazniol32064',
                     'Perlaijoxg08965', 'Beckiuzwdv72243', 'Susanndswmb26428', 'Alisaqpjzb75318', 'Genaqfoks43833',
                     'Bertirkjcp20512', 'Joyanpgzah81983', 'Rochxrhrc63053', 'Maggyaiaml75640', 'Sarinenwysp62378',
                     'Aurapxqsn85874', 'Albinalpgha56893', 'Tobyesrsjt32584', 'Ilkaqzwje70521', 'Corissapbcb52158',
                     'Joyakkvnl05677', 'Elysenajrw75615', 'Brynnavykgy17278', 'Trennatmpvk93433', 'Tallygphnp54074',
                     'Shellhebgl60570', 'Raynacxfue66036', 'Neddazfvhx70496', 'Orallejkjrl83634', 'Nickiekujee39683',
                     'Lorrinusaso60908', 'Ettyjvglj27446', 'Junieadkvm44304', 'Reggieqyykp43518', 'Ibbiewmxct56022',
                     'Merriecnrkv08427', 'Lolauwhrn23107', 'Audieurgoe46950', 'Trudebhepg05857', 'Caresarhzxm68994',
                     'Blondyrpgtk11782', 'Kerryywdec60379', 'Caylapagbx82609', 'Korrieubjav21316', 'Aleencxfla16400',
                     'Kaliedfxrt66378', 'Minneohoix53191', 'Barbeebiewg31536', 'Katisnmso96697', 'Ashilgbyff42794',
                     'Candiovfvr04887', 'Renatehgdwg90325', 'Brendanurox06296', 'Hedvigdasnl42075', 'Marcighzab66350',
                     'Addiexdjwb89528', 'Merryaedbl71834', 'Walyjexla26820', 'Amyejgzym49368', 'Ebonynyhml89359',
                     'Dareenxubn04624', 'Zondakbacq00211', 'Cornienzgss68707', 'Portiaqduzg63989', 'Nelliekqjhi29120',
                     'Aubryvqbun32603', 'Dailemgdhx15191', 'Ashlyzipwb31084', 'Jordanhxgoa05979', 'Jerryaqhdi74863',
                     'Gwennykbrne19291', 'Raynauqvyf64704', 'Heddikehgv70633', 'Lynseyrbvhu95552', 'Ashlielhone78499',
                     'Elisechfmf53458', 'Raslailqbh30610', 'Dyanevvdfi10286', 'Cornyhqjyy02284', 'Darcycsjlo94618',
                     'Wilmaawjvp89252', 'Janeyhnpyj22445', 'Edinjzwvj25818', 'Onidadzkwo28185', 'Mercyhgcon48253',
                     'Brookgozxk99139', 'Shenadjppe95293', 'Mandipnyld59240', 'Kristirustb06812', 'Gabbiesojxk17542',
                     'Elsyweuni01883', 'Beaeeaqs44163', 'Paolaryvpt63785', 'Dorenezwruy69789', 'Billiftmyr31363',
                     'Starvysab25523', 'Melonyuiucs81933', 'Robbiegvewd88694', 'Darceypjnxw37097', 'Raneeipxzz65563',
                     'Lulacpgfi51309', 'Shellyjxctm81086', 'Elitaadwno34230', 'Devoratxyqv26604', 'Fainahlqii24617',
                     'Lorainonbqr24842', 'Alveraxgvhc29768', 'Shainehdvwk59943', 'Jillygnhwb14924', 'Kippscftg45552',
                     'Prispdrvp12928', 'Maggiebkbje65938', 'Winnaxxkon88308', 'Jolithslw53311', 'Oreliezhbbe83061',
                     'Joaneiytps97759', 'Robbiujnar71199', 'Mercioctmu13653', 'Sandegwitk31382', 'Verieejwcky17535',
                     'Fancietdzfn08459', 'Jeweltpfan62229', 'Fifineclact30239', 'Fionnanbcrt42392', 'Casskzzse59682',
                     'Dahliacbohy03174', 'Bryntzuld94118', 'Milzierzror79023', 'Cindraategj12486', 'Romyzeauu30977',
                     'Winnidtdhv25355', 'Heidimemdg98476', 'Angeuhrkj30645', 'Neilakxwev21102', 'Kareireuc88909',
                     'Reewntdr70736', 'Traceedyvxv26266', 'Amieuwvtb38646', 'Madleniygcv20955', 'Mickieppokt94217',
                     'Leannapyfrx48063', 'Cyndekirsk37972', 'Shellmnnak44887', 'Yokocynpm55632', 'Corirjfvj48065',
                     'Adriapyhqw30514', 'Lauribmdqk13577', 'Drucyuijik02321', 'Marjakmzpu65802', 'Margetmsnyp59964',
                     'Drediqovmz30840', 'Lindsykztyv40530', 'Allisggfhf68769', 'Debmqecc01888', 'Siselyaigbg49942',
                     'Reabfkjo12862', 'Nettaswksh36689', 'Carlynzvfda12390', 'Faytheksolt19622', 'Margehsxqo24739',
                     'Kitqpokj44199', 'Walliwjjljd98888', 'Gabeyraqub11237', 'Steffirhkzx26328', 'Elyshapopdc10589',
                     'Codycoxyy68409', 'Antheairnox23571', 'Tatumxuxae15461', 'Rafbgbqb40501', 'Staceeluhdr74935',
                     'Ulricagpwqa92535', 'Aileenspzaq94201', 'Traceehonqt64343', 'Malvamclvo95300', 'Anetqfmcg25180',
                     'Tinedigch35852', 'Kasseyhqwse53088', 'Farandjnojp91933', 'Bertiebiqqi17254', 'Vinaiovpy21822',
                     'Annifylqx74950', 'Ardithxxfnm43095', 'Emylerprro01210', 'Elsiejface66184', 'Larinaeaiwb85285',
                     'Juninawlxqk44950', 'Nolapwlfp13717', 'Carineesaly92578', 'Alixyfehc58061', 'Persisnhafw81734',
                     'Ellylcrbf03556', 'Chrysavjcyi21757', 'Neliaeqbzl15818', 'Thedavclij16873', 'Suzyhpwxt31040',
                     'Renaeudlsl64187', 'Randyklfmr16015', 'Berryopxdh68372', 'Basiamgwwj24328', 'Lillylwyof30061',
                     'Michelgcwbu67816', 'Loubitoy99244', 'Illabthgp64655', 'Dianneeuofq96636', 'Teriqljgf06318',
                     'Shanenznpl49580', 'Taniolvpr45025', 'Henriegldnw77312', 'Blissesjbje16010', 'Liliaszywca38991',
                     'Evannetngdj77554', 'Billieaxshk77593', 'Joanzwabu36793', 'Breenaiyhao84356', 'Wanidsgqzpo53862',
                     'Lydayhaex70069', 'Lyndyobtof87226', 'Danelljvsod65659', 'Heddamnvjk05641', 'Shanieawskq89820',
                     'Chereyjxorm69931', 'Audyytivq10108', 'Jyotidogqy63330', 'Bellwnspb23367', 'Reggiexibjm81974',
                     'Koriwnzbk22536', 'Pansiertxne55150', 'Teddajvrxp84803', 'Betseyjktke58309', 'Naomamjwmt33704',
                     'Doreenxgbku41341', 'Jonilvqro93175', 'Jamimadrqiw51311', 'Vinitaeqtws52169', 'Amiislquj05786',
                     'Lesliexaame97549', 'Starrkhfm87083', 'Rivaugzkq90834', 'Jaymeenjtxd71252', 'Aggigplfe01394',
                     'Gustyfkjlw54725', 'Sareelwtas89281', 'Valekjqrg59408', 'Rosyyvgxf02734', 'Amallekymbk52546',
                     'Jonivthps40819', 'Chickyhyncx99834', 'Darbiedxkcb97939', 'Nancecsdeq88269', 'Janhvhui49511',
                     'Shalnarkywn06240', 'Ardythoskvp19868', 'Cordiellbpx84415', 'Joyefjbmf15242', 'Lottawkpyk12940',
                     'Sarafjsdo81066', 'Janneljdosb61459', 'Terrigpsom35502', 'Salomiosjrr49005', 'Bevdebmb62291',
                     'Valinacwidu76505', 'Vanyokee83833', 'Randiemsfyf41426', 'Xylinaxbrfe89182', 'Camliken75085',
                     'Janiamdtmo54702', 'Winnehmpfh92456', 'Allinagcolk17166', 'Miacagsc61395', 'Nolaqjgbw68548',
                     'Pansyufcfg94087', 'Janeyezfo07680', 'Hannieruovu59447', 'Mashagyjdn61404', 'Sareejaibi99783',
                     'Carmonhvfgh82543', 'Brittecollc20036', 'Freddyhrpdu19582', 'Edythcqwnf25972', 'Shaynecebqx20193',
                     'Joniswxgcc63886', 'Gladysdeulx62764', 'Agnalqpbs02710', 'Fawneonblg61223', 'Jobixizga74881',
                     'Rosscvqu81008', 'Risannmfm39541', 'Laurelcmnbt21093', 'Hannahomgca22219', 'Myrakypdk58736',
                     'Elsaglode16929', 'Kallievcor51328', 'Crissyqzkqi65366', 'Ronicaspjyb41994', 'Josysslta65483',
                     'Trinajduwa46190', 'Jamiekuqpq90543', 'Verenetzdqj23549', 'Rethanrlpp94329', 'Unaimijr47004',
                     'Rhebarpprc21145', 'Rorayqxpl74268', 'Kirbiebdqew62537', 'Calidaafbmo62112', 'Marciawwjsi55253',
                     'Sonjaerrkc21163', 'Fawnialofjf23370', 'Candisvfpzi30576', 'Leylayjngt20678', 'Dreddyfnefh99971',
                     'Lyndewxzsl98895', 'Serenafrvub11131', 'Coreneibhhh27670', 'Cherriejozj36850', 'Hedyhpxys78586',
                     'Starlakxnjp98608', 'Pansyhkfip97269', 'Nollieodkdk92899', 'Ronniliphh04702', 'Danitpzaao69963',
                     'Minnayvtqg94216', 'Elizazkvkh99236', 'Amaleafxeag92290', 'Neilengeil57289', 'Sharicbril73342',
                     'Lonnaitxnj74520', 'Mirakomur90358', 'Elfiesjzol06769', 'Crinsdyla46443', 'Emmeyrjwiw00710',
                     'Lindybqgvb85330', 'Marciinlue86309', 'Sheltctss68586', 'Gillbwhqh28408', 'Kassiamdvmu64471',
                     'Lucivhgfb63682', 'Ardathyolcm92698', 'Amataphsjy31606', 'Grierrxebo88672', 'Joreyuhqjc66258',
                     'Brinnskzji34624', 'Debbijjvki10380', 'Penhfgdr14213', 'Kaseygejiq95644', 'Frediagtxtm34110',
                     'Aniapokce39058', 'Jessmmdgn65422', 'Taraswesf86144', 'Amatajjyal10980', 'Beckizwrdh50309',
                     'Vallicfidz21623', 'Alinecwfyc18007', 'Eydezqrqu65242', 'Leylaeqftg39049', 'Seanasuapo66902',
                     'Fredikknpk57557', 'Mignonbxhwt06049', 'Brynnmxjyx08291', 'Lorievljhj26249', 'Kassiaitxus00721',
                     'Hedvigwpngu01936', 'Ashiloqcen81112', 'Vixqdhb23760', 'Denysogjdz59952', 'Kasseysrjfc87489',
                     'Janayayoucj14995', 'Devanlvwjy16125', 'Vidaxeocn24735', 'Honordtkyu89409', 'Devahrcpn91817',
                     'Edithmyggi31911', 'Candiedohwk83932', 'Noreenbecwr11155', 'Eilisfjwdr68012', 'Jeanerwyct83955',
                     'Kacyibxhy86464', 'Karlendyzod47525', 'Mahalaywpig76607', 'Alikauspbv66253', 'Amityehtmh99136',
                     'Hollyjavxh70313', 'Susieoifwh24150', 'Dyanejnojg89356', 'Hindasbbjc27749', 'Euginehugpv34178',
                     'Tishhjogb83933', 'Deeyndshzs83077', 'Remyinigb24601', 'Chereyvcru45092', 'Dollyapqqx53202',
                     'Brennabztdv74318', 'Brigidbuibt73016', 'Raqueliscss45018', 'Dardadueeh11810', 'Rafgtlas47534',
                     'Margetkflyi47258', 'Theovqvun15576', 'Romyrgzpw58411', 'Genabwowb8091', 'Ailaprxvs62178',
                     'Marionorltg30666', 'Shanirjflc62001', 'Shandyirrqs95692', 'Edehswyh35259', 'Yoshipctkg94184',
                     'Lindicrnex30836', 'Connilejqd96226', 'Carowyzvq77763', 'Barbrawzxio46981', 'Cherywnbsw28424',
                     'Normavrbkc29659', 'Tedibtfny82745', 'Hanniwafdg66548', 'Petrapdcax59334', 'Kevynmqzaf20502',
                     'Erintdnad04214', 'Seliarshvo03364', 'Graybeuxt93894', 'Myrlepfsca07566', 'Sayrestdwh72594',
                     'Helsarxpuj33756', 'Korrieknoaw63430', 'Ruthkewkh27593', 'Jessybqslk61856', 'Orianapthwn05229',
                     'Doniahvqeb86895', 'Marylbzgyu1750', 'Timcdxlw34500', 'Sisileshhnp95734', 'Deonnejbmkd38454',
                     'Janotjvuhz32795', 'Judytjjvw24294', 'Cynthypbfjx91899', 'Goldycmybm26350', 'Tarrahbkkph41231',
                     'Fredaffuxp52771', 'Amargorodvt50535', 'Rickysvoyd54648', 'Esmeqvfgv68086', 'Lonnatgupz79775',
                     'Tandytzfjb77437', 'Lishakjnlf49373', 'Lizzyeqals84247', 'Goldiejszyj70779', 'Karilzzedk45129',
                     'Corieeudby61560', 'Megenlarvx60970', 'Barrymaluo53525', 'Bibbiecbgwl03428', 'Lavinapltya45288',
                     'Mablejccwy01442', 'Birdiedkrbv78648', 'Danelluldjk81340', 'Olaymugk91500', 'Agneswryqv58284',
                     'Frannyjddjn03786', 'Freidadudpg35520', 'Arlyejwtr64911', 'Jerrypftfr09276', 'Zolaufinv04728',
                     'Nertazqhwh48069', 'Carriltmvy19662', 'Jemmiegnhsb97513', 'Darceycgzpl04117', 'Rozinaabfan95846',
                     'Ameejhib92444', 'Ebadkmxe57502', 'Ranizmmhz68937', 'Kyledfdhf77562', 'Sarenebvofk98644',
                     'Kellirhrcd11407', 'Faricaafdmx50804', 'Kimmimpztj16778', 'Gayevjmdx55134', 'Wandieajyql76170',
                     'Maxielhiof61948', 'Jillietkovn61986', 'Farahpvarf57559', 'Leshiaglrvr74000', 'Beryletrqhb60651',
                     'Ilysagbbte49666', 'Issieabpqv69053', 'Rhodyxyfyi73100', 'Walyutxwv47100', 'Wandisjpdyd34207',
                     'Ailisnizmn25637', 'Haliuylse30527', 'Joantoqsv09087', 'Pennybygob81843', 'Deborpejgl48882',
                     'Avistldgr18154', 'Risadvbqt28711', 'Juniadzhzz79831', 'Melrbppu17804', 'Loellanpzyh71026',
                     'Josqxxw82870', 'Rosenetsquh64982', 'Celieubdjs16605', 'Berriarakb61797', 'Jenneembabc17889',
                     'Hanniozdpe36894', 'Rebavcxaf65529', 'Lorinouhs65085', 'Kaniabpaql41044', 'Gabbiekjlnf63984',
                     'Lillisfjpvn70545', 'Yoshiepiea59047', 'Evitalnpwr64116', 'Tashaoggxf78878', 'Sandejgevu57347',
                     'Jenneekvssp65055', 'Cathyjyhwv27701', 'Vonnilrmoe12642', 'Joridvndx78718', 'Sibbieywmbx97388',
                     'Kandyrfyxt49248', 'Verinakczig02050', 'Aidarcway03303', 'Kisseeebhko07374', 'Agnetahilkl77060',
                     'Shandafskjt91140', 'Keeleycfweh18505', 'Hedytzcsr39638', 'Daniqkbap00380', 'Zeaivgts19410',
                     'Malvaeocny82221', 'Nadamsixh89453', 'Jannelfomht42506', 'Nixieiznzu98944', 'Alyssanpzrs33429',
                     'Kathytmmsw32654', 'Corriefofxo10326', 'Pattibgplm38012', 'Nydiadthgw42174', 'Kattiuaedx41940',
                     'Ninadjrgo76712', 'Simonezbdim16346', 'Meggiegicay94373', 'Sibelzoquo06164', 'Rhetagrkum50672',
                     'Allixtfiid12305', 'Imogenpuegs83880', 'Floryftzib72314', 'Kaiazdbbz06128', 'Devilqhae87666',
                     'Prudiqboeg59443', 'Andyqgusq90617', 'Gretnardghu78635', 'Sharaimxkjf44972', 'Saideeatgvv91621',
                     'Agnessmfzh50016', 'Allysxbfsj86699', 'Iliselqqjn47316', 'Januapvh11558', 'Dorristwhdq19525',
                     'Gianaljqkx02298', 'Muirecnkpg02023', 'Larineoqwlj74907', 'Careyxhrba95573', 'Trishaurmzo98945',
                     'Helgerqwjl85015', 'Velmazybtv11769', 'Nikedpbje72353', 'Devasjezs57617', 'Cheroywdh31878',
                     'Jobicjinh17324', 'Janicetzsfh14639', 'Steshadarwz26811', 'Rhebabkftw64606', 'Altarsndf15276',
                     'Rodilsjnk77126', 'Addyhhqhw84303', 'Deidrenjrmq97881', 'Ranikbxuv36370', 'Sunnyamigt35230',
                     'Bobineckurg10219', 'Dorianzzsnu60541', 'Winniafdtw21714', 'Maureyqtdk18396', 'Teddiffwii19783',
                     'Tarynkdlzr70772', 'Korendpjhg89682', 'Trudaioivg23564', 'Ermarfwme25979', 'Deidredmcte64917',
                     'Nettlesnghn24931', 'Randypphul86940', 'Edythevljpc98963', 'Ruthcaagj40348', 'Glennsvhfz17238',
                     'Liannedzxbt67401', 'Deedeetfjnd37991', 'Ronajyoiw41783', 'Louisedqwau66428', 'Stephangfah93529',
                     'Daffifwklo69307', 'Maylteyr28331', 'Kesleyzqzod26844', 'Mashafxzzm00767', 'Cayejkqrl77665',
                     'Erenaiulgu79817', 'Kellyloxpu60785', 'Darsiejzodh56621', 'Bernawfnyk99574', 'Bertuueub20187',
                     'Arajxdii62238', 'Norriytewf00304', 'Alfiejwqlx91308', 'Sonjamnxlx78634', 'Elitahlynf47039',
                     'Lanienwhgs14419', 'Cyndiaeyzsg94000', 'Robbynghqrx88246', 'Sararscew41924', 'Nanondjgth56322',
                     'Xylianaxwg07975', 'Raniceqjofn86277', 'Kaceysxjnc95989', 'Anniybbca08922', 'Jamimarmfjy72676',
                     'Aureldjjwq55566', 'Ajaynuzyu74116', 'Nelievgyvj31349', 'Lindielnuxh40889', 'Darbytrbto24456',
                     'Carladxnnk43904', 'Florexmpkl41852', 'Susiscplf32206', 'Irenaxazmy78490', 'Amywijjg49431',
                     'Winnygsmhn57175', 'Merciexzxqd44202', 'Deenamtskr31005', 'Zeniajlygc41963', 'Channamxgky49271',
                     'Ionaualnz88520', 'Wilowlkjzr56797', 'Leneeztwxj72796', 'Bryanatdulq58786', 'Rodinavqjhx59432',
                     'Allieqqqdm76989', 'Dashaqhmgg36890', 'Almaedquj69857', 'Edejukoj51122', 'Deniejosj50617',
                     'Rhetafzvud39705', 'Wearrutty4281', 'Wingyouse24419', 'Sankskreye708', 'Uunkoraeya4277',
                     'Szorclund9046', 'Shandkacer8969', 'Bruacondi0714', 'Consohman0658', 'Dalyuzn882',
                     'Gowerafful09077', 'Oatskhera80776', 'Thelebrast743', 'Jahacron889', 'Relangraig444',
                     'Yambokocol1773', 'Palfikarna413', 'Fitesrobb12393', 'Gripfauni23277', 'Sitorussi971',
                     'Bakkissac76691', 'Ryliegrav7896', 'Ontainovac067', 'Bluemkansi1481', 'Arigoody8652',
                     'Isaakgibel217', 'Dirtease11400', 'Gadaken566', 'Palikkhuat719', 'Aichaghosn458', 'Uzhcaquaid4051',
                     'Towsebitah627', 'Mondomansy08710', 'Iniyanulle070', 'Mavenlovec08085', 'Hobinamer944',
                     'Jukicpuppe76964', 'Armsfultz3392', 'Mongoyordy67854', 'Luchagili27735', 'Urmannice0085'}
local RECEIVER_LIST = {'Kimrruvv48171', 'Ilenedmquc83719', 'Myrtleqkzdc36688', 'Cameljmytc15452', 'Lelawrqeg18583',
                       'Auriejfejx05583', 'Karolzulnf61408', 'Bevyonwa82850', 'Trishqcvdq96702', 'Billyerefsj51515',
                       'Annaqtigc82303', 'Luznwzkb66805', 'Devalrjiq32575', 'Sibelgnpmi75522', 'Effieiijqg86793',
                       'Winnigfomm99917', 'Bettebtwdu04435', 'Belleoveng07990', 'Ardythiapfh08185', 'Perlyvdat36469',
                       'Devorairlbt66387', 'Freidanlkoo25226', 'Shaymkdtc34276', 'Lindsvvxc88539', 'Juninafgach14701',
                       'Cloeobrmw12940', 'Millyoyexo67887', 'Shenahjlmq67184', 'Muffinqfwtk46692', 'Dathajcupz78066',
                       'Sindeeiiqtb86287', 'Kessiaixmyx00634', 'Luellafpuij66646', 'Steffiksabv91120',
                       'Wilowrhbtt41229', 'Reggiergegz29870', 'Margyfvwno29922', 'Arlenlzlru06921', 'Jammieyeouj33900',
                       'Karyifgyk57647', 'Tynewkyfw21571', 'Katiewzrgh75726', 'Birdrnvvb06254', 'Vickihowcr49239',
                       'Gloriajovhr94651', 'Tandytzknw55447', 'Ashlanyejgp96617', 'Halleyhpfqo47475',
                       'Keelianfnvl81574', 'Jobyepiaaj26285', 'Tovewyyuy40401', 'Winidpmic98554', 'Luellefjlwt40006',
                       'Harliexuhbm93069', 'Dediekdupv38561', 'Daveenlgplh47204', 'Grierxzkim05232', 'Harlijgren32030',
                       'Debrafhixi94246', 'Carlenbwuot09197', 'Elenelfeew05006', 'Karingbzvw27163', 'Lanapsnqi89197',
                       'Tomasbssf93179', 'Dyanneskrqc09685', 'Trixykmnob58296', 'Rahelnxiui37093', 'Elsezrupn04618',
                       'Camydqzc88185', 'Carazmbwt09188', 'Lianmmjpf56327', 'Rodawmxow25785', 'Emmeyoemmv11251',
                       'Leighawtqsh05936', 'Katinauzagd88317', 'Elmiratmmoj68700', 'Shanivnbyg79948',
                       'Bunniejkrsb18147', 'Cecileihbxk12104', 'Kylenvlsxd86191', 'Trixylhnju18795', 'Robyglshd38537',
                       'Belviapyhxn58257', 'Callielyfyf62985', 'Aureaxmbpe76958', 'Rosinafkfjo48662',
                       'Jazminehdgx94839', 'Gretnabxlss27563', 'Malenadignc68031', 'Norawjlnd79255', 'Lesyalfben34225',
                       'Pagecwpzt32820', 'Starsvjim25017', 'Raeycmdz16303', 'Morgenleilr14140', 'Tanhyadmnds87756',
                       'Dottimpu73713', 'Tristamzxzv40768', 'Hermiarsglk89036', 'Mindytmlof04748', 'Nessaepugw55625',
                       'Nanceeqqkgb43921', 'Goldahdbjo51407', 'Joeyfkeix63247', 'Brinarxgtz63096', 'Kiradcwik02918'}

-- ตัวแปรสำหรับการทำงาน
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GuiService = game:GetService("GuiService")
local VirtualInputManager = game:GetService("VirtualInputManager")

-- ตัวแปรสำหรับ tracking
local currentStep = 0
local currentStepReceiver = 0 -- ตัวแปรแยกสำหรับ receiver mode
local isTrading = false
local tradePartner = nil

-- ตัวแปรสำหรับตรวจสอบสถานะการเพิ่มไอเทม
local shroomAdded = false
local tokenAdded = false
local creatureAdded = false

-- ตัวแปรควบคุมการเรียก remote (ป้องกันการเรียกซ้อน)
local isRemoteBusy = false
local lastRemoteCallTime = 0

-- ตัวแปรสำหรับ state-based tracking (เพิ่มใหม่)
local receiverCreatureStartTime = 0
local receiverCreatureRequested = false
local receiverAcceptStartTime = 0
local receiverAcceptRequested = false

-- ตัวแปรสำหรับ receiver timeout (เพิ่มใหม่)
local lastTradeRequestTime = tick()
local RECEIVER_TIMEOUT = 300 -- 5 นาที (300 วินาที)

-- ตัวแปรสำหรับ sender state-based tracking
local senderShroomStartTime = 0
local senderShroomRequested = false
local senderTokenStartTime = 0
local senderTokenRequested = false
local senderCreatureStartTime = 0
local senderCreatureRequested = false
local senderAcceptStartTime = 0
local senderAcceptRequested = false

-- ตัวแปรป้องกันการทำงานพร้อมกัน
local isSenderMainActive = false
local isSenderReceiverActive = false

-- ตัวแปรสำหรับ timeout การรอเริ่มเทรดหลังส่งคำขอหา receiver
local SENDER_REQUEST_TIMEOUT = 200 -- วินาที
local lastSentTargetName = nil
local lastSentTargetIsReceiver = false
local lastSentTime = 0

-- ฟังก์ชันช่วยเหลือ
local function IsInList(name, list)
    for _, listName in ipairs(list) do
        if name == listName then
            return true
        end
    end
    return false
end

local function Clicked_Ui(path)
    local success, error = pcall(function()
        GuiService.SelectedObject = path
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการเลือก UI: " .. tostring(error))
    end
end

local function Click_NOW()
    local success, error = pcall(function()
        VirtualInputManager:SendKeyEvent(true, 13, false, game)
        wait(0.1)
        VirtualInputManager:SendKeyEvent(false, 13, false, game)
        task.wait(2)
        Clicked_Ui(nil)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกดปุ่ม: " .. tostring(error))
    end
end

-- ฟังก์ชันวาร์ปไปยังตำแหน่งที่กำหนด
local function WarpToLocation()
    local success, error = pcall(function()
        local character = LocalPlayer.Character
        if character then
            character:PivotTo(CFrame.new(Vector3.new(-2132.24, 490.66, 1106.83)))
            print("✅ วาร์ปไปยังตำแหน่งที่กำหนดแล้ว")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการวาร์ป: " .. tostring(error))
    end
end

-- ฟังก์ชันหาคู่เทรดที่ว่าง
local function FindValidReceiver()
    local result = nil
    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            return nil
        end
        
        print("🔍 กำลังค้นหาคู่เทรดที่ว่าง...")

        -- ค้นหา receiver ที่ว่าง
        local validReceivers = {}
        local getPlayersSuccess = pcall(function()
            for _, player in pairs(Players:GetPlayers()) do
                if IsInList(player.Name, RECEIVER_LIST) then
                    local isAvailable = false
                    local tradingValue = nil
                    local checkSuccess = pcall(function()
                        if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                            tradingValue = player.Settings.Trading.Value
                            isAvailable = (tradingValue == false)
                        else
                            isAvailable = true
                            tradingValue = "unknown"
                        end
                    end)

                    if not checkSuccess then
                        print(
                            "⚠️ เกิดข้อผิดพลาดในการเช็คสถานะ " ..
                                player.Name .. " สมมติว่าว่าง...")
                        isAvailable = true
                        tradingValue = "error"
                    end

                    if isAvailable then
                        print("✅ พบ receiver ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                                  tostring(tradingValue) .. ")")
                        table.insert(validReceivers, player)
                    else
                        print("❌ Receiver " .. player.Name ..
                                  " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) ..
                                  ")")
                    end
                end
            end
        end)

        if not getPlayersSuccess then
            print(
                "❌ เกิดข้อผิดพลาดในการดึงรายชื่อผู้เล่น")
            return nil
        end

        -- ถ้ามี receiver ว่าง ให้เลือกหนึ่งคน
        if #validReceivers > 0 then
            local selected = validReceivers[math.random(1, #validReceivers)]
            print("🎯 เลือก receiver: " .. selected.Name)
            result = selected
            return
        end

        -- ถ้าไม่มี receiver ว่าง ให้ค้นหา sender อื่นที่ว่าง
        print("ไม่มี receiver ว่าง กำลังค้นหา sender อื่น...")
        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    tradingValue = player.Settings.Trading.Value
                    isAvailable = (tradingValue == false)
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print(
                        "❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " ..
                            tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender เพื่อเทรดด้วย: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบคู่เทรดที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindValidReceiver: " ..
                 tostring(error))
    end
    return result
end

-- ฟังก์ชันส่ง trade request
local function SendTradeRequest(receiverName)
    local success, error = pcall(function()
        local args = {"SendRequest", game:GetService("Players"):WaitForChild(receiverName)}
        game:GetService("Players").LocalPlayer:WaitForChild("Remotes"):WaitForChild("TradeRequestRemote"):FireServer(
            unpack(args))
        print("📤 ส่ง trade request ไปยัง " .. receiverName)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการส่ง trade request: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันหาผู้เล่น sender ที่ว่าง (ค้นหาเฉพาะ sender)
local function FindAvailableSender()
    local result = nil
    local success, error = pcall(function()
        print("🔍 กำลังค้นหา sender ที่ว่าง...")

        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                        tradingValue = player.Settings.Trading.Value
                        isAvailable = (tradingValue == false)
                    else
                        isAvailable = true
                        tradingValue = "unknown"
                    end
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " .. tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print("❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบ sender ที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindAvailableSender: " .. tostring(error))
    end
    return result
end

-- ฟังก์ชัน add shroom
local function AddShroom()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่สามารถเพิ่ม shroom ได้")
            return false
        end
        
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub("@", "")
        local localPlayerName = LocalPlayer.Name

        local amount = coinsValue - 20
        if amount > 500000 then
            amount = 500000
        end
        if amount < 0 then
            amount = 0
        end

        local args = {"AddTradeItem", {
            Overwrite = true,
            ItemType = "Currency",
            Name = "Shooms",
            Amount = amount
        }}

        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ถูกปิดระหว่าง AddShroom, reset currentStep")
            currentStep = 0
            return false
        end

        local remote1Name = localPlayerName .. "-" .. opponentName .. "TradeRemote"
        local remote1 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote1Name)
        if not remote1 then
            print("❌ ไม่พบ remote1: " .. tostring(remote1Name))
            currentStep = 0
            return false
        end
        remote1:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote1...")
        wait(3)

        local remote2Name = opponentName .. "-" .. localPlayerName .. "TradeRemote"
        local remote2 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote2Name)
        if not remote2 then
            print("❌ ไม่พบ remote2: " .. tostring(remote2Name))
            currentStep = 0
            return false
        end
        remote2:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote2...")
        wait(3)

        print("✅ เพิ่ม " .. amount .. " Shrooms ในการเทรดกับ " .. opponentName)
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddShroom: " ..
                 tostring(error))
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add token
local function AddToken()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local tokenList = {'ChangeCreatureColorsToken', 'CreatureReviveToken', 'FullGrowToken', 'PartialGrowToken',
                       'FreeSpinToken', 'RandomStoredCreatureToken','DeathGachaToken'}

    local success, error = pcall(function()
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub('@', '')
        local localPlayerName = LocalPlayer.Name

        -- ตั้งค่า remote กำลังใช้งาน
        isRemoteBusy = true

        for i, tokenName in ipairs(tokenList) do
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("❌ TradeGui ถูกปิดระหว่าง AddToken, reset currentStep")
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Tokens',
                Name = tokenName,
                Amount = 150
            }}

            local remoteName = localPlayerName .. '-' .. opponentName .. 'TradeRemote'
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print("📤 กำลังเพิ่ม " .. tokenName .. " (" .. i .. "/" .. #tokenList .. ")...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn(
                    "❌ เกิดข้อผิดพลาดในการเรียก remote สำหรับ " ..
                        tokenName .. ": " .. tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print('✅ เพิ่ม ' .. tokenName .. ' ในการเทรดกับ ' .. opponentName)

            -- รอ 3 วินาทีหลังใช้ remote
            print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ " .. tokenName ..
                      "...")
            wait(3)
        end

        -- ปลดล็อค remote
        isRemoteBusy = false
        print('✅ เพิ่ม token ทั้งหมดเสร็จสิ้น')
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddToken: " ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature สำหรับ Receiver แบบปลอดภัย
local function AddCreatureReceiver()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                    currentStepReceiver = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStepReceiver = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStepReceiver = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            local remotes = ReplicatedStorage:FindFirstChild('Remotes')
            if not remotes then
                print('❌ ไม่พบ Remotes folder')
                currentStepReceiver = 0
                return false
            end

            local remote = remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStepReceiver = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                currentStepReceiver = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStepReceiver = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStepReceiver = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreatureReceiver: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStepReceiver = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature
local function AddCreature(isReceiver)
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                    currentStep = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStep = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStep = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName
            if isReceiver then
                remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            else
                remoteName = LocalPlayer.Name .. '-' .. otherPlayerName .. 'TradeRemote'
            end
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStep = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                currentStep = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStep = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreature: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชันกด accept สำหรับ Receiver แบบปลอดภัย
local function ClickAcceptReceiver()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
        if not tradeGui then
            print("❌ ไม่พบ TradeGui")
            return false
        end

        local containerFrame = tradeGui:FindFirstChild("ContainerFrame")
        if not containerFrame then
            print("❌ ไม่พบ ContainerFrame")
            return false
        end

        local acceptButton = containerFrame:FindFirstChild("AcceptButton")
        if not acceptButton then
            print("❌ ไม่พบ AcceptButton")
            return false
        end

        local upperLabel = acceptButton:FindFirstChild("UpperLabel")
        if not upperLabel then
            print("❌ ไม่พบ UpperLabel")
            return false
        end

        Clicked_Ui(upperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด accept
local function ClickAccept()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.AcceptButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด cancel
local function ClickCancel()
    local success, error = pcall(function()
        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.CancelButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("❌ ยกเลิกการเทรด")
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด cancel: " .. tostring(error))
    end
end

-- ฟังก์ชันเช็คชื่อคู่เทรด
local function CheckTradePartner()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            return false
        end

        local theirLabel = LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel
        if not theirLabel or not theirLabel.Text then
            return false
        end

        local opponentName = theirLabel.Text:gsub("@", "")

        -- เช็คว่าชื่อตรงกับในรายชื่อหรือไม่
        if IsInList(opponentName, RECEIVER_LIST) or IsInList(opponentName, SENDER_LIST) then
            print("✅ ชื่อคู่เทรดถูกต้อง: " .. opponentName)
            return true
        else
            print("❌ ชื่อคู่เทรดไม่ตรงกับรายชื่อ: " ..
                      opponentName)
            ClickCancel()
            return false
        end
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการเช็คชื่อคู่เทรด: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Sender
local function AcceptTradeRequestForSender()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    -- Sender สามารถรับ trade request จาก sender อื่นได้
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Sender พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                -- Sender สามารถรับ trade request จาก sender อื่นได้
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Sender พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Sender: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver แบบปลอดภัย
local function AcceptTradeRequestReceiver()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver
local function AcceptTradeRequest()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน Coroutine สำหรับ Sender ที่รับ trade request
local function SenderReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) SenderReceiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                -- รอ trade request
                AcceptTradeRequestForSender()

                -- ตรวจสอบ timeout สำหรับ Sender ที่ทำงานแบบ Receiver (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Sender (Receiver mode) ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print(
                            "⏰ Sender (Receiver mode) รอ trade request... เหลือเวลาอีก " ..
                                string.format("%.0f", timeRemaining) ..
                                " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                isSenderReceiverActive = false
                wait(2)
            else
                -- กำลังเทรดอยู่ (เมื่อเป็น receiver)
                -- ตรวจสอบว่ามี trade request หรือไม่
                local hasTradeRequest = false
                local requestsFrame = LocalPlayer.PlayerGui.RequestsGui.RequestsFrame.Other
                if requestsFrame then
                    for _, child in pairs(requestsFrame:GetChildren()) do
                        if string.find(child.Name, "^Trade") then
                            hasTradeRequest = true
                            break
                        end
                    end
                end

                -- ถ้ามี trade request ให้ override main sender
                if hasTradeRequest then
                    print("📩 พบ trade request กำลัง override Main Sender...")
                    isSenderMainActive = false
                end

                -- ตรวจสอบว่า main sender loop กำลังทำงานอยู่หรือไม่
                if isSenderMainActive then
                    print(
                        "⏸️ Main Sender กำลังทำงานอยู่ SenderReceiver รอสักครู่...")
                    wait(1)
                    return
                end

                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        isSenderReceiverActive = true
                        currentStepReceiver = 1
                        print(
                            "🚀 Sender เริ่มขั้นตอนที่ 1: Add Creature (โหมด Receiver)")
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 เริ่ม Add Creature...")
                            -- เริ่มทำ AddCreature แบบไม่รอผลลัพธ์
                            spawn(function()
                                AddCreature(true)
                            end)
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()
                            print("⏳ รอให้ Add Creature เสร็จ...")
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 5 then
                            currentStepReceiver = 2
                            print(
                                "   Sender เริ่มขั้นตอนที่ 2: Click Accept (โหมด Receiver)")
                        else
                            print("⏳ รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking
                    if not receiverAcceptRequested then
                        print("🚀 เริ่ม Click Accept...")
                        -- เริ่มทำ ClickAccept แบบไม่รอผลลัพธ์
                        spawn(function()
                            ClickAccept()
                        end)
                        receiverAcceptRequested = true
                        receiverAcceptStartTime = tick()
                        print("⏳ รอให้ Click Accept เสร็จ...")
                    else
                        -- ตรวจสอบว่าผ่านไป 3 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 3 then
                            currentStepReceiver = 0
                            print("✅ Sender เทรดเสร็จสิ้น (โหมด Receiver)")
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                            isSenderReceiverActive = false
                        else
                            print("⏳ รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 3 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน SenderReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            isSenderReceiverActive = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

function TradeStepHandlerSender(step)
    if not LocalPlayer.PlayerGui.TradeGui.Enabled then
        -- ยังไม่ได้เทรด
        if step ~= 0 then
            print(
                "Trade ถูกยกเลิกหรือจบกลางคัน กำลัง reset step...")
            -- รีเซ็ตสถานะการเพิ่มไอเทม
            shroomAdded = false
            tokenAdded = false
            creatureAdded = false
            -- รีเซ็ตสถานะ sender tracking
            senderShroomStartTime = 0
            senderShroomRequested = false
            senderTokenStartTime = 0
            senderTokenRequested = false
            senderCreatureStartTime = 0
            senderCreatureRequested = false
            senderAcceptStartTime = 0
            senderAcceptRequested = false
            isSenderMainActive = false
            -- รีเซ็ตสถานะการส่งคำขอค้าง
            lastSentTargetName = nil
            lastSentTargetIsReceiver = false
            lastSentTime = 0
            step = 0
        end

        -- ตรวจสอบว่า SenderReceiver กำลังทำงานอยู่หรือไม่
        if isSenderReceiverActive then
            print(
                "⏸️ SenderReceiver กำลังทำงานอยู่ Main Sender รอสักครู่...")
            return 0
        end

        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            -- ถ้า coins ไม่เพียงพอ ให้ปลดล็อค main sender และรอ
            isSenderMainActive = false
            wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
        else
            -- ถ้าส่งหา receiver ค้างไว้นานเกินกำหนด ให้ลองหา sender ที่ว่างแทน
            if lastSentTargetIsReceiver and lastSentTime > 0 then
                local elapsed = tick() - lastSentTime
                if elapsed >= SENDER_REQUEST_TIMEOUT then
                    print("⚠️ รอเริ่มเทรดกับ receiver (" .. tostring(lastSentTargetName) .. ") นานเกิน " .. SENDER_REQUEST_TIMEOUT .. " วินาที กำลังหา sender แทน...")
                    local fallbackSender = FindAvailableSender()
                    if fallbackSender then
                        SendTradeRequest(fallbackSender.Name)
                        lastSentTargetName = fallbackSender.Name
                        lastSentTargetIsReceiver = false
                        lastSentTime = tick()
                        return 0
                    else
                        -- ปรับเวลาเพื่อหลีกเลี่ยงการ spam ตรวจซ้ำทันที
                        lastSentTime = tick()
                    end
                end
            end

            local validPartner = FindValidReceiver()
            if validPartner then
                SendTradeRequest(validPartner.Name)
                -- บันทึกสถานะเป้าหมายล่าสุดที่ส่งคำขอ
                lastSentTargetName = validPartner.Name
                lastSentTargetIsReceiver = IsInList(validPartner.Name, RECEIVER_LIST)
                lastSentTime = tick()
            else
                -- ถ้าไม่มี partner ให้ปลดล็อค main sender
                isSenderMainActive = false
            end
        end
        return 0 -- reset step
    else
        -- กำลังเทรดอยู่
        -- เคลียร์สถานะการส่งคำขอค้างเมื่อเข้าสู่หน้าต่าง Trade จริง
        lastSentTargetName = nil
        lastSentTargetIsReceiver = false
        lastSentTime = 0
        if step == 0 then
            if CheckTradePartner() then
                print("🚀 เริ่มขั้นตอนที่ 1: Add Shroom")
                -- รีเซ็ตสถานะการเพิ่มไอเทมเมื่อเริ่มเทรดใหม่
                shroomAdded = false
                tokenAdded = false
                creatureAdded = false
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                return 1
            end
        elseif step == 1 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddShroom, reset step")
                return 0
            end
            -- Add Shroom - ใช้ state-based tracking
            if not senderShroomRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 1
                else
                    print("🚀 เริ่ม Add Shroom...")
                    senderShroomRequested = true
                    senderShroomStartTime = tick()
                    isSenderMainActive = true -- ตั้ง active เมื่อเริ่มเทรดจริง
                    -- เรียก AddShroom แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Shroom เสร็จ...")
                    local shroomSuccess = AddShroom()
                    if shroomSuccess then
                        shroomAdded = true
                        print("✅ Add Shroom เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 2: Add Token")
                        return 2
                    else
                        print("❌ Add Shroom ล้มเหลว")
                        senderShroomRequested = false
                        isSenderMainActive = false
                        return 0
                    end
                end
            else
                -- ถ้า shroom ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderShroomStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Shroom ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                    shroomAdded = true
                    return 2
                else
                    print("⏳ รอ Add Shroom เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 1
                end
            end
        elseif step == 2 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddToken, reset step")
                return 0
            end
            -- Add Token - ใช้ state-based tracking
            if not senderTokenRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 2
                else
                    print("🚀 เริ่ม Add Token...")
                    senderTokenRequested = true
                    senderTokenStartTime = tick()
                    -- เรียก AddToken แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Token เสร็จ...")
                    local tokenSuccess = AddToken()
                    if tokenSuccess then
                        tokenAdded = true
                        print("✅ Add Token เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 3: Add Creature")
                        return 3
                    else
                        print("❌ Add Token ล้มเหลว")
                        senderTokenRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า token ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderTokenStartTime
                if elapsedTime >= 30 then
                    print(
                        "⚠️ Add Token ใช้เวลานานเกินไป กำลังข้ามไป step 3")
                    tokenAdded = true
                    return 3
                else
                    print("⏳ รอ Add Token เสร็จ... (" .. string.format("%.1f", 30 - elapsedTime) ..
                              " วินาที)")
                    return 2
                end
            end
        elseif step == 3 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddCreature, reset step")
                return 0
            end
            -- Add Creature - ใช้ state-based tracking
            if not senderCreatureRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 3
                else
                    print("🚀 เริ่ม Add Creature...")
                    senderCreatureRequested = true
                    senderCreatureStartTime = tick()
                    -- เรียก AddCreature แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Creature เสร็จ...")
                    local creatureSuccess = AddCreature(false)
                    if creatureSuccess then
                        creatureAdded = true
                        print("✅ Add Creature เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 4: Click Accept")
                        return 4
                    else
                        print("❌ Add Creature ล้มเหลว")
                        senderCreatureRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า creature ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderCreatureStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 4")
                    creatureAdded = true
                    return 4
                else
                    print("⏳ รอ Add Creature เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 3
                end
            end
        elseif step == 4 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง ClickAccept, reset step")
                return 0
            end
            -- Click Accept - ใช้ state-based tracking
            if not senderAcceptRequested then
                -- ตรวจสอบว่าทุกขั้นตอนเสร็จสิ้นแล้ว
                if shroomAdded and tokenAdded and creatureAdded then
                    print("🔍 ตรวจสอบสถานะ: Shroom=" .. tostring(shroomAdded) .. ", Token=" ..
                              tostring(tokenAdded) .. ", Creature=" .. tostring(creatureAdded))

                    -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                    if isRemoteBusy then
                        print(
                            "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                        return 4 -- ยังคงอยู่ใน step 4
                    end
                    print("🚀 เริ่ม Click Accept...")
                    senderAcceptRequested = true
                    senderAcceptStartTime = tick()
                    -- เรียก ClickAccept แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Click Accept เสร็จ...")
                    local acceptSuccess = ClickAccept()
                    if acceptSuccess then
                        print("✅ เทรดเสร็จสิ้น")
                        -- รีเซ็ตสถานะการเพิ่มไอเทม
                        shroomAdded = false
                        tokenAdded = false
                        creatureAdded = false
                        -- รีเซ็ตสถานะ sender tracking
                        senderShroomStartTime = 0
                        senderShroomRequested = false
                        senderTokenStartTime = 0
                        senderTokenRequested = false
                        senderCreatureStartTime = 0
                        senderCreatureRequested = false
                        senderAcceptStartTime = 0
                        senderAcceptRequested = false
                        isSenderMainActive = false
                        return 0
                    else
                        print("❌ Click Accept ล้มเหลว")
                        senderAcceptRequested = false
                        return 0
                    end
                else
                    print(
                        "⚠️ ยังมีขั้นตอนที่ยังไม่เสร็จ: Shroom=" ..
                            tostring(shroomAdded) .. ", Token=" .. tostring(tokenAdded) .. ", Creature=" ..
                            tostring(creatureAdded))
                    -- กลับไปทำขั้นตอนที่ยังไม่เสร็จ
                    if not shroomAdded then
                        print("🔄 กลับไปทำ Add Shroom")
                        return 1
                    elseif not tokenAdded then
                        print("🔄 กลับไปทำ Add Token")
                        return 2
                    elseif not creatureAdded then
                        print("🔄 กลับไปทำ Add Creature")
                        return 3
                    end
                end
            else
                -- ถ้า accept ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderAcceptStartTime
                if elapsedTime >= 5 then
                    print(
                        "⚠️ Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                    print("✅ เทรดเสร็จสิ้น")
                    -- รีเซ็ตสถานะการเพิ่มไอเทม
                    shroomAdded = false
                    tokenAdded = false
                    creatureAdded = false
                    -- รีเซ็ตสถานะ sender tracking
                    senderShroomStartTime = 0
                    senderShroomRequested = false
                    senderTokenStartTime = 0
                    senderTokenRequested = false
                    senderCreatureStartTime = 0
                    senderCreatureRequested = false
                    senderAcceptStartTime = 0
                    senderAcceptRequested = false
                    isSenderMainActive = false
                    return 0
                else
                    print("⏳ รอ Click Accept เสร็จ... (" .. string.format("%.1f", 5 - elapsedTime) ..
                              " วินาที)")
                    return 4
                end
            end
        end
    end
    return step
end

-- เรียกใช้งานแบบ timer (ทุก 1 วินาที)
local function StartSenderStepLoop()
    spawn(function()
        while true do
            local success, err = pcall(function()
                local previousStep = currentStep
                currentStep = TradeStepHandlerSender(currentStep)

                -- ถ้า step เปลี่ยน แสดงว่าขั้นตอนเสร็จแล้ว
                if previousStep ~= currentStep then
                    print("🔄 ขั้นตอนเปลี่ยนจาก " .. previousStep ..
                              " เป็น " .. currentStep)
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน TradeStepHandlerSender: " .. tostring(err))
                currentStep = 0
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                isSenderMainActive = false
            end

            -- รอ 1 วินาทีแล้ววนใหม่
            wait(1)
        end
    end)
end

-- Coroutine สำหรับ Receiver แบบปลอดภัย
local function ReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) Receiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            -- ตรวจสอบ TradeGui อย่างปลอดภัย
            local tradeGuiEnabled = false
            local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
            if tradeGui then
                tradeGuiEnabled = tradeGui.Enabled
            end

            if not tradeGuiEnabled then
                -- รอ trade request
                AcceptTradeRequestReceiver()

                -- ตรวจสอบ timeout (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Receiver ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print("⏰ Receiver รอ trade request... เหลือเวลาอีก " ..
                                  string.format("%.0f", timeRemaining) ..
                                  " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                wait(2)
            else
                -- กำลังเทรดอยู่
                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        currentStepReceiver = 1
                        print("🚀 Receiver เริ่มขั้นตอนที่ 1: Add Creature")
                        -- รีเซ็ตสถานะก่อนเริ่มใหม่
                        receiverCreatureStartTime = 0
                        receiverCreatureRequested = false
                        receiverAcceptStartTime = 0
                        receiverAcceptRequested = false
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Receiver: Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Add Creature...")
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()

                            -- เรียก AddCreatureReceiver แบบ synchronous พร้อม error handling
                            local creatureSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                creatureSuccess = AddCreatureReceiver()
                            end)

                            if attemptSuccess and creatureSuccess then
                                print("✅ Receiver Add Creature เสร็จสิ้น")
                                currentStepReceiver = 2
                                print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                            else
                                warn("❌ Receiver Add Creature ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverCreatureRequested = false
                                receiverCreatureStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 10 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 10 then
                            print(
                                "⚠️ Receiver Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                            currentStepReceiver = 2
                            print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                        else
                            print("⏳ Receiver รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 10 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverAcceptRequested then
                        -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⚠️ Receiver: Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Click Accept...")
                            receiverAcceptRequested = true
                            receiverAcceptStartTime = tick()

                            -- เรียก ClickAcceptReceiver แบบ synchronous พร้อม error handling
                            local acceptSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                acceptSuccess = ClickAcceptReceiver()
                            end)

                            if attemptSuccess and acceptSuccess then
                                print("✅ Receiver เทรดเสร็จสิ้น")
                                currentStepReceiver = 0
                                -- รีเซ็ตสถานะ
                                receiverCreatureStartTime = 0
                                receiverCreatureRequested = false
                                receiverAcceptStartTime = 0
                                receiverAcceptRequested = false
                            else
                                warn("❌ Receiver Click Accept ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverAcceptRequested = false
                                receiverAcceptStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 5 then
                            print(
                                "⚠️ Receiver Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                            print("✅ Receiver เทรดเสร็จสิ้น")
                            currentStepReceiver = 0
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                        else
                            print("⏳ Receiver รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน ReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

-- Coroutine ปิดหน้าต่าง CreatureInventoryFrame อัตโนมัติ (ทำงานเบื้องหลังตลอดเวลา)
local function InventoryCloserCoroutine()
    spawn(function()
        while true do
            local success, error = pcall(function()
                local playerGui = LocalPlayer and LocalPlayer.PlayerGui
                if not playerGui then return end

                local tradeHudGui = playerGui:FindFirstChild("TradeHUDGui")
                if not tradeHudGui then return end

                local bottomFrame = tradeHudGui:FindFirstChild("BottomFrame")
                if not bottomFrame then return end

                local creatureInventoryFrame = bottomFrame:FindFirstChild("CreatureInventoryFrame")
                if not creatureInventoryFrame then return end

                if creatureInventoryFrame.Visible == true then
                    local closeButton = creatureInventoryFrame:FindFirstChild("CloseButton")
                    local upperLabel = closeButton and closeButton:FindFirstChild("UpperLabel")
                    if upperLabel then
                        local safetyCounter = 0
                        while creatureInventoryFrame.Visible == true and safetyCounter < 30 do
                            Clicked_Ui(upperLabel)
                            task.wait(0.1)
                            Click_NOW()
                            task.wait(0.2)
                            safetyCounter = safetyCounter + 1
                        end
                    end
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน InventoryCloserCoroutine: " .. tostring(error))
            end
            wait(0.5)
        end
    end)
end

-- ฟังก์ชันหลัก
local function Main()
    local success, error = pcall(function()
        print("🎮 เริ่มต้นสคริปต์ Trade")

        -- วาร์ปไปยังตำแหน่งที่กำหนด
        WarpToLocation()

        -- เริ่ม coroutine ปิด CreatureInventoryFrame อัตโนมัติ
        InventoryCloserCoroutine()

        -- ตรวจสอบว่าเป็น Sender หรือ Receiver
        local isSender = IsInList(LocalPlayer.Name, SENDER_LIST)
        local isReceiver = IsInList(LocalPlayer.Name, RECEIVER_LIST)

        if isSender then
            print("👤 ทำงานในโหมด Sender")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ sender (สำหรับโหมด receiver) (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            StartSenderStepLoop()
            -- เพิ่มการทำงานแบบ Receiver สำหรับ Sender
            coroutine.wrap(SenderReceiverCoroutine)()
        elseif isReceiver then
            print("👤 ทำงานในโหมด Receiver")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ receiver (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            coroutine.wrap(ReceiverCoroutine)()
        else
            print("❌ ชื่อผู้เล่นไม่ตรงกับรายชื่อใดๆ")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชันหลัก: " ..
                 tostring(error))
        -- ลองรันใหม่หลังจาก 10 วินาที
        wait(10)
        Main()
    end
end

-- เริ่มต้นสคริปต์
Main()
