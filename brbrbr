-- ตัวแปรสำหรับรายชื่อผู้เล่น
local SENDER_LIST = {'AsherAce8629', 'LionChill8891', 'SparkLight18155', 'WolfHero531640', 'GabrielDrift5025',
                     'Olivia067Cyber4861', 'Anthony803Star9664', 'Alpha178RocketLion48', 'CrystalMystic1941',
                     'JulianChillFlame6866', 'Shad0wChill282629', 'GamerFusion18351', 'VioletLucky24',
                     'JulianFlash48174', 'VenomByte38010', 'F_lameRocket2144', 'NathanByte87396',
                     'Sebastian433Miner746', 'GabrielHeroStar8902', 'LincolnSilver2739', 'R_yan880Pixel1596',
                     'Chr_istopherVenom397', 'WyattNeon2607', 'BuilderMoon36155', 'Carol1n3Orb1t5079',
                     'VioletPhoenixMystic6', 'The0d0reBlaze2841', 'Joseph600Alpha8764', 'Violet844Alpha',
                     'NeonBlock153026', 'Aubrey375M00n9408', 'Li0nSt0rm5538', 'Min3r926Storm', 'OliverR_ocket2483',
                     'CrystalNova784Gamer4', 'Lucas064Pixel9568', 'ckdu84rxph98', 'bmckovat7260', 'Damitaxptgf31722',
                     'Aryndocak59130', 'Lettamrpjg03742', 'Remyuoemt37956', 'Allynylsqs10313', 'Kiahgiblc80689',
                     'Jackiebvvtt43102', 'Erenadcnsm71704', 'Darceetohrk93429', 'Alaneesupw99056', 'Mistyzufzx88508',
                     'Karlynyuxcp90064', 'Esterpdned73136', 'Gildahsfle67376', 'Salsbhdo27585', 'Ranicefotva44017',
                     'Imeldawhyhd73026', 'Sibleywkord61659', 'Bessiepmpmf50305', 'Dasyagnbml10593', 'Winnimvdgm14592',
                     'Meadezwmwa46639', 'Sianawlwxm57630', 'Dahliaaunnn06910', 'Bennisfmvg11706', 'Zoeytzqm56914',
                     'Reenahogxv59301', 'Debifdhcw27316', 'Annigfepc84593', 'Laniwqepr29996', 'Krissyvhbec61697',
                     'Dannawvbyp23255', 'Hestersnfdn34630', 'Edivanjhsp71139', 'Kallyureky27174', 'Glennahnfxp26109',
                     'CodeMoon33155', 'RyanF_ox2372', 'AvaPhoenix59550', 'ArrowTurbo4145', 'CyberMoon17526',
                     'M_iaByte5782', 'Gabriella970Cyber712', 'FlameGamer58332', 'Ryan967Chill', 'SarahRider1270',
                     'HeroFrost61823', 'DylanRocket84807', 'AquaOrbitMystic4880', 'AubreyAce471Flash119',
                     'CyberPhoenix9252', 'AuroraStorm60659', 'LuckyShadow82830', 'KennedySt0rm3187', 'HenryCraft1419',
                     'RocketEchoCyber28', 'NinjaEcho7093', 'PrismCyber951Star548', 'CharlotteFus1on35',
                     'Venom553Frost7439', 'Moon445Hero1038', 'CyberHero63707', 'SparkAce38500', 'LucyFusi0n676528',
                     'Ryan_HyperCode37', 'EthanDrift2814', 'KinsleyFire7028', 'LucyCode40', 'Ryan036Lucky',
                     'CarterShad0wByte4829', 'PixelSkyFlash3568', 'AvaSky44254', 'DylanFoxNinja3925',
                     'OliviaBlockGamer6349', 'AceSpark3130', 'Cyber487Flash', 'StormLight86096', 'Lion094Alpha3543',
                     'DylanBlaze5462', 'ThomasMinerCraft33', 'EchoFox8975', 'FireMystic235936', 'SebastianStormNinja8',
                     'Luke702Li0n9195', 'EllaAce64170', 'DanielA_lpha6867', 'AubreyCode5112', 'OwenLion47381',
                     'Julian804Drift3809', 'LoganOrbit5679', 'AmeliaBuilder3862', 'Shad0wBlaze9397', 'MasonH3ro4370',
                     'JosephAqua37688', 'Lucky120Miner7650', 'Vict0riaPixel4547', 'Chill281Alpha6600',
                     'MysticSilverTurb0263', 'GhostMiner3397', 'LilyVenom9319', 'WilliamFlashTurbo203',
                     'EchoHyperCra_ft7229', 'RiderCode2309', 'AvaPhoenix33674', 'NinjaPrism859131',
                     'Al3xand3r920Hyp3r357', 'MoonCraft30056', 'AndrewStarDawn4724', 'PrismGamerSilver3183',
                     'AceCyber17297', 'FlashAce6035', 'FrostChill25772', 'Jeanymsxt45493', 'Roriykszh07123',
                     'Oliviajthci08951', 'Darseyivzru22944', 'Sibpbgao76771', 'Glenqbkqq90506', 'Myrtiealnyh44145',
                     'Jankakvgua87888', 'Ronaraqlo06740', 'Tildinxqpc93109', 'Aurauguoh28684', 'Lonaofnsj07265',
                     'Ferngreuw05690', 'Marjgwpvf33089', 'Carenaqmdog12549', 'Lollydxgpu83983', 'Jyotiopsnb64030',
                     'Annoraitvml75461', 'Jeannajdgmb04051', 'Ginnierrtvd04795', 'Willowvriig0225', 'Jorriewdxqm32625',
                     'Andyaogwo96847', 'Breenaejvhc92623', 'Denysowypf87116', 'Mabelrqekw45555', 'Cyndyfhnoq73533',
                     'Zorinepbrep70350', 'Ellieudtoz26609', 'Chereypffog59078', 'Leigharscbs68457', 'Faungxzut87454',
                     'Livyttacr71814', 'Essyzdkyc03597', 'Adriaduejx21773', 'Wiloneiqmzy18672', 'Wandahrftx82553',
                     'Neillaofbxc81843', 'Vaniazjsoy67441', 'Tommiqkkdl32095', 'Trixiehkhkg67618', 'Eudoratqkyv54918',
                     'Tobyecgzkr03695', 'Zoewvshk57945', 'Auriawluil19465', 'Sadiepmyps51523', 'Ginnieewlbi29569',
                     'Mintahyzcc39899', 'Ditalhnvu72551', 'Danaxnxuh71623', 'Marneftvji63783', 'Dardahoscy32452',
                     'Codeeqycgc12328', 'Harleyxxyhr92818', 'Bryanarwngp61515', 'Ardisjlbihr30496', 'Cassiedznup14536',
                     'Carmenjgbyw93425', 'Ruthiepuefm19636', 'Tonivhnvw12320', 'Clorisgmwcv03315', 'Leesalmcxc11052',
                     'Kelcipgbyo02581', 'Angilkrawj06333', 'Pattizubpl41612', 'Zoepzxrh28385', 'Allilmjey89202',
                     'Heddafnvxa42127', 'Belvamcwpq21503', 'Jackieslvym14400', 'Marysunhmn49023', 'Chelsyzkmon17501',
                     'Norahwnqha86627', 'Midgejczto38278', 'Trixitxwxm38101', 'Cordieykufz42138', 'Bobinaqjsgx38824',
                     'Doribkzuz53241', 'Roriefiylu27429', 'Jessevokiu29255', 'Davitadnnjg72621', 'Kerrinsiujc47521',
                     'Lindyfvqoo68250', 'Willowiwuru53276', 'Toveadfrd73145', 'Babswzmor24049', 'Ettiebuavr72078',
                     'Britawxzvt11929', 'Sibbykqujq24145', 'Brigitjjyal08536', 'Dollcuedm64005', 'Jobyepfpuy02321',
                     'Alisuncbwsh75292', 'Agneseykqcg39573', 'Deyiejr80633', 'Dotmtzjk81716', 'Ibbieppeaj13821',
                     'Liesafumid59985', 'Tammihoywl17346', 'Winniwiipp42388', 'Melinawkkwc67437', 'Heddaqkjnk89921',
                     'Agqnpnd64592', 'Charoackmh73262', 'Shinatasbh65633', 'Anettiihgu15107', 'Danelleqhkg61041',
                     'Joyaudfmn66779', 'Marisfjrou93261', 'Lydavvcut88146', 'Winibdvht96982', 'Lilddpvr27606',
                     'Jeanalxqyn89576', 'Doriehmaut11056', 'Wilielpyga15252', 'Kalizrzki97795', 'Cahrapkqpm25663',
                     'Larinemjfnw47844', 'Guennactcml44541', 'Shelaeadnz16019', 'Evapqqmy89450', 'Salomawmdpp01761',
                     'Flossiaxwow81528', 'awas12nfqa49', 'nqnotiob9440', 'drbditez7135', 'utnygnok6732', 'xahv57xvqp96',
                     'rnma68uxqd70', 'zxxq94ibbe95', 'mdtf74ymtf51', 'wtkh38pfnd62', 'gceroqva2044', 'rutg47zsmu37',
                     'ahwppwjy0689', 'btugkiee3608', 'qepz48irmq46', 'cseqxrab5433', 'jotrcboi6704', 'ayozxccg4715',
                     'mbhr14zuag36', 'jlvb74qjov39', 'lrgjutso8506', 'ekwh47kpku42', 'nnlrcwxx6208', 'mudv06udsu33',
                     'gwhtovqq9099', 'wcoj75vsws73', 'deix55pqzs10', 'fpamslwn8295', 'mggerjbw6080', 'lowqeacp2386',
                     'bnqf38oidn92', 'vcmiybwn4448', 'ulhlmbtk2946', 'mhxwptqw4600', 'wfts08tevm95', 'mpsuftdg5878',
                     'wrefiysm0129', 'jwsg16smob38', 'cxvu84wpdu72', 'bprq59ubls75', 'xnrz60jbmd41', 'xifa67bnps12',
                     'Stellawepgp86328', 'Finatkwts70513', 'Jessaqmjug85216', 'Goldiadubd60308', 'Dulcijiibp30531',
                     'Darbyaslcx21661', 'Daynagvilb42838', 'Berryrkhsf59832', 'Maryspdlky61554', 'Ettielmjqv75575',
                     'Jolynnlczrl69786', 'Belgncjc42673', 'Lolitangyoq69151', 'Jillieucsnd07524', 'Raynasjqom69831',
                     'Shebayhdgx06881', 'Dorrimlpuw20351', 'Emmyexfejx31045', 'Dorisehowla49301', 'Veresvfmn03608',
                     'Darseydqlhp32713', 'Delanvsxr67918', 'Gwennidknff91153', 'Karleebwhci34568', 'Collenawtww75207',
                     'Catleepcnip83045', 'Annekuguh25768', 'Jyotikrwaa43191', 'Hallieldnqd38478', 'Sibylxyuib97701',
                     'Alenecwnaa10005', 'Susanaiqxry93857', 'Agnolabhyih78716', 'Zaralnbtx57475', 'Lusajgjie68187',
                     'Minnahxnzs06766', 'Deborkkrpq49346', 'Annicerjpoj47771', 'Blanchwslia65644', 'Mandabbipe76902',
                     'Celiabidrc50656', 'NovaGhost7614', 'MinerN0va7787', 'Ligh_tFlash330731', 'SilverShadow35846',
                     'FrostFlame8194', 'Grayson338Nova', 'CrystalHyperTurbo396', 'NovaLucky1368', 'Oliver462_Block',
                     'Builder174Hero', 'FireBuilder6105', 'VenomPrism37', 'Nathan907Hero4874', 'MichaelEcho64464',
                     'SamanthaMoon5650', 'JoshuaAqua27468', 'LaylaShadowStorm3905', 'AquaSpark976038',
                     'CharlesMoon9015', 'Le0283Ne0n', 'C0deEagle4390', 'SparkStar1898', 'MysticPhoenix50188',
                     'ChillGamer487527', 'ZoeyByte467731', 'Gh_ostHero4063', 'EchoPrism87340', 'ChillAquaVenom7656',
                     'CraftLi0n34', 'AsherLuckyStar1070', 'EthanLionAce6852', 'FlameByte8384', 'ElijahOrbit9798',
                     'Ven0mHyperBlaze4718', 'ScarlettDawn6088', 'FrostHero16289', 'AndrewBuilderGhost26',
                     'OrbitTurbo089Ace', 'Nov_aStorm3515', 'FlameAlpha32280', 'EchoChill9905', 'AlphaByte2068',
                     'Spa_rkFire1660', 'E_velynRiderAce', 'Gamer948Rider', 'LincolnFusion477423', 'James259Hyper4123',
                     'N0ahFr_0st', 'VioletPrism14980', 'FoxAqua3634', 'LucySilver7524', 'NoraFusion10651',
                     'FusionLight556Fire', 'Dri_ftLight', 'VictoriaOrbit6736', 'CraftPixel3501', 'BuilderGamer334032',
                     'IsaacFrost48008', 'CraftAlpha9314', 'RocketSky9098', 'RocketCode41473', 'RyanDawn2823',
                     'VictoriaPhoenix13878', 'Madison296Wolf3562', 'Fusion230NinjaMoon', 'LightEcho4528',
                     'LightNovaEagle234624', 'AdelineSkyStorm29', 'EagleAlpha749421', 'JosephHyperOrbit28',
                     'NeonDri_ftFire', 'MayaGho_st7822', 'Neon709Hyper', 'AubreyOrbi_t6336', 'StormLion5378',
                     'HenryDriftF_usion711', 'ChristianBuilderCybe', 'PixelVenom52687', 'Ph0enixLi0nShad0w329',
                     'EchoCrystal4626', 'DriftArrow5976', 'FireFlame7150', 'Samant_haNinja34', 'SparkBuilder1277',
                     'NathanSparkVenom3716', 'KennedyFrost7012', 'Mystic090Fusion', 'BlockPrism2636', 'DawnTurbo52523',
                     'Noa_h555Builder5249', 'Caleb333Lion7562', 'LucyLightEcho6068', 'StormSpark364Cyber',
                     'OrbitBuilder2221', 'AcePhoenixLion482130', 'CyberRider37527', 'AnthonyFlame6167',
                     'Bl0ckLi0nChill6322', 'MoonLion450937', 'ChloeMo_onRocket', 'LeviDrift5540', 'Fox592Hero7477',
                     'GhostSilver9166', 'EvelynPixe_l6650', 'LiamEagle63294', 'DavidSky33903', 'wzyt70xuxw02',
                     'ejft54wedw84', 'akke47fhwj96', 'lhmj43dvrh49', 'sydpsvbj9216', 'dhlm77oobt23', 'axmm84muac58',
                     'mukj53qsui88', 'Taffyuungt04247', 'Graceuluqi41126', 'Gladyschglx07911', 'Metazjoke04029',
                     'Almedawtvbl65718', 'Darcitkilc00162', 'Nessiethzib24828', 'Bettelksfw84835', 'Ashlaqlgtw48436',
                     'Daricenukor45040', 'Megednfn10538', 'Rorawacuo63120', 'Mariskyvvi08955', 'Doriwgxez77755',
                     'Heathrvmfi88322', 'Codiepimxa67896', 'Ediesnsem02845', 'Mabwpchj46028', 'Brendvbhe85480',
                     'Darbwfoip67351', 'Beccahoslr61437', 'Dulciekiqvn79667', 'Dotisjsmu03824', 'Kimmietaxww83507',
                     'Nyssayecnh71325', 'Charilwymxt17606', 'Didodauhy12660', 'Issitrxyx66332', 'Tawnyazedn2954',
                     'Ardatrvbp25299', 'Erynhnbux84165', 'Karriefktej13761', 'Marenqjtny19099', 'Wenonagxjyq73862',
                     'Gretalxumox43636', 'Andywpxbx92264', 'Raynazxqbz81743', 'Jowgkiz01433', 'Mintakdjjc62534',
                     'Myrtievglpf62428', 'Emyleixgzf63442', 'Gwennyihgpn61892', 'Soniatcaxd58534', 'Shaynapkzfl98476',
                     'Lynneifxdt03210', 'Monicahrjgj60647', 'Salleegyssc06366', 'Judyegkupw04599', 'Zeaspxff27927',
                     'Amitiedcoub20861', 'Deloraqkrcw48304', 'Fredaiwxno06614', 'Maggimgfof84083', 'Abbybuegq81363',
                     'Farardkir16908', 'Yokoruwmv34666', 'Reneukiqm34476', 'Katyasnbsb71367', 'Myrtlexdzoi68020',
                     'Wynnysqbwa18910', 'Crissvenn32611', 'Daphnadnkkr19804', 'Alliiygru71084', 'Lineasxjui22824',
                     'Raykdohg10144', 'Sharankobr21093', 'Maryvpdyf43849', 'Suetviby84702', 'Edythewkuqg78235',
                     'Ginniezsnpp41530', 'Cornieslghl55267', 'Rianonoqgen88404', 'Janeanndftx37401', 'Kippietsvst35615',
                     'Missyhhtvh07325', 'Melinaccyad95697', 'Koobuzbc44737', 'Filideklpth43878', 'Ursamtyjy62108',
                     'Renieqjqer89485', 'Noemikoerb34519', 'Janiesvfdj35371', 'Breekwecf74132', 'Gustirghpq26269',
                     'Keeleymuqvc53091', 'Frankylknm93767', 'Kariesiiwc96267', 'Myrnagqpzf77006', 'Odeliaqylck24668',
                     'Celiefihxy78195', 'Hesterekfrn90780', 'Kajautwpn08540', 'Clairyscdj84057', 'Kizzielojay82495',
                     'Allysnbwd13456', 'Mayejfwzk24137', 'Delqkzam86535', 'Jadajotps33141', 'Tommijwujh04583',
                     'Moreenkxeyp26335', 'Nalanigyumj46191', 'Lydiecppjp87393', 'Geniabpyhi84759', 'Larinewvtvw98750',
                     'Imogeniceho06352', 'Illaavnhe48538', 'Amiizattq80824', 'Saraweaom87497', 'Judithleejp45070',
                     'Holliegfwyq24546', 'Saudrakgjys04162', 'Olivewpapd49304', 'Berthamlqxy88517', 'Tammadotmu79098',
                     'Arielmvbky77944', 'Koriemoeoy58376', 'Hildetcylg96036', 'Daelpwiav67718', 'Aimejxnxr78299',
                     'Ashlentdfqd49172', 'Judithmvwcb67793', 'Larinagphyr00913', 'Corlyvduwz22317', 'Lucky147Miner',
                     'Flame673Eagle759442', 'Alexan_derAlpha9848', 'FireOrbit71398', 'FrostCrystal9815',
                     'Cod3Mystic3598', 'RiderWolfPrism7777', 'MinerShadow87230', 'AceEcho16300', 'MysticPhoenix2713',
                     'LilyPhoenix2701', 'W0lfFire9408', 'WyattAce55593', 'EagleTurbo5510', 'NathanFlash583Phoeni',
                     'Oliver738Orbit1281', 'MoonG_hostCyber28', 'Ninja071Byte160130', 'Aiden002Fire2025',
                     'GhostStorm1098', 'MysticBlaze1055', 'William626Wolf38', 'BellaMystic2544', 'GraysonDawnByte',
                     'LightWolf610826', 'Samantha099Craft', 'AnthonyArrow9502', 'SparkAlphaFrost96423',
                     'StormShadowEagle4222', 'WilliamMoonCraft9423', 'LuckyPhoenix6642', 'BlazeTurbo5334',
                     'RileyStorm738624', 'EllieMystic948220', 'MinerNinja9188', 'ChloeBuilde_r2082',
                     'SavannahTurbo9861', 'Eag_leArrow', 'Marjiectbpd31117', 'Nessitqhtj42911', 'Zelmapikfv89923',
                     'Bettyfrydn78276', 'Beerjxya00285', 'Hallyhgdkx09752', 'Mayltrzv64348', 'Lynnamicky75984',
                     'Marijoqhixy91686', 'Livtqvni90884', 'Naniceptoqn07617', 'Yettalhgdj37969', 'Noelleyngnl47578',
                     'Ruthinfxtl59437', 'Abralzfxv79426', 'Nertaukwpt02014', 'Deboratgwcx59751', 'Terrajqvbx75279',
                     'Minnexnber52019', 'Ofeliaeufgj07767', 'Bertigjbuw87530', 'Catlinggvpo13280', 'Heleneiihdg31209',
                     'Danniimcid62996', 'Nellqiwbw89676', 'Ednaotghv03431', 'Joreycssqv17854', 'Jessiefbukm99537',
                     'Carlakyxqr08936', 'Evvynddgr05869', 'Trixityvxs73142', 'Collyilbpe41658', 'Ajayhgeet95263',
                     'Riccazpbnh40750', 'Arlenmpfon75237', 'Filiderkmzn98751', 'Metavojne40999', 'Mickijebtq49309',
                     'Iritaurkbi72223', 'Maudekklxl40814', 'Bobbetfqqr47805', 'Kittieagske34528', 'Gillyncsps03836',
                     'Loreencnwmc35347', 'Lorapqkgw95145', 'Babitavloid31453', 'Fifiilcxf78342', 'Ursulafphsg12424',
                     'Vivienkffbw22703', 'Libbieduzyv56989', 'Yolanefcxwx71170', 'Jankasjtuz50438', 'Fraydafcopx10156',
                     'Kellenofacw94088', 'Neillelmnik67956', 'Dredivvxby86103', 'Priscafvxir92004', 'Lottyiivqb54804',
                     'Corlyekwyu76780', 'Merlwnxfz30784', 'Danniufbhw67377', 'Jilliefwvwu61011', 'Opalnpemg69677',
                     'Jobeyinspd60619', 'Brenawtzu16762', 'Odilleotwwd29545', 'Sallyiurqo22946', 'Genevaysxun67551',
                     'Celiapvnli89817', 'Sharonbjubw99755', 'Carladijyq24237', 'Patsykbuof15982', 'Adreajgmvn41578',
                     'Lineadptnj42238', 'Ursarkzot13080', 'Nissapircs28040', 'Caravtpvz79280', 'Pennyfwuqu64044',
                     'Guinnaihzmq17349', 'Rosinatcyln89550', 'Nomifluto37443', 'Fancyvfwme63083', 'Ilkavckyy24836',
                     'Kaseyivabh56581', 'Tarrahxlkem61220', 'Melitaaccam11042', 'Coralwmmvh71883', 'Raynaxxhqs30835',
                     'Lenkaoopke03719', 'Joriawzee99241', 'Daffiquyhd23524', 'Abbinzzao14409', 'Sheaypetk88263',
                     'Agnipxs48078', 'Babitabisxw24212', 'Ettieihjth26115', 'Arlievsdpx60747', 'Jessieixlql00976',
                     'Robenatyzdx36239', 'Carolewfwlq19813', 'Neddavfldr06294', 'Mamexaley56811', 'Taryneyvdj41357',
                     'Lindiekwvf63123', 'Maraqmrok92724', 'Dianikccx82653', 'Bobbyrbiye68787', 'Cissymgtlq14109',
                     'Monahrzefg56514', 'Kellenrejye09739', 'Bonnyjbyet28275', 'Dianewmnfj08875', 'Elganwlry68541',
                     'Mavisfpjku90375', 'Brenvdxvr32657', 'Noelleajoms60006', 'Jolynnzbttw27093', 'Deanasbstt67876',
                     'Felizatlzvg87495', 'Karryxthyi17210', 'Shawnxfqmu02433', 'Ellynhkrxf13368', 'Teddybrziu98051',
                     'Leilaqytyj11887', 'Faermvvs63953', 'Bambiuzggo04513', 'Bernaefzop48806', 'Barbeeffsry37006',
                     'Timetbaq57717', 'Dimezxq86472', 'Ellieucncw21659', 'Thelmabuprs75137', 'Buffyrqhis17676',
                     'Dominimvrkp52575', 'Kylenrwfg41266', 'Brierzmxjo96327', 'Paulyjniqs68665', 'Siouxaiowz57173',
                     'Anetjgazx08038', 'Illacqtfm85998', 'Kericqsve54166', 'Susanzcdvl61806', 'Godivaqighw13543',
                     'Erenasqnkb17743', 'Isisvwwhx58141', 'Daryljkcui13070', 'Florifpxff03850', 'Viviengovph79518',
                     'Anthearqznw21896', 'Rosiezwbnp46869', 'Earthabtdob18374', 'Flossixqosw08470', 'Kayeauhaf76430',
                     'Rider898Mystic8428', 'CodeMoon6049', 'ArrowNinja8187', 'FoxSilver124Byte', 'DriftFlame59647',
                     'BuilderFlash4296', 'OliverHyper48924', 'AquaCyberEcho1650', 'SamuelNinja44400',
                     'ChillMinerAce265838', 'Hen_ryHero', 'Gabri3l160Spark4967', 'PixelEcho385042', 'LightNeon6217',
                     'GraceGa_mer6097', 'Block807Ninja1170', 'PixelFusion6437', 'GhostStar7920', 'EmmaAlphaArrow4678',
                     'ScarlettF0x8014', 'Drift387Turbo38', 'SkyPixel3675', 'FlashBlaz36045', 'AlphaMysticAqua9187',
                     'NovaTurbo67821', 'Turb0Shad0w215631', 'GhostCraft4379', 'Silv3r446Echo9226', 'IsaiahByte6238',
                     'Ven0mArr0wSky9436', 'ByteAqua463823', 'VictoriaShadowStorm5', 'LeoPrism31392', 'CyberRider1711',
                     'Alpha481Code', 'PixelByteStar4113', 'NathanSpark1476', 'LucyMiner2512', 'Marysjktnx77238',
                     'Kinnayshxg13948', 'Avritkuzuq08083', 'Ellealahq48189', 'Thelmasrlxe91417', 'Nattyjznsh86422',
                     'Mandygkusl52568', 'Devagyvxm04719', 'Addafjset40848', 'Dulcylybkr18776', 'Rinavjufh19897',
                     'Renaejrzpq53721', 'Leshiaihzyg37427', 'Wanidsxmhnp79330', 'Loladsxbq22883', 'Mairwbmpa80372',
                     'Elissafkgfq07567', 'Nitacaqlu71637', 'Reebalcvrb01856', 'Janevakakkr30354', 'Staceecjqyq26612',
                     'Gavraymgop86966', 'Kellifeccg42536', 'Juninaihwnb80910', 'Annoraspwrp20534', 'Gretnaxebhw59962',
                     'Gabiecvsnk93157', 'Gianavdcyr38297', 'Zandrazyamd41673', 'Adornedntnb69850', 'Lilithauxgs39677',
                     'Gabeyomcxe86891', 'Onidanzjmf88995', 'Laribdbhv00920', 'Sopheytyswe87668', 'Livagioaj66194',
                     'Robbieulvpc55569', 'Lilpmmvm70360', 'Delorapcppu77415', 'Tabbyvkiep19561', 'Abberzmsi72358',
                     'Berribodfd31738', 'Nessierntcp47182', 'Fannievefth50887', 'Opalltjjp08258', 'Juniexskmb47410',
                     'Elysenxaih64452', 'Gustieercht85732', 'Babbiecqbmx96580', 'Terryjzxsz14084', 'Kiradihvd51231',
                     'Cordijnqiv93976', 'Nadeenmngdk03875', 'Linrluhe80569', 'Leslyggmvr73327', 'Cammigfnjr16381',
                     'Danilaqqboe22989', 'Shaunbhoov59418', 'Ettafhcxg74505', 'Noelcpmsr69662', 'Feyovwqi67931',
                     'Karylylnwl46001', 'Bonnitvjgr55268', 'Maudyaayt13037', 'Candygkhym44461', 'Shayneuocln89813',
                     'Kelcygycmp47225', 'Jelenepfgnk73108', 'Jereqzkfw65588', 'Susanwfygh06109', 'ipacngjv0225',
                     'yiod22oxkv05', 'Kellizbrge80985', 'Kelcimsqqs85520', 'Amandilkead99748', 'luds21bjec59',
                     'Marjyxagaj45948', 'twvm86nnhy27', 'ixnp62umvn31', 'Arayfmxr78423', 'zzvb39odki17', 'nqxiumlo4861',
                     'mcml41vpfv12', 'micgyrrs6864', 'udrolayr9532', 'vjju57rwpq65', 'vwkvkuvf0632', 'fmit75qdto87',
                     'dyulptkj4185', 'szty81ayue24', 'juzwlbbb0204', 'yrhiofgd9036', 'vkgdnlky0873', 'oclt99tqag29',
                     'vmhh24ffid49', 'deih59ncrm29', 'vjgf28dnru38', 'weqjsjfr1611', 'sfkk23gjgb05', 'lmmm00tswu00',
                     'fmasdgso0927', 'nqoelsqp6046', 'ibfpchwu1558', 'zwsf78gbkm19', 'tftz70toqg51', 'uobd89opoq49',
                     'tvmw91gvkt20', 'xozk72xiid80', 'hyyx19slqo35', 'zefhkyyd6216', 'gcqxtdha7887', 'txhkayld5580',
                     'csmf62bxur85', 'sosrguau6297', 'otmk19brkb70', 'wxiw38disj83', 'dgzodass2373', 'esyu57adea38',
                     'jzju90folp62', 'cocvamds9677', 'pxfjoryj1735', 'uwnmzbzc1088', 'afbwjnqn8933', 'zpca05uptt09',
                     'qxrd40wtqb39', 'tcbmtelc7479', 'rpfd25rmue53', 'ncviblwa4168', 'rrhodvyp0401', 'opyd18fbxm73',
                     'Silv_erGhost', 'FireChill55921', 'FireH_ero5164', 'ZoeMiner1995', 'Sarah506FlameRider81',
                     'Star257Aqua6526', 'AubreyNinjaPhoenix28', 'PenelopeAqua9967', 'Dawn867Mystic35',
                     'CharlotteShadow3416', 'LightMiner48953', 'StormChill54719', 'Jack78_5Moon8226',
                     'HarperPixelW0lf8927', 'Eagle274_Neon', 'Eagle329Arrow8916', 'AceDrift36', 'FoxGamer7946',
                     'IsaiahAlpha76795', 'S3bastianStorm8364', 'AmeliaDrift25108', 'JaydenFr_ostSpark609',
                     'KinsleyCyberLight', 'DanielMiner3741', 'Am3liaDawnMoon5712', 'DriftPixel2840', 'GamerNeon4914',
                     'EchoAqua2553', 'DawnGhost9709', 'MinerMystic1584', 'AlphaFlashNova6454', 'MichaelGhost52151',
                     'Fusion411PhoenixVeno', 'StarVenom765024', 'Luke126R0cket', 'LuckyAquaH3ro4531',
                     'M00_nBl0ckFr0st5246', 'SilverSpark3763', 'Wolf389Spark', 'Jos3phCraft8303', 'ByteDawn5390',
                     'LilyByte9882', 'LuckyLion5860', 'Noah208Fire', 'Fire388Aqua3907', 'EthanTurb09184',
                     'Sil_verRiderLucky', 'Hyper596Nova20', 'StormArrowPhoenix24', 'NinjaBuilder7281', 'WyattByte1229',
                     'OrbitSilver3985', 'MichaelPrismEcho8770', 'Moon307Storm', 'IsaiahTurbo466833',
                     'PhoenixFlash10544', 'Ch1llByte', 'Al_lisonHeroBuilder5', 'OliviaFlash151331',
                     'S3bas_tianPrism4157', 'LuckyGamer4424', 'IsaacFr0s_t5068', 'JamesRocket3220', 'Ethan587Venom2191',
                     'Stella444Fusion8334', 'TurboLi_ght', 'GhostSky7202', 'SparkRiderEagle49113', 'LoganTurbo720Aqua',
                     'SebastianStar4240', 'HenryTurboVenom2917', 'HenryOrbit492Ace', 'Lucky121Spark503025',
                     'IsaiahNinja59032', 'BlazeBlock5156', 'CharlesRider39570', 'DylanCraft6154', 'CarterL1ghtFlash',
                     'srtd14tnbt53', 'kgehjtgu2415', 'nlog23snru38', 'David634Venom2181', 'CraftFlame2711',
                     'AquaGhost3423', 'ChillStar543324', 'RileySpark8529', 'JonathanNeon6623', 'Genesis622Orb_it',
                     'StormByte5990', 'Shadow858Flash3291', 'SarahRocketSky9508', 'C_alebSkyStorm9204', 'MiaLucky12109',
                     'RileySilver2557', 'AlphaW_olf663536', 'Bella039Eagle7668', 'Ven0m600C0de', 'AndrewChill6011',
                     'AnnaFrost470025', 'JaydenBuilder805724', 'G3n3sisHyp3rLight955', 'AlphaArrow64459',
                     'ElijahStar7076', 'VenomBuilder9086', 'BuilderGamer65485', 'GamerFox8099', 'SilverLucky8843',
                     'RocketStorm3839', 'OrbitCraft7099', 'PhoenixWolf17901', 'Byt_3H3roNinja', 'NovaMiner89361',
                     'CarterAceByte4544', 'NeonSilverStorm80962', 'GamerHero536640', 'LionByte229935', 'EchoCode4540',
                     'VenomAce103', 'Luke404Flash3593', 'JoshuaBlaze34808', 'SebastianAlpha6841', 'Jack519Spark',
                     'Turb0658Her0Gamer34', 'Jonathan772Dawn', 'AlexanderCraft2896', 'LightCrystal5658',
                     'GhostAqua86709', 'GraysonFlame81330', 'Dawn799Flame', 'Julian631Fire22', 'RiderChill27017',
                     'AmeliaW0lf632Gh0s_t', 'OrbitNeon863Fox', 'NinjaSpark20139', 'LionDawn40215',
                     'HyperArrowNeon285921', 'BellaWolf4914', 'LilyPhoenix1470', 'MinerNeon409730', 'AceA_quaCyber1212',
                     'Silver818Byte7962', 'AllisonShadow73360', 'CyberLight4879', 'LeviDawn582Miner1178',
                     'Penelope911Hyper6017', 'Mad1son281Eagle', 'Scarlett641Dawn', 'GabrielVenom85067',
                     'FusionDawn63254', 'RiderStar2048', 'AlexanderPh_oenix506', 'ByteStarSilver563521',
                     'Jack923Mystic1296', 'Drift178Turbo6351', 'CodeAlpha4438', 'NoraChillNinja8181', 'HeroFox79964',
                     'eloopblf8872', 'oqecqxqf3820', 'poxikwet6455', 'ljdj92lafq63', 'hwvm34keyg64', 'oqpmzmkj2934',
                     'yzgabcan2720', 'pvkhxuyy5705', 'iqah44phab37', 'bmwu26hgle73', 'vwlm20ahwd12', 'vxlpylvp1127',
                     'uszmelgp7212', 'ravn85ayqr95', 'uplpvdzq7851', 'ufyf84rvzd80', 'qekh90cgvl09', 'jgij63fjaz47',
                     'vroy68cwbw37', 'lnnrgpek2832', 'tztc52evsi09', 'aghpdiwv6234', 'plzj08wgav57', 'fwlbxadl0610',
                     'owmofmxx5527', 'unjf65kdcb11', 'mymjvtad9560', 'frsj47nksh25', 'dxlruyue9311', 'uwhzabje3472',
                     'laay79tesf81', 'ifajaech8846', 'eaxe70nvtl19', 'lwsaslxv6718', 'imwq64ycee10', 'agiagnoh6017',
                     'kgaufomm6615', 'orcspzxe0374', 'isihaopg3506', 'xigp73ccpq96', 'ecgohtdm6434', 'LuckyFusion8467',
                     'AllisonRider7762', 'The0d0reEagle30', 'Silver343L_ion1897', 'StellaBuilder5754', 'DanielFire8867',
                     'Chi_llAqua33', 'TurboMiner3854', 'Ch1_ll680P1xel6144', 'AndrewBlaze6709', 'LuckyHyper3746',
                     'May_aDrift8488', 'Violet294Flame', 'Chris_tianLucky9939', 'GamerC_rystal7373', 'Byte176Moon34',
                     'CraftHyper4593', 'GhostFox30889', 'IsaacFlash71399', 'FrostAce58957', 'ChillFire3008',
                     'D_riftBlaze', 'LucasPrism35457', 'StormMiner2427', 'IsaacFox3948', 'AlphaPhoenix657924',
                     'W_illiamLight1755', 'ScarlettVenomMoon246', 'JoshuaArrow9759', 'GabriellaAlphaPixel4',
                     'ChristopherChill1750', 'StormCode39', 'MichaelCraft4058', 'N0_vaOrbit8017', 'EagleEcho36',
                     'Prism367Spark1186', 'CamilaArrowPhoenix', 'Dollyxfxia81258', 'Star296Eagle3209',
                     'Spark300Phoenix2450', 'JamesRocketStorm3536', 'ShadowMiner7465', 'StellaVenom36',
                     'RiderAl_pha4577', 'LightBy_te23', 'Flash998FoxStorm23', 'Benjamin774Craft1890', 'DawnCyber44034',
                     'AvaGamer7525', 'MichaelCraft66405', 'JoshuaGamer7941', 'ByteChill456', 'EllaFlamePho_enix283',
                     'EchoDri_ft', 'KinsleyPixel33578', 'AlphaNeon2739', 'Levi047Lion2265', 'Ghost388ByteChill',
                     'CraftMystic7539', 'EthanByte2166', 'JoshuaTurboFlash', 'CarterGhost53247', 'CharlesNova9365',
                     'ChloeCrystal5207', 'VioletFlash19195', 'AidenWolf8939', 'ChillLucky84249', 'LunaFusion72055',
                     'PenelopeCyber25', 'S0phia214Chill', 'Chill237Li0nDrift', 'AlphaByte4985', 'Turb0Spark5785',
                     'DriftFlame4122', 'HyperCode9845', 'OliverGamer2411', 'Devanofxbg67890', 'Billielcesx84052',
                     'Wynniewzgid13312', 'Laneymoonh18543', 'Estherqmwkc30458', 'Idasenaj15612', 'Morgenmxvtv16320',
                     'Bonnisbxue86906', 'Tobyclbqp98724', 'Beulahratrz39281', 'Jorryefycp37716', 'Rinaebzcb07945',
                     'Sandinmnyf29212', 'Robbinktasy78727', 'Caritatmozg16800', 'Dallasbpwlb34221', 'Chrisjtskf32460',
                     'Cathedbjob39376', 'Euginecacjv38855', 'Jacquibqauj45711', 'Libbypomly65495', 'Laneysatrg24675',
                     'Berylqobcm08467', 'Kettyvmsvh46914', 'Aliazahen55803', 'Kisseeuswoh72622', 'Odettayeytp35513',
                     'Friedafebxu52010', 'Bethfyjux28808', 'Taffyzxypo69193', 'Karrycdpxk81602', 'Vallykipmu68742',
                     'Thedagwsyq69266', 'Elisaeofdu30726', 'Aurievdxsf63438', 'Julineocqhd74787', 'Eilisvnskd08423',
                     'Sellappren11291', 'Sondraybuly80671', 'Shelaildhf59373', 'Rivymzzvi99722', 'Gretetngla60584',
                     'Terivpuwg59159', 'Lonaiwwmy30944', 'Perihomwb22441', 'Sallinijcr28753', 'Ellievcjab72160',
                     'Dorrywjlsc17483', 'Minagomsu73303', 'Kirizbnxx99296', 'Salomesnbpk53705', 'Kacieuqepj81036',
                     'Denasbndc48600', 'Aprilluxad11385', 'Keriofppg54176', 'Drezcjtj39026', 'Altheagpxsw87914',
                     'Brigidtjqzl25835', 'Jowhgvj60791', 'Steffiarhcu49529', 'Huldawbini29772', 'Korakixqs67519',
                     'Dyanafhnyf63369', 'Aidaqjdud00540', 'Amberftpio09736', 'Doritafnglv05090', 'Jeninejypre79397',
                     'Kylynnnmikc43014', 'Abbiebeyfx28149', 'Sareebnopp23527', 'Breenrsjh71927', 'Yelenafmujk39086',
                     'Kristygoico18516', 'Judiekwsqj92061', 'Dannyemckcc95163', 'Terigzdwp49731', 'Stephidqdzb73963',
                     'Vernazepwe27235', 'Sueorouy76159', 'Celepnsop23541', 'Mahalarajhr40668', 'Allxyyspe50350',
                     'Rannacrvve16755', 'Livviefvlkv87729', 'Briadhmkg22765', 'Norahepdrg72623', 'Huldatgymm50111',
                     'Rowqjswm32106', 'Rianemtsmd99811', 'Vannieuzpmz90012', 'Vonnycsrfi49630', 'Perryouthm03998',
                     'Allixwazmi06627', 'Bessieulcbc05689', 'Chickyrzyqp09119', 'Audieyhblv94429', 'Ardathpzwqa19444',
                     'Pollyzrbmf91914', 'Agatahilvn58577', 'Belohnfi50417', 'Cammymhgcj02408', 'Kaileyjodsg63075',
                     'Ingriddkcvq02985', 'Martieqdrtm77458', 'Luradmvpr98505', 'Leshiawtxuw15989', 'Tiffyluni48571',
                     'Mairzlkuj90635', 'Bebedcczi29169', 'Chickylcapj90644', 'Bibikvwbp98083', 'Malinajkpxm64149',
                     'Goldifjgat99360', 'Karelnhqew06799', 'Heddafwmgk73844', 'Maggeefruzl24833', 'Diannaukppk50365',
                     'Belvianzjbf50369', 'Clovisssueo70079', 'Drewotic80665', 'Adaleqpq55812', 'Blissdrkqh67721',
                     'Andybtaax78886', 'Camilermfyl88168', 'Mishabekcb48839', 'Adorafkfdq94682', 'Corinedgeuy90409',
                     'Irmaaxlhw25724', 'Ronnynzbmc81013', 'Eadithnlnox59872', 'Juleeqbwve51157', 'Emiliegqgpr74348',
                     'Reikovffws07961', 'Eugineyjlyn42266', 'Barictaid54154', 'Ronniepzyrf89415', 'Allycexodoj90088',
                     'Bethvokrj89296', 'Ameliexrqoj21902', 'Alleenuiinp30009', 'Clorislftqo92837', 'Mavrarybvp86420',
                     'Audrytmgks18821', 'Fanyaqceyp17021', 'Janiatxedt68772', 'Poohcjahj88049', 'Roanneptajq15444',
                     'sfbatldu2050', 'yhdhczkj8116', 'ptzrbvyn3287', 'qnbb87poac64', 'yypkqare5726', 'vlbdwfml5247',
                     'rsvliyqy5278', 'ebbg03upou15', 'nfyydsfh7612', 'flqn48gwjd32', 'rnkf65ylpq30', 'qrro34yreh39',
                     'lpcr35hwef35', 'vtstupjy0161', 'yjmz60qntv20', 'aejdqqzx6102', 'whewodcr6739', 'uptdyyjc7492',
                     'przngjan2245', 'fxhi47vxqd55', 'ylen28qcvi07', 'kgmrjywl2119', 'gvww48qnpn43', 'csslnnwv2075',
                     'binb93uxhm33', 'aiwk58ycnu55', 'jvonjxob0583', 'qmdhjdpy3509', 'tgph18rtis14', 'adgo43ydae63',
                     'bryy12epfk82', 'varn28meoi60', 'xebm65kfox62', 'xsoavqry0290', 'tpfvuisu7350', 'mmjg14dkkh56',
                     'gnbg17qswu54', 'mmlmsvqo9014', 'gjmn93vjdf41', 'itcq41epog80', 'tgobkeen4979', 'Silvajqyco82477',
                     'Audrekklng15610', 'Grettaxawze76103', 'Mirnasicvr58582', 'Zarajkvdc00778', 'Josilgyrw64275',
                     'Flssqcont69502', 'Holliembpau78189', 'Coreyhsvyg41160', 'Renahtirk49251', 'Blissnjmsx67411',
                     'Tessyzivpq75662', 'Reginevtllc66413', 'Lulapygzk53362', 'Shainadpxus00354', 'Felicertupi90058',
                     'Kathaauppn23853', 'Dolleydnpub57850', 'Orellegyoos76444', 'Staciaqwgoa98985', 'Verlaleksi87458',
                     'Dottywwfms11976', 'Noamikrfyt71569', 'Lulaxwffr12638', 'Tovahgvqt78947', 'Keeleycgraw58869',
                     'Arlygclfd32478', 'Karolxwobw87295', 'Brennatamqa49390', 'Ellyzklzt89049', 'Frankbglqb44642',
                     'Toribqfmf29522', 'Abbeyxigxu11545', 'Meadelphqo89588', 'Sulabhaok26506', 'Noemiissez06286',
                     'Orellenlfmx93182', 'Cheryeounnp94981', 'Franvudfg42503', 'Alysehnymd82614', 'Lissiloodu61059',
                     'Mahalakdjuh26334', 'Ruthyfextz55421', 'Seba_stianFire', 'GamerAlpha37034', 'Chill457Block3244',
                     'Flash384Frost8960', 'AndrewGhost3852', 'Pr1smDr1ft054Fus1on', 'FireBlaze58444',
                     'LilyMystic012Ninja', 'CharlotteRider7380', 'Echo337Star9477', 'Chill293Ac33509', 'Luna243Turbo',
                     'FlameFox2462', 'HyperWolf8038', 'DawnShadow1610', 'ChristopherVenom426B', 'Mystic514Alpha4216',
                     'EchoSpark781339', 'Isaac134Crystal2845', 'S0phiaMystic8102', 'FireEcho20', 'MinerBlaze3274',
                     'Flash123Craft', 'SebastianBlaze3167', 'ByteStorm8576', 'FlashShadow6593', 'MayaWolf88789',
                     'SparkVenom26555', 'Arr_owGamer', 'RiderNeon31393', 'EllieFire2445', 'Cal3bRid3r357437',
                     'BuilderCrysta_lHyper', 'RocketVenom45976', 'FoxHyper2784', 'PhoenixMinerArrow962',
                     'ChristopherVenom1189', 'Thomas191Code4237', 'BlazeGh0st140Arr0w', 'WolfHero57823',
                     'LionSpark18265', 'szvytolu0441', 'oqchmtwx1901', 'vngs91vwsn14', 'bhjyroud3746', 'uozf70njtv13',
                     'zqws88jqij52', 'aaxn75vypf64', 'woxipflt3075', 'fwsz67spnx51', 'jfdvkcjb3934', 'gbaenedy0067',
                     'tobe87hkbf73', 'zwjeogaf2734', 'tcux54cozr54', 'hqlixxtp6486', 'lurjitbt9519', 'wjmwcdil3388',
                     'horaxbrh8080', 'khppacid5340', 'jdvjhcbw1834', 'baszpqot8144', 'qidezuzw8713', 'mdssxqxa7909',
                     'tmwu61gxfq71', 'ynopfzrp5225', 'apie13zjkt31', 'bnkxbjzd2511', 'ocbckria1416', 'xkkdhigj7264',
                     'gpcj70uwtt72', 'bsjqxazj7278', 'keff73lelr97', 'jyyn02lyfz27', 'vsgv53uduf78', 'mmkd50xdnt90',
                     'xglf92ujop55', 'zojo83wcnd46', 'zjjw74omdu67', 'vkkzfzmc0568', 'oexzbgsp7584', 'oenu34devt48',
                     'dxwd57uwyj84', 'ixyimfbk2755', 'tvokjhyh0276', 'tazk81dwan08', 'deou68ygag05', 'sprwmgrc9176',
                     'qijz13wtbo64', 'ouhp04xoud30', 'clxx63jmmk61', 'nunwiulx5328', 'yzuknxjs9957', 'wsoocfxk6490',
                     'htmk14eywm21', 'oepw85piww45', 'ppuw99dbkc98', 'owruwarr1210', 'ujay99mtab14', 'wwwh34zhug26',
                     'feepdvkk9075', 'iuzzdvnv2618', 'gwjdaybl2815', 'omwhhvht1355', 'mwaboxbb2572', 'urmr57jjid60',
                     'wyer71kdzh81', 'emuunfcv2148', 'owhdfnsp2225', 'ekqx08vxyv51', 'sram30yjct26', 'bmxgnmmv2405',
                     'tmjftyih9159', 'khza43vzhy05', 'rifa78vfhs81', 'rxvb12qkns85', 'yzxvyrvv4015', 'nqsxpqkn0410',
                     'nhlg05djjm06', 'crfwessa4251', 'xknyqjhp5934', 'zngnvimf8975', 'drjv30ivod91', 'Emma411Gamer',
                     'MinerRocket30503', 'ZoeLion3618', 'RiderCode8977', 'Flam_eEcho2359', 'GhostAce2476',
                     'PhoenixNeon5906', 'RiderNova77702', 'Ava208NovaByte', 'JonathanFire6517', 'RileyWolf514731',
                     'Char_lesLucky246222', 'Ke_nnedy432Storm', 'GamerTurbo78201', 'LuckyFlash902Prism57',
                     'Ace466W0lfEagle', 'ByteOrb_it6495', 'ChillNinjaCrystal543', 'DriftRocketCrystal',
                     'IsaiahFrost6116', 'Spark079Fr0st8840', 'VioletPixelGamer', 'MoonBuilder6477', 'JaydenPixel9550',
                     'HannahRocket39289', 'Spark223Venom6068', 'J0hnPixel_Sky29', 'Anth0nyFire4953', 'AceFox924924',
                     'NinjaAqua839534', 'Charles532ArrowByte', 'StarEcho3780', 'JohnNinja9062', 'Chill867Arr0w',
                     'F0xRider5295', 'swkd16dfcv50', 'oqyc44hnzv51', 'zfqa93jrgm30', 'ysftcina4866', 'xzfs47klkf89',
                     'ilepaeva7717', 'dxzfhzgk3259', 'gatqtaxq1647', 'nlunojtx1838', 'voveyhwd2113', 'pceu43evdm89',
                     'bnfirepk9726', 'vyni52rwqu52', 'qpazarnc6468', 'rcbd92jpwt19', 'uvmm54hdgo91', 'zeeymxgs5235',
                     'dnjxyerm7673', 'ffve21deim70', 'jzpc00rmua19', 'xanv13deux17', 'rcofjpse6292', 'umwa67lkrx46',
                     'krfcbvin2068', 'tbgaykvo2172', 'nbdi92uzli31', 'kkfeuqme5278', 'ljvr58tycj80', 'droncrwz2183',
                     'hyafjpix7054', 'attxdrlp2324', 'mezejtrt3630', 'psry70zuci54', 'btxn81jjzc13', 'vmjjazmf8415',
                     'avxb83txtl48', 'hvjijidf8329', 'xomy96wnvw29', 'mrub98gsdm10', 'fwor99kbvi51', 'ujqnabqa3633',
                     'hjbd39zetk92', 'rghs32tori67', 'ctwodzls1292', 'rjjnllnm9782', 'dokx44ksxu75', 'hstn18jbis58',
                     'vcgarani3243', 'hukb56xfvv86', 'bldn52pbob13', 'qyoj08bgdd02', 'qfrchuef4155', 'vala13yjuc25',
                     'ntec37kryc20', 'aquo34amgr94', 'yporfsbp3654', 'jxycwbwd8214', 'xleu18erze74', 'wccbtkqx7799',
                     'kztdbkoj0064', 'cvpqfbjm0999', 'zplj38sede74', 'avdpstgq1878', 'mbeawelv2877', 'tfce61qgvm28',
                     'nbkn43lzhr30', 'tpqi57exvo47', 'jcjmbhnf3184', 'amkizmhh1664', 'zvis93cvky02', 'ljxb41hxlx52',
                     'tmns55wedl54', 'zami55bceq26', 'rcva52xgqq66', 'hmykctuv7940', 'vrtiyqtk3612', 'erydlvdu3490',
                     'abmx07czda70', 'rpun40cnzc54', 'ygzx61rrbj43', 'mtlf45uavz09', 'ndtd32znzd12', 'rewtnffq6787',
                     'qkpaagpi7492', 'xoeuptza7049', 'tgxizrry0733', 'jxshdhew0914', 'miygcadk1208', 'cyvn98sefx51',
                     'dpwu88smbf32', 'ikxhegbf4544', 'zrdj12mzsb12', 'lwkn25robn61', 'nqil87rxwg57', 'pxeaofrl9834',
                     'eaphtsoj4024', 'ebfh48agvn91', 'tdtk28rold43', 'cwly91oqhm16', 'duxj21zkwd50', 'kzjpbxkd8901',
                     'nmincydg8232', 'yjgyugak7480', 'ijxoawos5344', 'mnnr33qhet82', 'gjjppaqh8538', 'wryggcdw2724',
                     'mdeh66emlx53', 'eacd44ijyg59', 'buitkrmq2937', 'eqkinnnv0547', 'fsvbsaao7429', 'uopwiaez9281',
                     'izzc88vgys67', 'xppxrczk4772', 'ythe62trys66', 'tkfxwwrf0387', 'yimf54pipp76', 'baxd52ydme22',
                     'cyidhnox3157', 'zzhp31dsbq55', 'ppdffeoo4153', 'fhoy91yakk67', 'stdl59ultu40', 'kxvs24quji26',
                     'hrxpxjge3283', 'mgql37hjrn47', 'lkxa10lxbl00', 'yfuz92bush51', 'jbdp44abyg36', 'qsbz03dzok96',
                     'nkif03kevj74', 'apnq13ease10', 'fktj46dbhw51', 'Joliewylst33121', 'Roxanedibjz74269',
                     'Nevsacgxme97401', 'Bertytnwee87072', 'Dagmarmlwvw77391', 'Leneebrfuy14500', 'Vallizfnuq24674',
                     'Jandydcfys79634', 'Jillxmlia55793', 'Coleneccdpz95174', 'Pattycahsr82233', 'Windyoqtfv41864',
                     'Vedaqabeu29444', 'Bernixytov11437', 'Charlakrlwc90465', 'Melonycbnyx51775', 'Adanolmso24989',
                     'Britamitnp19913', 'Meaganzuewp54615', 'Sibealqqbjl47673', 'Carlacnqik46042', 'Tarrangtrs47367',
                     'Luluojphb37263', 'Randyjpsvu06982', 'Ashlendhcne12414', 'Alleneeamyx39480', 'Kelceyeaufj03298',
                     'Kaceyqwvoc51869', 'Calleyerdgr53350', 'Velmaxuvye36220', 'Delarynck05681', 'Tamarzzsgw57970',
                     'Ernafuivu03315', 'Edinqsdjq64791', 'Madayxgid84073', 'Caronbgiyk10276', 'Kittymobht31362',
                     'Hallixhmyd33842', 'Liaiwaqd26751', 'Caseyuknjp16215', 'Nomiudqci76300', 'Chill029_Spark8644',
                     'CrystalWolf31093', 'Carter223OrbitFlash', 'RiderFoxPixel9304', 'Myst1cByteShadow3258',
                     'LunaFrost1339', 'VenomLion5413', 'Eag_leSky2872', 'M00nDawn1315', 'Christopher705Shadow',
                     'EagleStorm102Mystic6', 'FlashSpark3806', 'SparkCode6205', 'FrostAce937932', 'BlockSpark1891',
                     'DriftLucky191224', 'CraftShad_ow', 'SilverNeon7976', 'SkyLuckyHyper1555', 'Joshua833Orbit',
                     'WolfCyberGhost7283', 'Phoenix123Alpha', 'DylanVen0m1814', 'ChristianFlashMoon', 'JohnNova1906',
                     'Caleb894Prism', 'EmmaHy_p3r6244', 'CyberTurbo45713', 'CyberWolf9717', 'FireStorm5992',
                     'NoahNeon7403', 'BuilderPrism64244', 'CarterStorm58870', 'Miner652Byte8317', 'btsxbpsr4926',
                     'axlr48mvym00', 'fnagutld1447', 'oypq87vbqi59', 'Alikaamxne99638', 'Dorryempto12283',
                     'Kathiucjwp96642', 'Emilyewmqt21577', 'Kristiypwkf30836', 'Gilliecfxlx45069', 'Pattihffjs04750',
                     'gpgk38onye80', 'abirevkp6837', 'fdovlsnp4838', 'ynemxarg2471', 'igsjawgn1871', 'ugidsrsk1386',
                     'mjktrlpr7914', 'edzc78xjgs58', 'nbspmurt2830', 'xqxg48pjyb80', 'ppfruyqu7409', 'orfjrebn0835',
                     'tqyz30etbp64', 'wfpg92pejc46', 'rcbm80yjib52', 'ggrjllnb2712', 'jdmv09mtwi18', 'enssdocf9593',
                     'irje83diqb90', 'xiix61fcpy60', 'fhkk99vewj13', 'gqszzesc0420', 'ppbgloga0615', 'lwiy88ktuz31',
                     'jzkbmxzu2935', 'wjyk64isrs55', 'gecnufvo3109', 'hohpmlha0003', 'sfvtwsmm3794', 'guxpxsdk0671',
                     'sxzvodhv9056', 'cmdeljjc3119', 'eokm81hzaa09', 'ofqrencp0914', 'ixcutray0475', 'vhyu31bfhv00',
                     'bwdb04jcki10', 'fpyk57wlpa38', 'rkvsixjl4127', 'shnd03gpdt85', 'pkbjeclf6510',
                     'Fox188Frost795521', 'C_arolineCyber', 'NeonM_oon3466', 'Michael655Builder', 'FlameMoon8908',
                     'EchoPixel4335', 'BuilderWolf5381', 'AlphaGamer1913', 'HyperOrbit7474', 'AceLucky2556',
                     'OliviaHyper18440', 'R0ck3tEch06548', 'Charl3sGam3r9180', 'LiamAlpha6268', 'AvaCrystal42',
                     'HannahWolf2711', 'BlazeShadow6510', 'Orbit862Pixel8480', 'MinerRiderWolf3490',
                     'Her0318Crystal9304', 'Jackson325Light', 'DavidLion2043', 'MinerStor_m4793', 'SkyRider4011',
                     'ChloeStormHero1790', 'MoonPhoenix8295', 'ShadowVeno_m', 'DawnShadow32166', 'AlphaDawnMystic1689',
                     'JackGhost23163', 'Jayden575Flame', 'WolfFlash24223', 'JaydenSkyOrbit7231', 'LightLuckyLion9452',
                     'OliverVen0m8877', 'HarperOrbit8966', 'Mystic017N_ova3271', 'BuilderPixel81431', 'VictoriaFox4793',
                     'Vict0riaGamer8480', 'Ziapcybe36988', 'Vallyozdry07658', 'Libbeypjuis96110', 'Dinahklsiv37956',
                     'Valinacwhym49525', 'Rosiedyjke34323', 'Jorixtvvj52950', 'Sadyeocgbl17868', 'Jonirrspr98681',
                     'Arlenidvrt58135', 'Renienutks59330', 'Andiapsoi67922', 'Tedlkqfo20075', 'Wynnnsakk69798',
                     'Cookiercpwx56631', 'Elkatekyc77713', 'Sherrinhtbp25992', 'Altheablcrf27790', 'Rebaraccv56946',
                     'Karisamkylr06201', 'Ianthemeihq65372', 'Adoreebgjwr68187', 'Ronicainrsk80967', 'Lynneagwnnd74383',
                     'Mavissrjai82111', 'Susydwnex30059', 'Gladivlkwd11526', 'Lindiedjmlu62001', 'Aleennryvc16620',
                     'Henkamfnaa42188', 'Karyoskwp07444', 'Toriezobhw49646', 'Lilliqvgdo01652', 'Faithkhjat92747',
                     'Fernuahpb04545', 'Hollipyhzi25587', 'Pagemukky10098', 'Halideaqi12146', 'Tashakwuwi48452',
                     'Verinakxfcl65235', 'Coleenigxhe02906', 'Lonaxkkmj06751', 'Irenamrxxc37434', 'Jennylbuym79699',
                     'Jodinrirk47292', 'Nomilusey12868', 'Aloiseyaghy79895', 'Brineybwada15657', 'Bunnypcnog56604',
                     'Stellatuaaq09168', 'Sybilrmhin03698', 'Talloucgfpb21657', 'Leanorpqucx87908', 'Katebveex56888',
                     'Maddimmosa09749', 'Diannahnge74271', 'Bobbeewanyu83827', 'Fleurivzcl76207', 'Wandalzacm69471',
                     'Fiannayaqqw48527', 'Adellexkcqf74172', 'Ruthiigmib16930', 'Viviangyrwd33827', 'Juliohpyj17100',
                     'Darbiecywfz31809', 'Alexiauohmd62605', 'Galinapogny52210', 'Lonniekpdlr62746', 'Rosinabzxdx91885',
                     'Kevinairnht58213', 'Starnuvwa52106', 'Eadieozteg67823', 'Nelliydlxl12884', 'Mariefxowt90965',
                     'Dardalphan52664', 'Aggyppako34386', 'Nadaxwqxt63046', 'Krystakdybp43593', 'Jeanierzxpk18085',
                     'Aleciagftev23187', 'Suziegbgxw21706', 'Chrysavoodx28047', 'Cicilyjsnsy82118', 'Linetscqmi32886',
                     'Leanortblgd60513', 'Edamavcr98909', 'Rianerkpyx91822', 'Tawnyasdiqr96069', 'Johnnaxwhpk32260',
                     'Reggiexeags97820', 'Neilewihxv65738', 'Billyacpnx61853', 'Conniektprr81617', 'Krystavapvn98024',
                     'Audresgsqu09530', 'Jadexnihy26690', 'Sibleyjndjx75077', 'Cahrawdaen01325', 'Heddieaebaw05505',
                     'Hollivkrac69300', 'Myrleidjgn60654', 'Merciplqsc81724', 'Twylactiau52019', 'Alysiagbbjn43888',
                     'Charlaiqrdt85763', 'Willahbsrk70410', 'Leoracmfwq30955', 'Denyspdgix64944', 'Dorisewpurd15008',
                     'bgwb14clad40', 'zsonnbtk5186', 'wjgcptfc4272', 'rhiqxbfb7403', 'ftmj73asme04', 'nuruqhap7041',
                     'cphw77hzsd35', 'svmdgjpb5205', 'tqcy30muru46', 'quze28vzvi21', 'witgmfyt1161', 'kbjc68jokb97',
                     'GenesisShadow8132', 'NinjaBlaze7538', 'JacksonHyperHero1683', 'GhostAquaNeon', 'LuckyFlame11005',
                     'MysticByte9805', 'Chill559Hero', 'DriftAlph_a519337', 'TurboRider1419', 'MysticNeon70667',
                     'NoraGamer2722', 'P1xelM1nerShadow', 'Echo116Spark4357', 'Isabe_llaDrift6415',
                     'AmeliaStarMiner13482', 'OwenNinja7257', 'LunaTurbo61631', 'FoxCraft9397', 'AceB_yteFox8611',
                     'LaylaStar5482', 'SparkSt0rm4155', 'AriaChill4170', 'Isabella810Ghost5668', 'Ja_mesFlame6714',
                     'AndrewDrift2500', 'OwenByte4568', 'AaliyahSt_ar9814', 'Blo_ckPixel8550', 'CharlottePrism4963',
                     'RocketFox8856', 'GabriellaAlpha4059', 'AlphaEagle38573', 'NovaPrism85598', 'Fusio_nNeon',
                     'LuckyMiner1014', 'AlphaHero8464', 'Orbi_tFrost', 'Charl3sGhost1732', 'sciqykdt1014',
                     'siuldicj5880', 'qjperbjl2106', 'pyivujqt2456', 'kymvxkco8160', 'jwjo73jckj72', 'xamugbpd8979',
                     'qwxh62hkkq61', 'cfbqzdzg8764', 'sivz14ngjg50', 'xyznywzo2883', 'etgspnxz1438', 'hlxvubeg0825',
                     'ctea84eewr41', 'dmhzqkgq7672', 'axyj66fczg93', 'qwborvds1719', 'uywd96gsdi78', 'vljf39barl03',
                     'watt41slyb52', 'dbbe20zjzo56', 'yydkqfuu9607', 'rmyz59velw97', 'izka24acvq02', 'kfdhylfs5417',
                     'zhwclotq6615', 'teqxfrlu6775', 'fvsd15rrft98', 'xepnenxb7739', 'cgwmhtiv7756', 'gtxlujkg4639',
                     'yqnvykfe6086', 'dqjaybqc7391', 'kwsuomvf7614', 'ejfc25rkvp21', 'fxsvbjew2910', 'lsdgbuot6077',
                     'hdgblnhq3386', 'vlfdhzxv0675', 'qwnx12jeve75', 'derveaml0791', 'Uqdahrayas4620',
                     'Coridkyler78436', 'Fallaxsom1702', 'Annahtygel6298', 'Afaanweibe439', 'Piazdeare4795',
                     'Dusenillg98897', 'Boviaskuba38784', 'Ivansyusha358', 'Kareealers3906', 'Riemtobal49948',
                     'Roshum3816', 'Capikwearn922', 'Soitoaquib5126', 'Sinkakure54968', 'Earzolna424', 'Fotyguler98584',
                     'Latotayah333', 'Copeszehn8410', 'Nimerehtel23249'}
local RECEIVER_LIST = {'Echo_Fire7325', 'LilyGhost37', 'Auroreshtgv85683', 'Reetadlhnj22509', 'Jonathan349Crystal48',
                       'AquaStorm229635', 'AvaLucky40605', 'L1ghtNeon24', 'Verafncdv55666', 'Lonnavyjei50729',
                       'Agaceprink14622', 'Leoniegpueg92659', 'Zeldaylpma57274', 'Kattimaoxo49291', 'qkiw25useg61',
                       'wxayoahg6543', 'Harlielrpxq22651', 'Jannaeswoq67224', 'N0vaCraft4311', 'MichaelSilverSpark19',
                       'CrystalRocket7537', 'EmmaGamer4274', 'RiderChi_ll', 'IsaiahFlash1667', 'Loissiqjo31479',
                       'Noreenqarky22875', 'Darceynfqsy28321', 'Fancyqeuhj47703', 'Mamiemlqbm83683', 'Abrarcppm88412',
                       'AceHyper51186', 'ScarlettVenom54952', 'Liliaonjfp61034', 'Siouxpwrsl79798', 'Melaelbot74140',
                       'Jaymedgybi53251', 'Jandyaunnu38688', 'Reganmfgmu05831', 'Jerrierfauv21105', 'Shirtzzar37286',
                       'PrismMiner62921', 'IsaacFlame6536', 'Blythegarhb22020', 'Libykhnx63598', 'Dorrijbfik08775',
                       'Amberlvhfp93582', 'dnrr26zqld92', 'lvsn15dhyu29', 'An_naMystic7545', 'TheodoreCrystal21325',
                       'CarterFrost7502', 'Byte204LuckyAqua', 'Gho_st809Sky9843', 'ElijahRocketCyber506',
                       'IsaacM00n5647', 'LuckyArrowFusion8477', 'jgbmzyso7352', 'szaakhen2415', 'Star813Eagle',
                       'ClaireAqua9776', 'Fox959Alpha4029', 'NeonNinja8367', 'Simonaacwmw17648', 'Jannanzmnj32294',
                       'Xyliahszft86641', 'Janabfxhz13037', 'Danicewcpps73255', 'Connieqkvmo49276', 'Joleneegfce13571',
                       'Keeleykqmhy20782', 'ulxxrhwd7637', 'ekkq92msul03', 'Ronnielyfhy99988', 'Wallygpaux43806',
                       'ChillEcho73129', 'EchoBuilderRocket532', 'zysaoqjx7221', 'izmx03pzyl76', 'vbejxzld8879',
                       'eyvqcubt0201', 'OliverBuilder51202', 'CrystalStarShadow848', 'Hildyunyyz96116', 'amwxqjpw9107',
                       'taeh80ksry90', 'kqcs81rpeq70', 'seccbpqy1867', 'gzhgurbc1298', 'Livawdneq76919',
                       'Josistuas88263', 'LightSilver7160', 'Shadow713Hyper615521', 'Aliciayjloc96380',
                       'Ibbysumet66812', 'iwdjbxpz7688', 'hodhjdfo7830', 'ZoeyMoon7278', 'Venom985Lucky',
                       'Helynuwlwh73606', 'Nellevswem04570', 'Dasiewjlqa06237', 'Sallyuzlsr40107', 'Britninceur44166',
                       'Kimmigovcp75755', 'LunaCraftArrow7628', 'Spark165Block9595', 'mlwf59fnfe10', 'wddy90dmih79'}

-- ตัวแปรสำหรับการทำงาน
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GuiService = game:GetService("GuiService")
local VirtualInputManager = game:GetService("VirtualInputManager")

-- ตัวแปรสำหรับ tracking
local currentStep = 0
local currentStepReceiver = 0 -- ตัวแปรแยกสำหรับ receiver mode
local isTrading = false
local tradePartner = nil

-- ตัวแปรสำหรับตรวจสอบสถานะการเพิ่มไอเทม
local shroomAdded = false
local tokenAdded = false
local creatureAdded = false

-- ตัวแปรควบคุมการเรียก remote (ป้องกันการเรียกซ้อน)
local isRemoteBusy = false
local lastRemoteCallTime = 0

-- ตัวแปรสำหรับ state-based tracking (เพิ่มใหม่)
local receiverCreatureStartTime = 0
local receiverCreatureRequested = false
local receiverAcceptStartTime = 0
local receiverAcceptRequested = false

-- ตัวแปรสำหรับ receiver timeout (เพิ่มใหม่)
local lastTradeRequestTime = tick()
local RECEIVER_TIMEOUT = 300 -- 5 นาที (300 วินาที)

-- ตัวแปรสำหรับ sender state-based tracking
local senderShroomStartTime = 0
local senderShroomRequested = false
local senderTokenStartTime = 0
local senderTokenRequested = false
local senderCreatureStartTime = 0
local senderCreatureRequested = false
local senderAcceptStartTime = 0
local senderAcceptRequested = false

-- ตัวแปรป้องกันการทำงานพร้อมกัน
local isSenderMainActive = false
local isSenderReceiverActive = false

-- ตัวแปรสำหรับ timeout การรอเริ่มเทรดหลังส่งคำขอหา receiver
local SENDER_REQUEST_TIMEOUT = 200 -- วินาที
local lastSentTargetName = nil
local lastSentTargetIsReceiver = false
local lastSentTime = 0

-- ฟังก์ชันช่วยเหลือ
local function IsInList(name, list)
    for _, listName in ipairs(list) do
        if name == listName then
            return true
        end
    end
    return false
end

local function Clicked_Ui(path)
    local success, error = pcall(function()
        GuiService.SelectedObject = path
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการเลือก UI: " .. tostring(error))
    end
end

local function Click_NOW()
    local success, error = pcall(function()
        VirtualInputManager:SendKeyEvent(true, 13, false, game)
        wait(0.1)
        VirtualInputManager:SendKeyEvent(false, 13, false, game)
        task.wait(2)
        Clicked_Ui(nil)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกดปุ่ม: " .. tostring(error))
    end
end

-- ฟังก์ชันวาร์ปไปยังตำแหน่งที่กำหนด
local function WarpToLocation()
    local success, error = pcall(function()
        local character = LocalPlayer.Character
        if character then
            character:PivotTo(CFrame.new(Vector3.new(-2132.24, 490.66, 1106.83)))
            print("✅ วาร์ปไปยังตำแหน่งที่กำหนดแล้ว")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการวาร์ป: " .. tostring(error))
    end
end

-- ฟังก์ชันหาคู่เทรดที่ว่าง
local function FindValidReceiver()
    local result = nil
    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            return nil
        end
        
        print("🔍 กำลังค้นหาคู่เทรดที่ว่าง...")

        -- ค้นหา receiver ที่ว่าง
        local validReceivers = {}
        local getPlayersSuccess = pcall(function()
            for _, player in pairs(Players:GetPlayers()) do
                if IsInList(player.Name, RECEIVER_LIST) then
                    local isAvailable = false
                    local tradingValue = nil
                    local checkSuccess = pcall(function()
                        if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                            tradingValue = player.Settings.Trading.Value
                            isAvailable = (tradingValue == false)
                        else
                            isAvailable = true
                            tradingValue = "unknown"
                        end
                    end)

                    if not checkSuccess then
                        print(
                            "⚠️ เกิดข้อผิดพลาดในการเช็คสถานะ " ..
                                player.Name .. " สมมติว่าว่าง...")
                        isAvailable = true
                        tradingValue = "error"
                    end

                    if isAvailable then
                        print("✅ พบ receiver ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                                  tostring(tradingValue) .. ")")
                        table.insert(validReceivers, player)
                    else
                        print("❌ Receiver " .. player.Name ..
                                  " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) ..
                                  ")")
                    end
                end
            end
        end)

        if not getPlayersSuccess then
            print(
                "❌ เกิดข้อผิดพลาดในการดึงรายชื่อผู้เล่น")
            return nil
        end

        -- ถ้ามี receiver ว่าง ให้เลือกหนึ่งคน
        if #validReceivers > 0 then
            local selected = validReceivers[math.random(1, #validReceivers)]
            print("🎯 เลือก receiver: " .. selected.Name)
            result = selected
            return
        end

        -- ถ้าไม่มี receiver ว่าง ให้ค้นหา sender อื่นที่ว่าง
        print("ไม่มี receiver ว่าง กำลังค้นหา sender อื่น...")
        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    tradingValue = player.Settings.Trading.Value
                    isAvailable = (tradingValue == false)
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print(
                        "❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " ..
                            tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender เพื่อเทรดด้วย: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบคู่เทรดที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindValidReceiver: " ..
                 tostring(error))
    end
    return result
end

-- ฟังก์ชันส่ง trade request
local function SendTradeRequest(receiverName)
    local success, error = pcall(function()
        local args = {"SendRequest", game:GetService("Players"):WaitForChild(receiverName)}
        game:GetService("Players").LocalPlayer:WaitForChild("Remotes"):WaitForChild("TradeRequestRemote"):FireServer(
            unpack(args))
        print("📤 ส่ง trade request ไปยัง " .. receiverName)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการส่ง trade request: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันหาผู้เล่น sender ที่ว่าง (ค้นหาเฉพาะ sender)
local function FindAvailableSender()
    local result = nil
    local success, error = pcall(function()
        print("🔍 กำลังค้นหา sender ที่ว่าง...")

        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                        tradingValue = player.Settings.Trading.Value
                        isAvailable = (tradingValue == false)
                    else
                        isAvailable = true
                        tradingValue = "unknown"
                    end
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " .. tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print("❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบ sender ที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindAvailableSender: " .. tostring(error))
    end
    return result
end

-- ฟังก์ชัน add shroom
local function AddShroom()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่สามารถเพิ่ม shroom ได้")
            return false
        end
        
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub("@", "")
        local localPlayerName = LocalPlayer.Name

        local amount = coinsValue - 20
        if amount > 500000 then
            amount = 500000
        end
        if amount < 0 then
            amount = 0
        end

        local args = {"AddTradeItem", {
            Overwrite = true,
            ItemType = "Currency",
            Name = "Shooms",
            Amount = amount
        }}

        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ถูกปิดระหว่าง AddShroom, reset currentStep")
            currentStep = 0
            return false
        end

        local remote1Name = localPlayerName .. "-" .. opponentName .. "TradeRemote"
        local remote1 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote1Name)
        if not remote1 then
            print("❌ ไม่พบ remote1: " .. tostring(remote1Name))
            currentStep = 0
            return false
        end
        remote1:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote1...")
        wait(3)

        local remote2Name = opponentName .. "-" .. localPlayerName .. "TradeRemote"
        local remote2 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote2Name)
        if not remote2 then
            print("❌ ไม่พบ remote2: " .. tostring(remote2Name))
            currentStep = 0
            return false
        end
        remote2:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote2...")
        wait(3)

        print("✅ เพิ่ม " .. amount .. " Shrooms ในการเทรดกับ " .. opponentName)
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddShroom: " ..
                 tostring(error))
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add token
local function AddToken()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local tokenList = {'ChangeCreatureColorsToken', 'CreatureReviveToken', 'FullGrowToken', 'PartialGrowToken',
                       'FreeSpinToken', 'RandomStoredCreatureToken','DeathGachaToken'}

    local success, error = pcall(function()
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub('@', '')
        local localPlayerName = LocalPlayer.Name

        -- ตั้งค่า remote กำลังใช้งาน
        isRemoteBusy = true

        for i, tokenName in ipairs(tokenList) do
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("❌ TradeGui ถูกปิดระหว่าง AddToken, reset currentStep")
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Tokens',
                Name = tokenName,
                Amount = 150
            }}

            local remoteName = localPlayerName .. '-' .. opponentName .. 'TradeRemote'
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print("📤 กำลังเพิ่ม " .. tokenName .. " (" .. i .. "/" .. #tokenList .. ")...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn(
                    "❌ เกิดข้อผิดพลาดในการเรียก remote สำหรับ " ..
                        tokenName .. ": " .. tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print('✅ เพิ่ม ' .. tokenName .. ' ในการเทรดกับ ' .. opponentName)

            -- รอ 3 วินาทีหลังใช้ remote
            print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ " .. tokenName ..
                      "...")
            wait(3)
        end

        -- ปลดล็อค remote
        isRemoteBusy = false
        print('✅ เพิ่ม token ทั้งหมดเสร็จสิ้น')
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddToken: " ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature สำหรับ Receiver แบบปลอดภัย
local function AddCreatureReceiver()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                    currentStepReceiver = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStepReceiver = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStepReceiver = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            local remotes = ReplicatedStorage:FindFirstChild('Remotes')
            if not remotes then
                print('❌ ไม่พบ Remotes folder')
                currentStepReceiver = 0
                return false
            end

            local remote = remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStepReceiver = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                currentStepReceiver = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStepReceiver = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStepReceiver = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreatureReceiver: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStepReceiver = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature
local function AddCreature(isReceiver)
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                    currentStep = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStep = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStep = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName
            if isReceiver then
                remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            else
                remoteName = LocalPlayer.Name .. '-' .. otherPlayerName .. 'TradeRemote'
            end
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStep = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                currentStep = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStep = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreature: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชันกด accept สำหรับ Receiver แบบปลอดภัย
local function ClickAcceptReceiver()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
        if not tradeGui then
            print("❌ ไม่พบ TradeGui")
            return false
        end

        local containerFrame = tradeGui:FindFirstChild("ContainerFrame")
        if not containerFrame then
            print("❌ ไม่พบ ContainerFrame")
            return false
        end

        local acceptButton = containerFrame:FindFirstChild("AcceptButton")
        if not acceptButton then
            print("❌ ไม่พบ AcceptButton")
            return false
        end

        local upperLabel = acceptButton:FindFirstChild("UpperLabel")
        if not upperLabel then
            print("❌ ไม่พบ UpperLabel")
            return false
        end

        Clicked_Ui(upperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด accept
local function ClickAccept()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.AcceptButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด cancel
local function ClickCancel()
    local success, error = pcall(function()
        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.CancelButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("❌ ยกเลิกการเทรด")
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด cancel: " .. tostring(error))
    end
end

-- ฟังก์ชันเช็คชื่อคู่เทรด
local function CheckTradePartner()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            return false
        end

        local theirLabel = LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel
        if not theirLabel or not theirLabel.Text then
            return false
        end

        local opponentName = theirLabel.Text:gsub("@", "")

        -- เช็คว่าชื่อตรงกับในรายชื่อหรือไม่
        if IsInList(opponentName, RECEIVER_LIST) or IsInList(opponentName, SENDER_LIST) then
            print("✅ ชื่อคู่เทรดถูกต้อง: " .. opponentName)
            return true
        else
            print("❌ ชื่อคู่เทรดไม่ตรงกับรายชื่อ: " ..
                      opponentName)
            ClickCancel()
            return false
        end
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการเช็คชื่อคู่เทรด: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Sender
local function AcceptTradeRequestForSender()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    -- Sender สามารถรับ trade request จาก sender อื่นได้
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Sender พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                -- Sender สามารถรับ trade request จาก sender อื่นได้
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Sender พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Sender: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver แบบปลอดภัย
local function AcceptTradeRequestReceiver()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver
local function AcceptTradeRequest()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน Coroutine สำหรับ Sender ที่รับ trade request
local function SenderReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) SenderReceiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                -- รอ trade request
                AcceptTradeRequestForSender()

                -- ตรวจสอบ timeout สำหรับ Sender ที่ทำงานแบบ Receiver (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Sender (Receiver mode) ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print(
                            "⏰ Sender (Receiver mode) รอ trade request... เหลือเวลาอีก " ..
                                string.format("%.0f", timeRemaining) ..
                                " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                isSenderReceiverActive = false
                wait(2)
            else
                -- กำลังเทรดอยู่ (เมื่อเป็น receiver)
                -- ตรวจสอบว่ามี trade request หรือไม่
                local hasTradeRequest = false
                local requestsFrame = LocalPlayer.PlayerGui.RequestsGui.RequestsFrame.Other
                if requestsFrame then
                    for _, child in pairs(requestsFrame:GetChildren()) do
                        if string.find(child.Name, "^Trade") then
                            hasTradeRequest = true
                            break
                        end
                    end
                end

                -- ถ้ามี trade request ให้ override main sender
                if hasTradeRequest then
                    print("📩 พบ trade request กำลัง override Main Sender...")
                    isSenderMainActive = false
                end

                -- ตรวจสอบว่า main sender loop กำลังทำงานอยู่หรือไม่
                if isSenderMainActive then
                    print(
                        "⏸️ Main Sender กำลังทำงานอยู่ SenderReceiver รอสักครู่...")
                    wait(1)
                    return
                end

                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        isSenderReceiverActive = true
                        currentStepReceiver = 1
                        print(
                            "🚀 Sender เริ่มขั้นตอนที่ 1: Add Creature (โหมด Receiver)")
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 เริ่ม Add Creature...")
                            -- เริ่มทำ AddCreature แบบไม่รอผลลัพธ์
                            spawn(function()
                                AddCreature(true)
                            end)
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()
                            print("⏳ รอให้ Add Creature เสร็จ...")
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 5 then
                            currentStepReceiver = 2
                            print(
                                "   Sender เริ่มขั้นตอนที่ 2: Click Accept (โหมด Receiver)")
                        else
                            print("⏳ รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking
                    if not receiverAcceptRequested then
                        print("🚀 เริ่ม Click Accept...")
                        -- เริ่มทำ ClickAccept แบบไม่รอผลลัพธ์
                        spawn(function()
                            ClickAccept()
                        end)
                        receiverAcceptRequested = true
                        receiverAcceptStartTime = tick()
                        print("⏳ รอให้ Click Accept เสร็จ...")
                    else
                        -- ตรวจสอบว่าผ่านไป 3 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 3 then
                            currentStepReceiver = 0
                            print("✅ Sender เทรดเสร็จสิ้น (โหมด Receiver)")
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                            isSenderReceiverActive = false
                        else
                            print("⏳ รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 3 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน SenderReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            isSenderReceiverActive = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

function TradeStepHandlerSender(step)
    if not LocalPlayer.PlayerGui.TradeGui.Enabled then
        -- ยังไม่ได้เทรด
        if step ~= 0 then
            print(
                "Trade ถูกยกเลิกหรือจบกลางคัน กำลัง reset step...")
            -- รีเซ็ตสถานะการเพิ่มไอเทม
            shroomAdded = false
            tokenAdded = false
            creatureAdded = false
            -- รีเซ็ตสถานะ sender tracking
            senderShroomStartTime = 0
            senderShroomRequested = false
            senderTokenStartTime = 0
            senderTokenRequested = false
            senderCreatureStartTime = 0
            senderCreatureRequested = false
            senderAcceptStartTime = 0
            senderAcceptRequested = false
            isSenderMainActive = false
            -- รีเซ็ตสถานะการส่งคำขอค้าง
            lastSentTargetName = nil
            lastSentTargetIsReceiver = false
            lastSentTime = 0
            step = 0
        end

        -- ตรวจสอบว่า SenderReceiver กำลังทำงานอยู่หรือไม่
        if isSenderReceiverActive then
            print(
                "⏸️ SenderReceiver กำลังทำงานอยู่ Main Sender รอสักครู่...")
            return 0
        end

        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            -- ถ้า coins ไม่เพียงพอ ให้ปลดล็อค main sender และรอ
            isSenderMainActive = false
            wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
        else
            -- ถ้าส่งหา receiver ค้างไว้นานเกินกำหนด ให้ลองหา sender ที่ว่างแทน
            if lastSentTargetIsReceiver and lastSentTime > 0 then
                local elapsed = tick() - lastSentTime
                if elapsed >= SENDER_REQUEST_TIMEOUT then
                    print("⚠️ รอเริ่มเทรดกับ receiver (" .. tostring(lastSentTargetName) .. ") นานเกิน " .. SENDER_REQUEST_TIMEOUT .. " วินาที กำลังหา sender แทน...")
                    local fallbackSender = FindAvailableSender()
                    if fallbackSender then
                        SendTradeRequest(fallbackSender.Name)
                        lastSentTargetName = fallbackSender.Name
                        lastSentTargetIsReceiver = false
                        lastSentTime = tick()
                        return 0
                    else
                        -- ปรับเวลาเพื่อหลีกเลี่ยงการ spam ตรวจซ้ำทันที
                        lastSentTime = tick()
                    end
                end
            end

            local validPartner = FindValidReceiver()
            if validPartner then
                SendTradeRequest(validPartner.Name)
                -- บันทึกสถานะเป้าหมายล่าสุดที่ส่งคำขอ
                lastSentTargetName = validPartner.Name
                lastSentTargetIsReceiver = IsInList(validPartner.Name, RECEIVER_LIST)
                lastSentTime = tick()
            else
                -- ถ้าไม่มี partner ให้ปลดล็อค main sender
                isSenderMainActive = false
            end
        end
        return 0 -- reset step
    else
        -- กำลังเทรดอยู่
        -- เคลียร์สถานะการส่งคำขอค้างเมื่อเข้าสู่หน้าต่าง Trade จริง
        lastSentTargetName = nil
        lastSentTargetIsReceiver = false
        lastSentTime = 0
        if step == 0 then
            if CheckTradePartner() then
                print("🚀 เริ่มขั้นตอนที่ 1: Add Shroom")
                -- รีเซ็ตสถานะการเพิ่มไอเทมเมื่อเริ่มเทรดใหม่
                shroomAdded = false
                tokenAdded = false
                creatureAdded = false
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                return 1
            end
        elseif step == 1 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddShroom, reset step")
                return 0
            end
            -- Add Shroom - ใช้ state-based tracking
            if not senderShroomRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 1
                else
                    print("🚀 เริ่ม Add Shroom...")
                    senderShroomRequested = true
                    senderShroomStartTime = tick()
                    isSenderMainActive = true -- ตั้ง active เมื่อเริ่มเทรดจริง
                    -- เรียก AddShroom แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Shroom เสร็จ...")
                    local shroomSuccess = AddShroom()
                    if shroomSuccess then
                        shroomAdded = true
                        print("✅ Add Shroom เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 2: Add Token")
                        return 2
                    else
                        print("❌ Add Shroom ล้มเหลว")
                        senderShroomRequested = false
                        isSenderMainActive = false
                        return 0
                    end
                end
            else
                -- ถ้า shroom ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderShroomStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Shroom ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                    shroomAdded = true
                    return 2
                else
                    print("⏳ รอ Add Shroom เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 1
                end
            end
        elseif step == 2 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddToken, reset step")
                return 0
            end
            -- Add Token - ใช้ state-based tracking
            if not senderTokenRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 2
                else
                    print("🚀 เริ่ม Add Token...")
                    senderTokenRequested = true
                    senderTokenStartTime = tick()
                    -- เรียก AddToken แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Token เสร็จ...")
                    local tokenSuccess = AddToken()
                    if tokenSuccess then
                        tokenAdded = true
                        print("✅ Add Token เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 3: Add Creature")
                        return 3
                    else
                        print("❌ Add Token ล้มเหลว")
                        senderTokenRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า token ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderTokenStartTime
                if elapsedTime >= 30 then
                    print(
                        "⚠️ Add Token ใช้เวลานานเกินไป กำลังข้ามไป step 3")
                    tokenAdded = true
                    return 3
                else
                    print("⏳ รอ Add Token เสร็จ... (" .. string.format("%.1f", 30 - elapsedTime) ..
                              " วินาที)")
                    return 2
                end
            end
        elseif step == 3 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddCreature, reset step")
                return 0
            end
            -- Add Creature - ใช้ state-based tracking
            if not senderCreatureRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 3
                else
                    print("🚀 เริ่ม Add Creature...")
                    senderCreatureRequested = true
                    senderCreatureStartTime = tick()
                    -- เรียก AddCreature แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Creature เสร็จ...")
                    local creatureSuccess = AddCreature(false)
                    if creatureSuccess then
                        creatureAdded = true
                        print("✅ Add Creature เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 4: Click Accept")
                        return 4
                    else
                        print("❌ Add Creature ล้มเหลว")
                        senderCreatureRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า creature ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderCreatureStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 4")
                    creatureAdded = true
                    return 4
                else
                    print("⏳ รอ Add Creature เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 3
                end
            end
        elseif step == 4 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง ClickAccept, reset step")
                return 0
            end
            -- Click Accept - ใช้ state-based tracking
            if not senderAcceptRequested then
                -- ตรวจสอบว่าทุกขั้นตอนเสร็จสิ้นแล้ว
                if shroomAdded and tokenAdded and creatureAdded then
                    print("🔍 ตรวจสอบสถานะ: Shroom=" .. tostring(shroomAdded) .. ", Token=" ..
                              tostring(tokenAdded) .. ", Creature=" .. tostring(creatureAdded))

                    -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                    if isRemoteBusy then
                        print(
                            "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                        return 4 -- ยังคงอยู่ใน step 4
                    end
                    print("🚀 เริ่ม Click Accept...")
                    senderAcceptRequested = true
                    senderAcceptStartTime = tick()
                    -- เรียก ClickAccept แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Click Accept เสร็จ...")
                    local acceptSuccess = ClickAccept()
                    if acceptSuccess then
                        print("✅ เทรดเสร็จสิ้น")
                        -- รีเซ็ตสถานะการเพิ่มไอเทม
                        shroomAdded = false
                        tokenAdded = false
                        creatureAdded = false
                        -- รีเซ็ตสถานะ sender tracking
                        senderShroomStartTime = 0
                        senderShroomRequested = false
                        senderTokenStartTime = 0
                        senderTokenRequested = false
                        senderCreatureStartTime = 0
                        senderCreatureRequested = false
                        senderAcceptStartTime = 0
                        senderAcceptRequested = false
                        isSenderMainActive = false
                        return 0
                    else
                        print("❌ Click Accept ล้มเหลว")
                        senderAcceptRequested = false
                        return 0
                    end
                else
                    print(
                        "⚠️ ยังมีขั้นตอนที่ยังไม่เสร็จ: Shroom=" ..
                            tostring(shroomAdded) .. ", Token=" .. tostring(tokenAdded) .. ", Creature=" ..
                            tostring(creatureAdded))
                    -- กลับไปทำขั้นตอนที่ยังไม่เสร็จ
                    if not shroomAdded then
                        print("🔄 กลับไปทำ Add Shroom")
                        return 1
                    elseif not tokenAdded then
                        print("🔄 กลับไปทำ Add Token")
                        return 2
                    elseif not creatureAdded then
                        print("🔄 กลับไปทำ Add Creature")
                        return 3
                    end
                end
            else
                -- ถ้า accept ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderAcceptStartTime
                if elapsedTime >= 5 then
                    print(
                        "⚠️ Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                    print("✅ เทรดเสร็จสิ้น")
                    -- รีเซ็ตสถานะการเพิ่มไอเทม
                    shroomAdded = false
                    tokenAdded = false
                    creatureAdded = false
                    -- รีเซ็ตสถานะ sender tracking
                    senderShroomStartTime = 0
                    senderShroomRequested = false
                    senderTokenStartTime = 0
                    senderTokenRequested = false
                    senderCreatureStartTime = 0
                    senderCreatureRequested = false
                    senderAcceptStartTime = 0
                    senderAcceptRequested = false
                    isSenderMainActive = false
                    return 0
                else
                    print("⏳ รอ Click Accept เสร็จ... (" .. string.format("%.1f", 5 - elapsedTime) ..
                              " วินาที)")
                    return 4
                end
            end
        end
    end
    return step
end

-- เรียกใช้งานแบบ timer (ทุก 1 วินาที)
local function StartSenderStepLoop()
    spawn(function()
        while true do
            local success, err = pcall(function()
                local previousStep = currentStep
                currentStep = TradeStepHandlerSender(currentStep)

                -- ถ้า step เปลี่ยน แสดงว่าขั้นตอนเสร็จแล้ว
                if previousStep ~= currentStep then
                    print("🔄 ขั้นตอนเปลี่ยนจาก " .. previousStep ..
                              " เป็น " .. currentStep)
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน TradeStepHandlerSender: " .. tostring(err))
                currentStep = 0
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                isSenderMainActive = false
            end

            -- รอ 1 วินาทีแล้ววนใหม่
            wait(1)
        end
    end)
end

-- Coroutine สำหรับ Receiver แบบปลอดภัย
local function ReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) Receiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            -- ตรวจสอบ TradeGui อย่างปลอดภัย
            local tradeGuiEnabled = false
            local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
            if tradeGui then
                tradeGuiEnabled = tradeGui.Enabled
            end

            if not tradeGuiEnabled then
                -- รอ trade request
                AcceptTradeRequestReceiver()

                -- ตรวจสอบ timeout (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Receiver ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print("⏰ Receiver รอ trade request... เหลือเวลาอีก " ..
                                  string.format("%.0f", timeRemaining) ..
                                  " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                wait(2)
            else
                -- กำลังเทรดอยู่
                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        currentStepReceiver = 1
                        print("🚀 Receiver เริ่มขั้นตอนที่ 1: Add Creature")
                        -- รีเซ็ตสถานะก่อนเริ่มใหม่
                        receiverCreatureStartTime = 0
                        receiverCreatureRequested = false
                        receiverAcceptStartTime = 0
                        receiverAcceptRequested = false
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Receiver: Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Add Creature...")
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()

                            -- เรียก AddCreatureReceiver แบบ synchronous พร้อม error handling
                            local creatureSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                creatureSuccess = AddCreatureReceiver()
                            end)

                            if attemptSuccess and creatureSuccess then
                                print("✅ Receiver Add Creature เสร็จสิ้น")
                                currentStepReceiver = 2
                                print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                            else
                                warn("❌ Receiver Add Creature ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverCreatureRequested = false
                                receiverCreatureStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 10 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 10 then
                            print(
                                "⚠️ Receiver Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                            currentStepReceiver = 2
                            print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                        else
                            print("⏳ Receiver รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 10 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverAcceptRequested then
                        -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⚠️ Receiver: Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Click Accept...")
                            receiverAcceptRequested = true
                            receiverAcceptStartTime = tick()

                            -- เรียก ClickAcceptReceiver แบบ synchronous พร้อม error handling
                            local acceptSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                acceptSuccess = ClickAcceptReceiver()
                            end)

                            if attemptSuccess and acceptSuccess then
                                print("✅ Receiver เทรดเสร็จสิ้น")
                                currentStepReceiver = 0
                                -- รีเซ็ตสถานะ
                                receiverCreatureStartTime = 0
                                receiverCreatureRequested = false
                                receiverAcceptStartTime = 0
                                receiverAcceptRequested = false
                            else
                                warn("❌ Receiver Click Accept ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverAcceptRequested = false
                                receiverAcceptStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 5 then
                            print(
                                "⚠️ Receiver Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                            print("✅ Receiver เทรดเสร็จสิ้น")
                            currentStepReceiver = 0
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                        else
                            print("⏳ Receiver รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน ReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

-- Coroutine ปิดหน้าต่าง CreatureInventoryFrame อัตโนมัติ (ทำงานเบื้องหลังตลอดเวลา)
local function InventoryCloserCoroutine()
    spawn(function()
        while true do
            local success, error = pcall(function()
                local playerGui = LocalPlayer and LocalPlayer.PlayerGui
                if not playerGui then return end

                local tradeHudGui = playerGui:FindFirstChild("TradeHUDGui")
                if not tradeHudGui then return end

                local bottomFrame = tradeHudGui:FindFirstChild("BottomFrame")
                if not bottomFrame then return end

                local creatureInventoryFrame = bottomFrame:FindFirstChild("CreatureInventoryFrame")
                if not creatureInventoryFrame then return end

                if creatureInventoryFrame.Visible == true then
                    local closeButton = creatureInventoryFrame:FindFirstChild("CloseButton")
                    local upperLabel = closeButton and closeButton:FindFirstChild("UpperLabel")
                    if upperLabel then
                        local safetyCounter = 0
                        while creatureInventoryFrame.Visible == true and safetyCounter < 30 do
                            Clicked_Ui(upperLabel)
                            task.wait(0.1)
                            Click_NOW()
                            task.wait(0.2)
                            safetyCounter = safetyCounter + 1
                        end
                    end
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน InventoryCloserCoroutine: " .. tostring(error))
            end
            wait(0.5)
        end
    end)
end

-- ฟังก์ชันหลัก
local function Main()
    local success, error = pcall(function()
        print("🎮 เริ่มต้นสคริปต์ Trade")

        -- วาร์ปไปยังตำแหน่งที่กำหนด
        WarpToLocation()

        -- เริ่ม coroutine ปิด CreatureInventoryFrame อัตโนมัติ
        InventoryCloserCoroutine()

        -- ตรวจสอบว่าเป็น Sender หรือ Receiver
        local isSender = IsInList(LocalPlayer.Name, SENDER_LIST)
        local isReceiver = IsInList(LocalPlayer.Name, RECEIVER_LIST)

        if isSender then
            print("👤 ทำงานในโหมด Sender")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ sender (สำหรับโหมด receiver) (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            StartSenderStepLoop()
            -- เพิ่มการทำงานแบบ Receiver สำหรับ Sender
            coroutine.wrap(SenderReceiverCoroutine)()
        elseif isReceiver then
            print("👤 ทำงานในโหมด Receiver")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ receiver (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            coroutine.wrap(ReceiverCoroutine)()
        else
            print("❌ ชื่อผู้เล่นไม่ตรงกับรายชื่อใดๆ")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชันหลัก: " ..
                 tostring(error))
        -- ลองรันใหม่หลังจาก 10 วินาที
        wait(10)
        Main()
    end
end

-- เริ่มต้นสคริปต์
Main()
