-- ตัวแปรสำหรับรายชื่อผู้เล่น
local SENDER_LIST = {
    'acvqzfmy8985', 'yyjs48nhem20', 'yjkpuyfx7090', 'ggzulybh1034',
    'myie37litk58', 'iclmvwsm6198', 'ejra43rlcu10', 'lwcbgtum6852',
    'tymg59guja68', 'nfalqkuq5647', 'mump73awzj61', 'pxxzgmhr1448',
    'gwbg94lsku32', 'bljpdqht7074', 'abhg21kjel70', 'fhlk37qiyd38',
    'qvxuocme4021', 'dxli71obia20', 'thqw30zhyo26', 'gcmqlygn0130',
    'apcjkrbf8683', 'pypq29gtzx39', 'hgur17aocn46', 'vdon05phyu97',
    'gfin57bccq94', 'qqunzfmv6226', 'jbzzjhdr3471', 'xvywmdnd1789',
    'eeqg08syqr89', 'yhwyjuht8317', 'eidbfvhh0798', 'axzwrksy3364',
    'phrszeib5227', 'vznh97rdfj31', 'tscw94ixdx20', 'ydzynmgy5042',
    'nwbv78stkl52', 'gormnvdw3668', 'bwnq28ubjd79', 'bteb76dbsh59',
    'dtvs37antn02', 'MCNoelletdoz73171', 'VPLillabjga26179',
    'UHDarsiehxsa24774', 'VHEvypryb89861', 'XPAlixsgum76049', 'QWKaraetgs85161',
    'QYDavitaqzpv60762', 'VQEydevgsy40017', 'UCClarytvmv17196',
    'KNMarielfjra48720', 'KFBilikwkk71959', 'EOPetvmta35982', 'PWRheakpxd89157',
    'PUJoanaqbbr08585', 'LAJolinegkbp88622', 'HAJaimegqdl04360',
    'AIBibiwrgg96901', 'GEHuldafjfb39688', 'WZCorribnnf94044',
    'RRJoelljbvi97019', 'EYTracytnlu18757', 'BPJoyaqief16031', 'WARozsudc29924',
    'XBLottixcpl71198', 'RNRenaternea64123', 'AYRandeefxfx46251',
    'GGLeighowim19739', 'ABEddivqyp70126', 'ZFKiahsxcm66496',
    'VMMidgeooqu30419', 'XHSeanjfaw34018', 'TUSiouxzuek74185',
    'XPCarriedpxf68952', 'XTSheilabdwc73800', 'FIDorisqrih52516',
    'JFGertamthb55654', 'GHFrannivguy36778', 'XTAgmlva54173', 'rdyd11xksu62',
    'ryiv39fbkf79', 'jducazjw8337', 'fntz20oafw86', 'kewk75rxgj66',
    'wdbmawwd4476', 'sfkm57gbyl86', 'medodosp1084', 'lgno77ytpx05',
    'mgbu05ovvs21', 'pbnq89fuha19', 'jebzhlxs0622', 'kpkrjzec0766',
    'itsy92nrzm42', 'jptkdibe4476', 'trudoacg5634', 'zfuz37mmwq90',
    'mfos34yjsz74', 'mhss13mopd41', 'ceiedyzc7437', 'raondrcu7483',
    'rsepfolf4528', 'kqsq66dhpr51', 'kzwc17tqca12', 'xjjp95fyca03',
    'rcaetzws8982', 'tgpi00vmoj56', 'cagbhzhm9032', 'hbfy42jlfj66',
    'swncgznb7280', 'swoo07jmsd40', 'zbzfjntt2686', 'vmxy85mhtd94',
    'gppy52fokj57', 'kxwfrbhf0565', 'hvyc59imli04', 'fyog46tfvz95',
    'mddgopag1782', 'hepucaxd7363', 'xpwx28ofbb43', 'wwywhwcu8673',
    'bcwqrval0638', 'gsns20gygs49', 'sfle92zcxg68', 'noqbdois1286',
    'trpv35dlxo18', 'gfwk31rqiw78', 'qafo64pmei65', 'pvfj03hlgo02',
    'ghrk87ozjy21', 'yyiu50nied56', 'bbmt10myqs40', 'uxxnkqgu3245',
    'kxlvehsz6440', 'qrohthzl7675', 'bxyv59kzme32', 'qxnr25ulii01',
    'srrymwlv9354', 'vebhtxtm5145', 'rwwi73knbv60', 'knaocphu5181',
    'ucfh31sbgz76', 'sqofxtfz4885', 'sylt45mczr61', 'yzxwucdk9825',
    'ybjr33lqco87', 'lcai79mtco18', 'qoor22lctv85', 'qaylxlra2200',
    'kazh57kfze09', 'ggut40iywi60', 'xxdb71zbsa92', 'ycnrxhfp3518',
    'upbuiqmk1979', 'kjhi28pnge34', 'ftkccfse3139', 'eprxhnea1510',
    'ivybjepf7556', 'kjad34diuz31', 'ltpyokxu2295', 'oxlxnudt1550',
    'iobzfswx6099', 'dfzj35hcza64', 'vwqjqepk3542', 'vsow97rdco42',
    'gptkifmd6486', 'nodq93ooln30', 'twbhyppm6479', 'ydqz54xpaj36',
    'vxaajqbo7682', 'hsxuqsjr3522', 'yajpzuvo0595', 'dtpj90hvai21',
    'zeim37iduw58', 'cyqe85ffrm65', 'kusl01kufy86', 'cwcuzmqk9708',
    'oycm29zdoe40', 'rzum04dfqo60', 'bdue62sghz66', 'lbffwttm9572',
    'huwt81eozd78', 'hyse10wbva92', 'zewr88moip65', 'tqmacgzr1151',
    'blxn66quho18', 'aidsmdtm8795', 'qqzd21dirs49', 'ahwo29axgp42',
    'vrlt32kazw38', 'esodcmkt8559', 'myjy90kokl97', 'gtkvbbcd8774',
    'wvltdwir2397', 'lamo12obhi95', 'oxtpzsvb3946', 'spknhnyy1176',
    'gtdh75frui73', 'olae10emtt66', 'xove66yzgm73', 'bmovqhtv1176',
    'iody80sgbm94', 'novt23amxn70', 'jrflwffe5396', 'somfvrom4489',
    'huizzzcy6594', 'yziv06hjpm62', 'fipfiduy2409', 'wocw77idwk79',
    'rkvz62tkef51', 'eioe51hcgp51', 'bparqotb3461', 'jxfl60kesk59',
    'vyewzufs6868', 'mjva10msor85', 'tatg29voie98', 'aqgictpm7513',
    'zzozxdpi8898', 'yabpdrmj3145', 'vaea65qasi49', 'fctkvuut2923',
    'jrdwlgja4506', 'lgit27qhuo62', 'ejtt39tklg05', 'tbavdabz8577',
    'kldu33hnoe25', 'jkpo04wdig73', 'grjyfigi9961', 'yqie39zbkb87',
    'pryeevuh7877', 'yuevxkzh9593', 'zqyz86gefl55', 'ahqpnvfe5330',
    'tzfs67fbrw65', 'cslaaamh2894', 'pnqq43hatc97', 'kuttxktd6147',
    'malrfjcv6659', 'vvra21rnjr21', 'sxbj96vsbp46', 'nfldsbyb6066',
    'zzrgovvm1824', 'hpkz41zksm01', 'aoop93hpjr64', 'bgvq37vpry95',
    'jgfwqsjf3997', 'ffqqkjqy5154', 'qnhvpayk9299', 'bvwg37uhyo10',
    'txzqznky7756', 'vnzpxlcv4331', 'sgwpxbuk0033', 'dovqdxri4561',
    'hjcculrr4753', 'vuxq86dqjv45', 'fjhhtsxe2706', 'iund19nhao35',
    'pgbr57mxak21', 'pkbm98uiqy97', 'lccghulp0047', 'eilprrxc8373',
    'vood28sfhv15', 'txtipyet7434', 'qyixnqlz0042', 'fhqo00uvzx02',
    'tqxivvfv6711', 'fijx22ifhq61', 'sngkwzgo9995', 'jqai79dgok54',
    'sspj15fsmm61', 'KRJanelmruy58542', 'CXNancieotmc00849',
    'ZBAlleenvgln45311', 'DWKelilalbml62857', 'TMDanitllbw75335',
    'OTWynniescmt34346', 'QMZeamrvn10454', 'NVHattyuzad63505',
    'IIMarylawel90249', 'HOAlmirevfcr35706', 'TBClaryqvzu82091',
    'ZMCamalaeufa94852', 'FHFredifkeu71718', 'YIMyrahlpuq42580',
    'ZZKarieamwm39499', 'VEMernaseff64852', 'YATishgikw16953',
    'SOJoyanndyux30369', 'NLWanetaakxa00144', 'XBMorgangydu33094',
    'CZAllishccz58569', 'KNEdenmrqz84184', 'NDEmeliatidl67736',
    'NNAlysalhuu27505', 'AEJaneantskb78352', 'ZAVaneqlh84490',
    'NFAnitramzag43176', 'XDVykykuiz00119', 'RNZanetaeftr84074',
    'ADSibealftxq09029', 'XTGateskozn29486', 'EWTerrieljrj87466',
    'YKJoicenqrj54503', 'CPCelinezhrb26740', 'ZPDoreengdzq81673',
    'HEValenesqyf70657', 'QPJanenewvus14006', 'ZGHannievzbo72109',
    'LAVinnikwfb27892', 'HIHertajfmo82184', 'TCCarlyepkei89418',
    'RDJobynarzdk00625', 'TXLucilaha25041', 'HZCherieaepa65929',
    'MQCalbfdt37683', 'ZIArleenvry81745', 'ODVitiagtjw86369',
    'ZYKayleenmzz45513', 'DOLynnetvfep91907', 'GKNeelynhny40780',
    'MQSigridnwuw08207', 'CSDaleespc11033', 'GVMartirjwf47617',
    'SPRandyqrcx32016', 'PALichamhke46447', 'FRMaggiojkh93499',
    'OHPippaadly15007', 'HJRetharcuc64691', 'URLeannaqtxg28284',
    'EQMaritarguz21457', 'OGBettamivd26067', 'ITJaniegpjh64975',
    'QHReikoofop26869', 'UBMaliawykh95336', 'RHFreddymsni22109',
    'QLNoreencqs8205', 'BVLorrijdek24928', 'IZTeresaweoe65830',
    'SCLorrinevta64212', 'KYAdoreenkwx08479', 'SALannauinp83111',
    'LTMarishjnb90040', 'AACasseyemhf47179', 'OSAnitraiqua06518',
    'NVBlithezgcz44533', 'GFAmaragnxm29940', 'DZMelliekzjd42307',
    'WQValkawm60303', 'UKEileenndnq13799', 'UHCynthytwsp14763',
    'JOKaronwpgq35097', 'IWDaisymrag36612', 'gqkw53ictq35', 'axwlufmm9054',
    'nmxz62pqbj72', 'eyeqaubd0951', 'ucsy35fpxo14', 'vlzfcmng3719',
    'pyux67omvg74', 'wcsyhvee5346', 'dsio46stwq39', 'dwyx00lyos13',
    'jbfl60ggiz84', 'yjno95jesr87', 'yshxhvol3031', 'ufkvszba5391',
    'meyrmjrb4075', 'xsulcrpu1909', 'oobbcmet3325', 'cgrh75jqdt24',
    'resvcfws5819', 'zynbxpfs8351', 'fdjb19fopq62', 'ocva88oedw75',
    'lfcffsnu7073', 'ttfdcaad8946', 'ehsgnszu9137', 'zxtu28ovet91',
    'mdrf30xabj92', 'ephs91duzy76', 'jajy86lele71', 'eanoneib7852',
    'mjhoipom2788', 'afdz90ywtv33', 'kjmrvyzr1914', 'tvvj12dvvo85',
    'doqfqohh4764', 'kwjzcphe0655', 'xipnwkmh2888', 'bladfgns8560',
    'otsy59odnz84', 'owexzbdf3070', 'gaqw99oulj44', 'almrefsb4457',
    'ylec65vfrv42', 'fluz81yavv13', 'kstc29nhki21', 'yfgw05tvhq37',
    'uoyo83jjzi82', 'xicgxgut8277', 'bvfh97erri51', 'mvkp58zqec25',
    'njbg68rvko86', 'orzf88xtzg58', 'jpklcbdl9294', 'wixcffiq4778',
    'vlodjtln9334', 'byfeemvz8565', 'dontzzgl5209', 'xoygxhea3607',
    'wylj85fzjh80', 'izhdvhls1984', 'mdgq86pbqa20', 'ybhe05qxec98',
    'twvmtbdn8263', 'gute31ivrh28', 'ribqpehd1061', 'mhyb00xwvr94',
    'vyho10kgna73', 'ratt20cqrt17', 'hwag62pnpq43', 'ynwluhwc4051',
    'nlkeofyn6336', 'elwczglm7256', 'pscepqsw0955', 'klwhxrgi6281',
    'vncexlmy4905', 'umyn39ggwy42', 'wqcb66owjx68', 'ugrphkyv6618',
    'akwptoql4044', 'xwkd51paqs78', 'akph68ccvs98', 'KGLaceetonw48366',
    'CQFannyesma14120', 'HBDanilalyvd15559', 'RMPamelanspb35586',
    'NSCecilygxit08378', 'UINicolinxib28809', 'HLBarikcwo19097',
    'CXFawneqzko77891', 'EFKrisfufs81732', 'JQTrudekvci09831',
    'HJArlenaiznz94692', 'QUKirbievqap06756', 'QLLannyqmvs55888',
    'SZHannisthgp10374', 'JEKelcioryd14573', 'FCTalyahmagq82104',
    'RXGalelnpp99862', 'NCFarahgrem73546', 'NMHesterczfu80840',
    'ZKCheryeknev45692', 'TYFionabzel94564', 'QETommieysma65661',
    'UIAnabeljgji35832', 'YNMyrtiavgbq57601', 'YVMaryskfye25993',
    'HRDebeebqfj83006', 'UFLesyaelay53186', 'SMNaomiqqpn39795',
    'DVHannieugdz84772', 'MGAllxhuan80238', 'QMFranrcbt99079',
    'DYLoriadycr91930', 'OBLoniwahp26586', 'UFMarcihvee26343',
    'KTLeeanntfen07313', 'DEMuffinostp11786', 'CCBranaqwhg25489',
    'WRJonellsjil13172', 'KLEmzrga27602', 'ALGeneozhk60698',
    'LGWinonaoyxi15036', 'OWAdelbzgb62535', 'BLDannyeehoa86937',
    'NCTheoiyec28226', 'VBMartaurme72527', 'MFPetvgym58907',
    'MTMilzievbkp33144', 'ISMissieypmb03063', 'KZTeenagyru03312',
    'STDedrarwxw86900', 'XMDollyxnby41427', 'FIVannyrfbn27925',
    'ZUWillowktbe34489', 'IWTrudiebfpk89791', 'JZRitafdim49132',
    'NWMelodytcgz69275', 'XUDynahhbew83556', 'YJPaulafuoa84327',
    'HEHeidasgfm57113', 'ACAdoreeaww81470', 'IQAgnaydow84130',
    'UECarolalbcv26613', 'WVMonikariwy45540', 'LMDynahsqzm33778',
    'SGDediegwxk52525', 'KVAubryyjtx38337', 'CMJyotirorb21712',
    'JSIritaibyx68500', 'NAErnaymvh61338', 'AQLollynjsa93411',
    'NYLeonadkjk92318', 'TLInesdqxp52452', 'EBLiliahhkf04153',
    'SADulciasrcm39325', 'JZKamekofnva94955', 'KHJenneevzzv33640',
    'YPBelitakzbo75755', 'QOCoraykro43385', 'PKWallisktxt26128',
    'WBEbbacnqq75704', 'ILJennienz85333', 'MPAidawysc17198', 'uvsldmri0662',
    'dfjf52ofhx86', 'kcoh43vmjp07', 'kaqsvyam8816', 'mqsn40nivi76',
    'cxjqnwkp1875', 'aiyvglfp7029', 'chcx32lqqb54', 'sjdx65gyex24',
    'fyvdxwar0592', 'vanlhxhf2093', 'pdqlemjj6611', 'lrwzpyys2951',
    'qbcldgvt9018', 'ubdhtfyk9435', 'dmxwundu5341', 'rluf09wkyi41',
    'tdna08pkpy75', 'xjxw50rsrh32', 'zjkoobky5134', 'uils79vqdd72',
    'hlld41ehus55', 'zinqwskt5120', 'ooxyzmpp3494', 'tusnejuo0896',
    'vhir46cxiz49', 'nbxt57byzz97', 'laqz84ojja72', 'bkepzrsv1606',
    'ezwt85voby01', 'nwxjexzf8738', 'zakbkpvf3552', 'ypsomvsy7904',
    'htav83gllz10', 'fvyr62onmp09', 'bcfeqcde9602', 'juxm08jcgp01',
    'uwwndamk2741', 'kpnb32ghxo15', 'ijcf42glwb03', 'uwhakegl7383',
    'nkxffbis3047', 'rndhqrwz5723', 'nieudpgg9227', 'bawj56tfmd18',
    'pqfb60lrjc08', 'hgvp95iuyf76', 'mahb55rugq86', 'evvfmltw5101',
    'aubovkxu6875', 'wehbngsz8185', 'ildlqyvi4402', 'cwlb67jufk34',
    'pdpsorpr8880', 'hejc86wcte76', 'koby18shjy71', 'sxlz07rivm88',
    'wwlu55iwau30', 'uktmvnqi0834', 'wjad61nmnu51', 'qzdz06oisq42',
    'rznqvubu7920', 'guxf16ndyx91', 'kkrq84wzqy77', 'uzlx18cugt01',
    'qvliyieq9241', 'ekjsftzx2913', 'whfbebqz8211', 'dbwr06tnir04',
    'jmqpnxzu4657', 'ktnf29qwjc35', 'pvwx58inue30', 'fsyk63tpfk03',
    'plpr96swzr34', 'kpll82zsah55', 'ostl35tgxn70', 'yppn44gzwr16',
    'ejvnzqxx2884', 'zoaq39zrnv62', 'urpwfdjg1950', 'mdrf04sjcn48',
    'fwobyoky5453', 'qsgj62fdjr39', 'mfzq04nrui26', 'mwpg75vcae23',
    'ynyqwrxv7033', 'fdgf60ccho01', 'myxvbyws8824', 'shnc92hwfa18',
    'pddxwjqe0544', 'fjenmjgg0038', 'hhlgbjdy7430', 'roza91uwaz06',
    'svlk09yjky59', 'mfzp18kgdh93', 'dxkvfhip6803', 'boja34tjoz44',
    'lhge82fmdx77', 'qnve97lkjn43', 'hzmt52mvuf44', 'dqdczebm2759',
    'tcfsefie4633', 'gvmslszq7577', 'ajuwlisw5081', 'uyki01qhyc25',
    'rqlomamb6891', 'qmyawsaa3062', 'ijky47yrui90', 'kytefbhs1726',
    'bqduospm2560', 'orfjilgk1124', 'dhlfpxjs7686', 'nndtuidl0940',
    'hgcy02jmmu44', 'igkqfatf8558', 'uvnz01kinz55', 'ahcl62rlhi90',
    'ekrckorn9523', 'oisy42lhlz32', 'daws08nslw04', 'gpxa45uqgq36',
    'lshuvkjv6785', 'xgmy76nbne18', 'hczl57acun97', 'mlwy64kajd55',
    'yrqy47cqyy21', 'uwaa27llzs12', 'qwrxwsls7284', 'asgobgfm4386',
    'ewepjycc6675', 'clmd11ktqu33', 'vvmobzdh2398', 'zwoubesq5181',
    'dcjj22yohm73', 'gvcq13ltnm42', 'hbsm56wgvq81', 'yotx04dvvh87',
    'tiwm39ctoq25', 'olcefbeo8130', 'tvss37mvgr90', 'rvff68jhjh74',
    'udrd63mdsn06', 'dmjksqlr9116', 'hamj07uxqu77', 'uxtz57avin24',
    'mjvykvnj9553', 'oynatqbl4445', 'kvhiommc8479', 'qged81ogij14',
    'fkyj67ibqp26', 'zpsxpfsg2488', 'uyylcpyp1601', 'pscdcmne4674',
    'uotljqgg0389', 'vprq40xfbb32', 'lhqe08pems05', 'uwmjlpxr2350',
    'kkyq41iqnz56', 'pfpqqioo4253', 'pqivcita8493', 'dmii50xzna24',
    'kuzh52asgs37', 'shvbspjx6407', 'qusjwlbh9329', 'alzprpfj7571',
    'qpzkmwit3528', 'pkee82zvgw70', 'rkfy98ujef86', 'ufzfnpzb5919',
    'iuqrlqds5497', 'scjv61esff65', 'oqqkxrty3047', 'gynz58ncgc36',
    'tqny82obqf26', 'ggts50rzan47', 'fslvohbz7059', 'kvkd20yeur06',
    'xvxtkiwa3455', 'nlsg11vjyy59', 'fvdtkkfl0342', 'zkfc67jbte54',
    'qbfr27lipy21', 'vanhqqbh9142', 'nepiwvbd8617', 'fkwv07grhg49',
    'jrac06vhyh47', 'afmopeoi4181', 'wfia65sfng38', 'itpg79izxa92',
    'otgj24omlu72', 'pxan83keqh47', 'fmba44cnxb52', 'zoob28kjmw37',
    'wgxrepxx4876', 'zeqw24geaq08', 'dglhjpkx9428', 'nenz08bsan75',
    'bixeukrj5077', 'nsttolof2239', 'wrrt62lnht55', 'mufd47penh50',
    'wglebnuv9932', 'rofm94ddur03', 'xiqm50fmyi99', 'aznp85dogq98',
    'oivw60zfvi57', 'MLCordeymbdp90587', 'VDDoriawbph45833',
    'ROLeonieovex02204', 'PQEsmabkmk95302', 'DEDynaayfh26014',
    'RRDenisetbhe34652', 'GEKatievxmg81802', 'OLDeeynacih09881',
    'ZSGladijtfp25171', 'HRAgacedqit81996', 'SKDottywswt25786',
    'MYKristixnmh61830', 'JPLaneybrqn13119', 'NYHannizuqp65598',
    'YNMoynaovce22654', 'EYFlomqje65240', 'GHMaddiemyc50404', 'BCKaliynvw98402',
    'LGVioletwnll17691', 'VPBrynnjprb50270', 'ZRLivvyywjmq98408',
    'YGKarolembtz70751', 'FLAndreegpzp04845', 'QOWendilqnj43593',
    'WSReagyti82621', 'DZNicolikqbh52676', 'MHFarandlynu29480',
    'CWSallyhzqi08266', 'UJSelmakuev33978', 'WELilashaej53994',
    'OWDionnetnew60054', 'SGCatylhxm36347', 'XQDolleyakor76395',
    'MFZilviazrxe56497', 'RNKariajbht42761', 'FGJoyankxbd69859',
    'CBJessizyay05415', 'HVRobenarhdw18722', 'XWRosieejdr37948',
    'GYNoniusrl96698', 'DKAlvinadxet10405', 'dksuoeaw1599', 'hwfn04xgxj07',
    'iprv19somd37', 'ecmyjjte1230', 'zqym70zbqu59', 'mpzy96szxx06',
    'lhpkxnyk0193', 'bdjf50oovh66', 'uuowqxzl2182', 'jlik37xkxc37',
    'hdmgdbot0476', 'oxasdxyz2156', 'ceoj67hzqo93', 'qmqtzrdp8809',
    'bmso39pwtx00', 'ptairhwj5275', 'vxfv25ueip59', 'vvntuulz3009',
    'wopu57iyfk90', 'jgcquwad1718', 'wnjjciax8682', 'xcmp17ppzm17',
    'zwdpqqys8754', 'echz45eehj80', 'kynt74jweo28', 'mhxb45barw09',
    'gxvxcovb2820', 'yuhfqtbj5629', 'mhapfzvn2715', 'ugwnegpv1876',
    'fcql30vfxu67', 'aeqy37sajb80', 'gktw61dzfy54', 'vize19zyzg76',
    'stebvmgc4041', 'nsnvqxau7717', 'qeeiqpcp2128', 'wzgs36ghfk01',
    'ROKaelawmte91280', 'JTBarbraaoqo75413', 'UTKanialoel79700',
    'GGNomikbmw87834', 'WTIlysezupa27083', 'DVBrigitzsml55511',
    'FODarihqyw16041', 'FIHerthanzhl35725', 'GCKinnacpgb80688',
    'AFCarilyvyi67614', 'ZVAnjelarqwx70414', 'CCTanyadjny89996',
    'VRCodeescln27337', 'LVBeckibkos68696', 'AXKellengtps22950',
    'NXKirbeeufat05976', 'YQJannajgte14017', 'PKYettadhwx52182',
    'GMHedyidui05652', 'UJKasseyhqbf57743', 'KKIsobelpkzu14722',
    'EFJoyceufer67338', 'ZDMignonvlzi88012', 'MTShainekarp20968',
    'WHCarleeivwf62972', 'GDDottiemrhp56075', 'BXKelliehqmk89378',
    'JZRenatemmka32168', 'YXMelosawcff67704', 'SRNoemiixnq24397',
    'FEStaciajeln89882', 'FNLonnayhtb11665', 'FYFreddyeufi53413',
    'QRWanidsdlfs55907', 'FHNolanatvxm92151', 'ZYAmandidegq85605',
    'UITeddixpuf32598', 'JMEllieegin26151', 'SMRosythjt22447',
    'RZOraleeddki44199', 'APHollihdrb47137', 'DTSopheyiarh01875',
    'YKSusyteoz38575', 'WIShanedmzn05711', 'XZGillyhxub45019',
    'IASelinesvzp51673', 'BORyannkuyi46945', 'BMGiselazubr77423',
    'VOTobyeuxee72475', 'JVRianecxkk27966', 'ZJFeywyta35131', 'FRAllyrtrg45594',
    'GSRobbihfrw62333', 'NRIrenankaa65168', 'DUWallielorf46079',
    'ALConniojsr77395', 'WBCyndiatxep26650', 'DGMorenazrzb41419',
    'RILiesatubd49086', 'LIDeevtvp93650', 'KAAggieztrv60993', 'RKTovecgkp23848',
    'KBElwirannqt22431', 'ZGBlytheqbau32307', 'OVKipfpzh90604',
    'VCLavenafxhr05658', 'DPCarakcng64200', 'GFAudrieywun35624',
    'ZCKaciealxq69906', 'MTNalanidaiv55216', 'LBRonnywjlw89817',
    'LQAnnieiqpv65457', 'SKShaylapqat55701', 'BXSilvieyzad77863',
    'VALuckyqube17083', 'YMGrayqvks79225', 'QMTraceeljrb33927',
    'MEHertacgzx14462', 'IRSheaxzfk90886', 'BNAggyqxgw57748', 'DLJudyqbvm75535',
    'BHNettymnca54779', 'GGGertiexaol11137', 'YYNolanarzrf47853',
    'XUShereeoybp93839', 'FOTerryenuuf01500', 'ZDCarolnxmk82868',
    'PKMelanyexln64085', 'MCHattyftjo60642', 'QTCarlenazov36828',
    'ICMeriellcnz44903', 'BWJunebydr14286', 'BOShanerfeu42754',
    'NQLeonepbew82805', 'SVJemmyuepd84797', 'UHMonikavaxq47071',
    'KRAileerslu80617', 'ODBernywlme03403', 'SONettiezmly19695',
    'RICherehzwm67426', 'DRKendredphu21666', 'HALannaytxz61367',
    'YRMinnikqnu81562', 'GELaurieqmyx87333', 'RIArlyneabbm92494',
    'CNStaceykoex28361', 'HULeelahhnzw13458', 'DJWileenfhuo03117',
    'RPSandyguhv46981', 'ANBrandymlum83820', 'NPOdellebhmw46585',
    'IIElnoranuem37944', 'IHMarinpmhu70560', 'XTKarlajkli53415',
    'RFAlyssawfuj77444', 'CMLezliefpeq67183', 'KODaniadgnl62670',
    'QSTasharqkz34567', 'GKLeoineoeuw52224', 'DQEasterbztj19339',
    'NXVeredjbt34644', 'CNSofieofgb9479', 'VYMaricesnwe26892',
    'UMJanelablgf15493', 'YANicoleaach98940', 'OIFrangali11327',
    'JVHelgepftl88862', 'XIMahalaaste64475', 'OKJonelltgdb34614',
    'FYTiffieekeb99810', 'MVSeanhpaq81139', 'HITrudirumi19448',
    'FYMitzidsnw49845', 'DSJyotiytfq44106', 'PHDarbygkrw28847',
    'CVAudreyzxea75237', 'YXHarlifexv79910', 'ONLydaymhl57268',
    'QNMelinaigck38262', 'IMZaharawlug79535', 'SLAmargonfgq27999',
    'ANBasiaizyv47295', 'SVShelbamvai31037', 'XGKoreumna40924',
    'JNMurialmqii49734', 'MZCarreeamja37320', 'ZESonyadhnd65386',
    'FRSophiaxwcw06255', 'CDDashakofo25507', 'QLVanocrz84992',
    'OWSandyeiwre95549', 'TBTobysxcp92566', 'EOMalvavwwe81169',
    'MLDelavifh28295', 'UITommieehcr19279', 'HNEmilyyzdn44863',
    'HSMeiugam01407', 'AKUrsolankgf86227', 'LNStacieywvm47717',
    'QZCaraahmy70129', 'KEAudreysjeu67860', 'NYBesscakv54641',
    'DLNonahjfmf05000', 'GKLydaeczv13447', 'AJCordeydote20341',
    'UFRobykdia31333', 'LSTawnyandik68295', 'ASMitzijbbh03127',
    'PKAverilhetz43721', 'MMKristygdos42750', 'UDLaravfcy88849',
    'MCBonnieyyzu95054', 'AJGusidbv48273', 'ONMarlieaahb05170',
    'FVThealfcq58617', 'EXTamarpebi20619', 'ERDennioyur20791',
    'WTLeeannsrdh21057', 'XIDennyfvlq81266', 'VBAsiagtmq13596',
    'FAMinnirhrn02443', 'JLKristyvygf39356', 'MQLivvyyedkh24941',
    'GNBibbyefqli47430', 'RUBellcywx17541', 'AECatheqfef44688',
    'PXArlengpwo09730', 'EMVerilenbfv14165', 'UMClariexcwb68883',
    'PILeoniecnlk03521', 'RLReetawlfh42214', 'RTZonnyahnrn58810',
    'PMAlysslovt74949', 'BRJoyrocg70619', 'FGEsmegbyr26328', 'VTDynapuij79064',
    'FTJackievhrr86705', 'XFNoellogk62874', 'MZCathaytsd02487',
    'PBMaezsbg05805', 'PAOlaxbid68445', 'RGJoseymvpi82246', 'FHCynthyevub79386',
    'mwsu30bqnd96', 'ahdicalh3762', 'njaq15gzsm09', 'tosespei2529',
    'ktok90qgby86', 'meyh00vcig57', 'skcqgwis8816', 'zwcq11yiqy13',
    'cjwm17ilqe83', 'dghsxrux3285', 'jtljkdhv2591', 'mewt90cvqf78',
    'dpfbgbwi2711', 'vxlrkbse7852', 'pbwerjbz9270', 'kwgi02abyv29',
    'ozqxxecn2132', 'srvoqhbj7595', 'hqzjuyne4476', 'seow86oxyd18',
    'mauq35zwel47', 'pxavapxs3012', 'shlclszj8638', 'mojl05ipqv16',
    'gkiztzta3583', 'aavtheso2131', 'maoc13afgy93', 'kbop37lufp89',
    'ruibzlma9255', 'swnq04nkst93', 'cisv72ozhl29', 'ewfj19lfhg74',
    'zxhn14wmaw27', 'gpafygvl8518', 'eqrh34ezov80', 'tfua54gnlb44',
    'hefm14syll57', 'oifdwgru1106', 'bsvhfnec5676', 'ovmo28luxi36',
    'ffxcrpwp9571', 'ywof23iigt87', 'cqgosohk2007', 'coyvcwch7357',
    'rpunhbst5868', 'koug16lrgu55', 'bsxufnnw1421', 'qylhmjfx2739',
    'kipnvzuq3919', 'vdlv62unfx20', 'ewmn51kjip84', 'ivro06kgzg93',
    'vcwvkzke4180', 'acsa25hggk91', 'ulbn64figh08', 'mrsljkyc4376',
    'phta35mero91', 'nceilgku8828', 'bpswxecf2473', 'qbds35xxhq25',
    'paae87dotz66', 'cwkhlqei1070', 'hgaiqleu9004', 'fjvwhnbw7927',
    'rwvadtzj5824', 'dtrv84mcdd80', 'wsst28jdhl49', 'uqln68yzlx18',
    'csnvhzun1784', 'tshw20hayh66', 'zord37rdcw72', 'kqgv33dboz67',
    'knrs50lwkt05', 'bwbx95tsdv14', 'uhqhzdkz0924', 'jets09tsam91',
    'KYCandyqwgp14516', 'NMRobbiekwxq75637', 'GYKialgviz34260',
    'OUMarylrhxi89478', 'CXJaneanwdev98299', 'NMLuisadeuv28118',
    'XELizzyodtp44663', 'WNFlossykkaq70052', 'JGBetseyejiu83654',
    'TZShaynerbjj66303', 'HOIrmazgsc11544', 'CEYettafkyi56780',
    'EADannilryh93382', 'AOLilahuxrx25555', 'ZAAnnieyhev25086',
    'HNMarinaamfb10553', 'JSLufgyj12910', 'QGRayebhng80137', 'DDKoralqhib21920',
    'LTJeniuxpf10278', 'JPDaledxhw86913', 'TCLeolauvgb91569', 'DPMaripstb33369',
    'WIAdellavigq12600', 'RILesliedyhi63234', 'BEShelbiuuio01899',
    'XCSenasmfv34370', 'VLLilapmkp80187', 'ZUCordiescpp91694',
    'CYVanyadxkb90919', 'PEFarraqqxv44240', 'XRNeilevsow64523',
    'TNMarjytwpe99571', 'AFMaeganqmzr39368', 'TQLeslyuvzl15844',
    'HOLonniukej31092', 'JBLedamgub74980', 'NPHopelogt05570',
    'DPMyrtiactoa81294', 'BGFulviapubt24086', 'RDZelmafxni88879',
    'tmcndryq1270', 'wadxmsav8609', 'ffsl71rgwn35', 'hjgj75eraw58',
    'lhasrzdq6413', 'cfle11qkcq36', 'itqolxnf3208', 'fprtzmee5642',
    'nnuq16nmcu14', 'bfez79rhmk24', 'iubv83sqtc50', 'xbytmnqa5951',
    'sqyaqqzd4530', 'yynv68nihf09', 'npondyll4553', 'qevaezwl6667',
    'bpjnlkbx3865', 'ciilmtlm4020', 'hsyr49adgd86', 'yhojgjdq6099',
    'aydsipel1513', 'geua38unij61', 'fbaxaajk8103', 'vtjnjgld8120',
    'akzrralr2915', 'wtddmrvu7912', 'lctsnwzb9052', 'xvpd40xish22',
    'mkvx95ylhn52', 'eyoxgzkv9889', 'swhqmcsx3794', 'gnye52marq57',
    'zzqj52kqht31', 'wujgkgcq3649', 'meayomxp1195', 'abaaxwbe2212',
    'ifgmvlmd0064', 'gtca90pdtl35', 'kvgw12yjhz71', 'nhya83cbza68',
    'vyyydfsq8548', 'jelopckv1843', 'qagbctbe6596', 'lelx95nlpf63',
    'gybq20xvgy07', 'xsbawpzc8633', 'zidsveau3425', 'ysdy25enaz89',
    'udumrorc9492', 'mvzg61igxy19', 'wrag43iymo58', 'oamo71xldv93',
    'acbr79zugp91', 'brozraxx6561', 'cenf52yrjd06', 'fbtl83mybg73',
    'wdzwnlqi5368', 'dcnbfvsy7124', 'xsbj72mfxl72', 'oppg66gabx83',
    'wqgz93eddd47', 'llvk68wcmx40', 'gzhg57cicz97', 'pbnttexk7896',
    'dffh68aivb51', 'fsaqcnxa8834', 'advaczwz7149', 'yxeu65sqjg62',
    'vrhb90hzka21', 'dhmx70ftgj36', 'xwce84fvav16', 'vjet15kleh00',
    'stxojagz3849', 'ukkaywho3063', 'kwxy15yfjz13', 'udhmomjm1732',
    'mcph94kxay86', 'lqmfcdwp3373', 'woabpzlq1773', 'soitjfmr3427',
    'ytxcqxjm3400', 'awqh53aeiv21', 'uwzlhpel0729', 'goucslyi2872',
    'mvoi07fofl96', 'xrhf94kxos29', 'fyztbdmq7651', 'iholacoz6342',
    'xuxxytrz8426', 'mwjlbhvq2527', 'jzdy55njqa79', 'lsoguohq6175',
    'nqkjdddw5085', 'tefamjak4142', 'eopa74wzid76', 'rxkv30cmbc93',
    'vfmhmzrn0615', 'jhga22ipke23', 'inxabera0199', 'rmtqcady0291',
    'wdyp63nlbv97', 'tskg14dpql63', 'ekpubcrq3295', 'roxayswa9953',
    'gnvu09unoy73', 'rruh39hzrv30', 'xaqw24wudb40', 'uwxeaidk1122',
    'rfqrmsca0123', 'qyhiiwin0876', 'ukub32lran46', 'inhepoog9070',
    'vzzl09wsji06', 'tado41ufjp01', 'dtupvgyg4327', 'xpzx56eajy09',
    'fail50qbwe46', 'PZJorielvon38689', 'IYDebbytmfp98283', 'YOOneidasgkg30121',
    'UFSheriepcui77583', 'XYBabbrdaz75027', 'LKOdettahmzk37921',
    'LBNicholrxiv35472', 'GNLanixppa91553', 'LFNonahegbx33332',
    'TZDnirenwbjj94106', 'JIRicicqfe90934', 'HWChandapxrj71461',
    'NNMablehpvh45650', 'FOArlinauzrn36446', 'XJZanetaeluk41090',
    'PSFredasmqb64830', 'BZFranuspl19016', 'XLGodivaefal71482',
    'URSteshagvfo83535', 'DUDellajaom77493', 'LBWinnahjoyz90596',
    'OENettatzsk42170', 'CFEvelynmswf07118', 'BFTaliakksx08490',
    'GLVerahsud40183', 'GWHyndaxdcu11171', 'PJNonnahtefd71695',
    'HHKarmenabcf82486', 'GULizziejrei47760', 'TWFlossicpad94009',
    'AFDoroljml82517', 'JBKaraignp21191', 'HWOdilleyuty66273',
    'NCArlanahhuk61832', 'QXMintamtfa63145', 'EFPoppykiif87268',
    'HDElsyvxio79185', 'GORobinamyra04489', 'YZDoroczyr41029',
    'NESelenaycvi07116', 'IPCorissglgo38171', 'skkyujzo7732', 'hqgcelkw0423',
    'vevgthvc7391', 'uknhwbdn5878', 'cxur57bkuw40', 'zcek34cvmy26',
    'jkvapxsz2429', 'mhcu18cmzh72', 'nfio57moff98', 'qxvltvrq6195',
    'pkprzobc8700', 'zfrjared8294', 'prirskbb5712', 'namt93rtnv66',
    'kfxs41ezzw24', 'eaqr43wkjf04', 'yeyqbiwi4886', 'sete54ihpa42',
    'fqft46ujbv19', 'hudvxaqp8750', 'hlwl54nnnw36', 'uplyttrv3700',
    'jyfkkatt7033', 'xumi47mxji29', 'cair93aqck53', 'xdhjacyo9437',
    'ndaheggp2307', 'tcpvdaom8658', 'owkb77xugv06', 'llvnnmsy0251',
    'gfed47vnrp41', 'qbajkyiu6013', 'wkesfljo1745', 'cudc32cjrx63',
    'msniytuw9759', 'tdkd13lwum62', 'bclzijby9342', 'wkqc50odiv48',
    'itytlaxn2234', 'wabnujjc1943', 'noqc76bxmv79', 'rvumoidk3362',
    'mwex42laal01', 'aqaegkvb2319', 'lyprfqqf5116', 'mgpy25bmsx44',
    'zvii57otgw27', 'xnyd13jjol38', 'ogqf47unfl77', 'tbwwgcra7384',
    'yrxy93dfvx65', 'qpda89jqla09', 'bflr90luzw91', 'kwmamaqj7175',
    'gbhv24edok68', 'ivhr57ylmw80', 'qinx03jbas73', 'rfne60eaqs72',
    'sthd66jslm32', 'yiyjtwic9679', 'fshaqkqr4398', 'fswcvstd5476',
    'ebfz04ztwk32', 'hsnz30rqad72', 'pjnn26cldh27', 'fybf60tpsc85',
    'nhtudvsl4768', 'waqv06lybe79', 'vytn90vgku31', 'sggt78nwqb61',
    'wljsbfif7943', 'hznlpfuh5039', 'lfvi63frhi39', 'rgjp79kwsu21',
    'aijayyes4946', 'dxxe56ocuj98', 'soym44cfmv94', 'qxis87jhdz41',
    'vryg70jtto56', 'fhhs43jzqc53', 'dyewvshu5055', 'rizkybyy8535',
    'vbwmyhdw7853', 'pzcx77qxqc54', 'mfzbgsaw2956', 'dcmkkhjz1025',
    'igrb87yvsz45', 'qjvd72jpep41', 'pgztfjgq1896', 'yeofrbwx4737',
    'ynnmgxvx2968', 'iwbcgibh0454', 'ftpbnpbq3157', 'zsqnnciu2497',
    'lecwgaxw4496', 'riqoczfg8139', 'wzpapjbh9305', 'vvin70dflm20',
    'sqtcyabg7388', 'iqie85lazq93', 'bpqmzmnp0389', 'ffph11edvx79',
    'zyti41excp48', 'nwcw17ocsw65', 'qphq60ytxe02', 'cjbdevog2955',
    'alet05sjor37', 'tkod61vfol73', 'llci81atiw12', 'agfotath5867',
    'notgeoog1317', 'dwys83lbad84', 'hfvsfkgk6828', 'gvcf52mxby28',
    'lxhk99bukb73', 'lrsy54ilwe52', 'koqx30yghm64', 'ZOGwennypsrp38492',
    'TBTrixiefaov53729', 'JDDanellygya97441', 'TZGinniohio48517',
    'VURebekajzfx22270', 'NCKorrysoop74706', 'HDFelitakwdh71514',
    'EAManyabubz22547', 'UJElenihfbz56046', 'IOLiliankihf34735',
    'SWVonniewglp91890', 'RABernieataj71443', 'CZMeaganpttk12523',
    'NURodinawjfs27007', 'XXLidiayrts61503', 'YCRayiukh80841',
    'CJMavissaxq74634', 'QKBertypafb95814', 'QFGenenevf63829',
    'BFNoraikkb17391', 'XAJoaniebgsl95726', 'IHReneefxxj70894',
    'ONDehlianpax43820', 'JCToniakbbj52198', 'EVSueznqd24049',
    'HEVandaamaj22567', 'ZJFayreklcs71707', 'CLLizcxxl21037',
    'IYCilkaepro01838', 'UHStormybmdl52932', 'MUGildapggd64299',
    'ROBridiecwip59145', 'FWDebphov25221', 'VJGustaebdr87925',
    'NFVannibgfo76180', 'ZXDrucikwgo98242', 'HKCaronyqpa07284',
    'UHLissiehlbb57129', 'KNEviexydk92308', 'JYDevinafteq96237',
    'RLLynfbgr79893', 'FSRafrxje77435', 'XNCeliecpjb46809', 'OYAdenahrzz01083',
    'FAOrianalgrn07853', 'IFFrannylaga02094', 'IKCassgjny88475',
    'NMCyndisvfa22841', 'LWBritajnws35056', 'WSJanellquz062',
    'OFAvritmvwe57125', 'LZAubreepmax22373', 'NPArletaiolt29903',
    'GSAddiewmrc86573', 'ETGelyayneb35284', 'NIArlenarcrr45550',
    'XIEloragmyf46706', 'RPNessyoluw78853', 'OKMalvagluf28534',
    'SBWilmaldmv18667', 'HGWinnyphml00825', 'JQElanasosb21664',
    'CHFloriewhtw78209', 'QJDarellpgoe34041', 'EAPrudyfzah07585',
    'XGYsabelidnf01874', 'NLCamalanbpj64864', 'RZJodeerckc27251',
    'HNPageadoo18422', 'PZAilinaroej27556', 'ATMarcyoujr28101',
    'ZRCorissprtl34904', 'QAKarrypmny44534', 'XZEttiskuz71521',
    'PRCelletkrl54473', 'ZHAmaleeabki06430', 'ZBEmeliaarwz21844',
    'CNEstellzmbd18965', 'DMBridieyazm97175', 'RWIlsejenh00259',
    'PPKayceezihk62639', 'PRDenaazdh31277', 'GUNelieugnz40059',
    'FCMalenacxvr15834', 'QEFriedazlez22461', 'WNBeckizyjq81383',
    'LLHattyqxuo42285', 'HKBernyjhay93912', 'KEZilviakflj28977',
    'BAMilzieqscs38802', 'MTJonieykyl54549', 'ORGilliekeyc43924',
    'GNShandyembm80248', 'WTHarleyflih04352', 'WHHelynkoza18483',
    'HEDavinegtae66751', 'GGLoritaavlp89470', 'FZCammigqip03365',
    'MDZoranagsnl20942', 'PFJilliegdzi70506', 'RYRhonaztem79685',
    'VQJeanabbbw03302', 'JJHollyxkvc51681', 'MMTalyahlovz52426',
    'XNAarikatdqy67243', 'MCDollyqdum99602', 'GGJoycecebh88361',
    'RAJoyannszsg82525', 'RKLottefpiq39024', 'VCElsipbrm95279',
    'ILLianaszqt36058', 'CUEmmyeuesg97834', 'ZZNealafhsl47558',
    'MSKarrygiys03965', 'RZLeonamssx66778', 'LLDevaadlu45648',
    'TUDennavpyn95677', 'ENCarreexgot53976', 'KDVerlanaej96113',
    'GKSiouxbycs20912', 'BCVedayerw85412', 'VHAlmirebkbv17325',
    'EFDeidreawgi88634', 'nfxdsikp2643', 'tdsj01nyxn66', 'qjmb31bait04',
    'wuuf54rlgn37', 'atmsasda0773', 'qnai20lnkt85', 'gnst64ejmj50',
    'wssn42rcjk92', 'elbv68tgxx57', 'otgyfbmy7597', 'ixcllyvc4902',
    'udbpkbfi7966', 'jwlbwieq3740', 'qilx41hfsn19', 'ajwimfdd4546',
    'nulwirfh2372', 'rjyp50mwvx15', 'pjoplzmw7446', 'tnzkpgvi8519',
    'apfp38wshy85', 'ayijtift5814', 'ekzi43peha93', 'wrmlzvvq2207',
    'wyrn58ysxb87', 'hywl19qagu70', 'ckbgfdov9249', 'nrle38eyfw41',
    'rjcr91qtnj05', 'nwozazvo7134', 'sdwdrcxe3227', 'qivj53upvi20',
    'iglf18eqtx66', 'cdqcgdmz4013', 'ptph32mnck81', 'bjamkqtr9042',
    'ygolglps0596', 'gars20bkkz76', 'xvyydkyt0251', 'nrrqebko2616',
    'zfvhbozk9446', 'rtejlhir6781', 'GVNanrqtu97219', 'ASLichaaszz46031',
    'WJTwilaksxk89204', 'JHPauliektwg89018', 'OAEthelkyza89298',
    'BGAllitjls93128', 'CKSallietayj28815', 'FEMerciewhnw80881',
    'JIShariblhq17064', 'GHPavlagtcz54127', 'GDPerryxvis57270',
    'ELAdarasxsr70789', 'JZDavitaqkfj06375', 'QYAlanelhvy63337',
    'YSNorahdkfd97235', 'GPBrenzrhj15772', 'JVWileenfskt53267',
    'MHKeelyjvpv27898', 'HIDionisfpws53133', 'RSCodeevuvh67602',
    'OVEudoraxehu90599', 'HCAlexafodh63809', 'QGDanaflvd35216',
    'IBDaynatffu06799', 'AOLorryqirg64858', 'XUTrudazvvn57972',
    'GTLettawukj84667', 'JQNessibbtp64686', 'GVCarlayvcn84180',
    'FHDaricerggc04981', 'RYGnnivusp78029', 'ABShelbyvkdn47999',
    'DMGwennyzlfh63504', 'NAMarjekhai71958', 'MPImeldaolil91682',
    'AKLouisewfud23410', 'DMPagegogs38707', 'XUElfietnsn07880',
    'OPLeolaawua98453', 'LLEllygbva73270', 'ZMJaninazrkw22094', 'mmfg34upwf50',
    'axbo58bjoo11', 'etul66dtct16', 'lspe47hfvn38', 'eado35keax16',
    'xyev63gzch18', 'cnpqjmbx2875', 'ytia76yubv57', 'efai39vrve00',
    'hybw67aing51', 'uhjx00zgbf87', 'bzaw45vmvg28', 'fnsi70nrqw11',
    'uodgktev5388', 'kbgyjvim5196', 'rpqh23ivxd73', 'djob93zule78',
    'ernc15wbbq93', 'wllv18odcs66', 'aobiyuhf8278', 'mqdw93rjvu79',
    'htns23cbaq00', 'uyko29pphz45', 'idcs29nakl01', 'ifsevvsu6149',
    'wfrzxqtw4366', 'kwwfzmru1918', 'pisb76lmjn92', 'ecui51inpf82',
    'jthi06knns35', 'jyxufqdg9141', 'cjivrohs5518', 'mhwe22hbkj67',
    'urvcdhdj5342', 'puqz17zjwu04', 'pqqb11eygd06', 'shwllrqp0093',
    'qyax26cnbl36', 'qdkrlrsp9591', 'dngwdbxp4642', 'jyge51mlwr12',
    'xnjz41lihe54', 'bnev30excn27', 'zuth68qgtw25', 'slvo91vjkq59',
    'urup33kzxs06', 'oveewhxp3486', 'jykh19ojrq48', 'jwkizqyw0408',
    'jgpuzbzq8616', 'kukcbwqx1334', 'mzngathq2680', 'glwq11qwuq67',
    'obwhhjbn9597', 'hkfb33uvyi37', 'nsxmurfz6178', 'bymj23szem14',
    'feab62dlvj60', 'czxzvuhr1504', 'rlucmywm8202', 'dfey99tjoq20',
    'waliccbl6129', 'xags57zhwg90', 'sbsc45tivl79', 'zwyc88oumj34',
    'njaj62nnlg33', 'wfhp58xmml27', 'fdgaefxx9808', 'vdbi36lhce05',
    'uexkdxns5149', 'sejjkzxu9255', 'hygm18ojmi99', 'guel64xmsj52',
    'exup51owqv30', 'jwytpltj2975', 'zsmr97iyls84', 'vxotwcak2340',
    'iopf42ugav13', 'ozctsokf4165', 'IZAledawdpf42833', 'BUDyannkggw17122',
    'BMCallardtk52659', 'DYAshliezxda66645', 'CUShannaqakb80507',
    'YZSibelkwkc87790', 'KHOlwencurd42425', 'YGValliebdvp11047',
    'GZBeilulinqg55104', 'TGRubyohuy04836', 'IYMickygyoi89222',
    'XEAlfyexlx84150', 'GGMimiajbt00874', 'EVLorenewqme67160',
    'MZNoellhalf96056', 'FSEdivaonhc56640', 'TRLexineoiyx54454',
    'XRDarynqeai23085', 'GLEdeeboox73434', 'GQBrinyxotr92423',
    'IAJobietbrk71423', 'KFCarlynoenx84155', 'JHOlvabdbn45010',
    'PMVanjgcg46822', 'DEJeanjzna97894', 'ICLidiarjav00722', 'GTEddyqjwj87478',
    'MXReikowosr95863', 'KXLolayvkk54928', 'FXGabbieyhuj095', 'JPNitahdfi98409',
    'MFNancyofmx78281', 'KLFreddywxrq04061', 'UTHarleyigck44450',
    'XTElissaubbn80327', 'HLLinzyiaav36989', 'FBEloisaebza05928',
    'GVChrysabcaa43257', 'LCWandislevm88030', 'UGNertykhid67978',
    'KACheryfnvt75438', 'agxm99xcme82', 'ptcj54acus59', 'fodh59uxav33',
    'jclo39ayln94', 'yqdtekob5206', 'ukwvavxx1552', 'crrkqrie0475',
    'xvlx02nfia81', 'hgkm45lhuc24', 'yafv68mols00', 'jksd79cfhr11',
    'crjv91pjyt01', 'gcommniw3062', 'zynosbgk7074', 'bopb08pfbi47',
    'dnwadggn3301', 'ywapdrir3409', 'tpor32akne56', 'jhmhfiuq4016',
    'hdwb52mnap16', 'ocdi14zxpa68', 'lvpjnncx0684', 'madp77bvwf03',
    'xjwo55miud65', 'avam35hsco31', 'uygbzdie3279', 'mhgnzhel6378',
    'fmvd82jryt87', 'mpoutbey9048', 'ipbikzdc3987', 'fhms32vlwu11',
    'eemwkwyq6193', 'xpwzidlj7308', 'tobisloq4803', 'ubyc36gdoe17',
    'ithdhbio5757', 'jpjb88azqu44', 'bvkrhckc5301', 'xazabxqb5567',
    'jhtbsote5361', 'jvec61tffo49', 'juvl85fjyc80', 'shxnzpss2594',
    'ticotewj7617', 'qpmhvgot0019', 'pzjy03trut01', 'gakwlivg8583',
    'angp71jhgg18', 'lked48hwgx15', 'rxuq45oeal83', 'uymc82cbuw76',
    'xiob67bpdq21', 'mxpyfzyw5018', 'iqmq16long55', 'tppn77lzrj26',
    'eyts55ufud48', 'rbnslacc1000', 'zfcq60oyls22', 'yaah95abhm50',
    'uwin42mbem27', 'ytnz80oobf70', 'rmapmutq6352', 'htpk10vvnc96',
    'oazo05vrlw60', 'ygtu34acbe25', 'evcu20pvwk46', 'tqseecuv8392',
    'loox67vhdg41', 'cqjpzxlf8718', 'zyqcncxk9964', 'ukuvjslr1953',
    'fipzaanf7709', 'lnrovydw6261', 'opqatqhx9042', 'turnxgzz3800',
    'ilnt59hqlm26', 'xmtd66pbwj61', 'tlcusglk1906', 'sxgn37yqsl37',
    'CVEllynkftw43290', 'YQRodinagavy59627', 'GHAlidiazloh72855',
    'RZIlladysz48788', 'TGDitadxmi48559', 'KNHettitbqq49375',
    'DOMelisadaop15141', 'YSDyanneukce93947', 'CJKayleeifgf23986',
    'IBCatheemhn08266', 'AKNeillalhyt14321', 'VQYettaredq02456',
    'HAEuginehego60812', 'LIKathytxpr66248', 'RMMargopqcl13757',
    'GHSamaraunuy96106', 'YREmyleqbba15686', 'NSZarahsduy57759',
    'CRElissahjga62607', 'IUBobbiciuv25577', 'LYTyneehsb45152',
    'ZXSelinejekd89436', 'MIMaiaazgm30655', 'WZEllenkadr64105',
    'GZAlieypqf92548', 'NPJemmyztlp45673', 'TVHettivyxl57129',
    'ZOVerlaoahc78270', 'URAshleefhvz88648', 'MCAubriexiqs67330',
    'DDVinitaybbz30504', 'CNOfelianaow54483', 'NJToniarnvv08051',
    'XESilviaopvg15669', 'BBTimirgcc34077', 'ITJanzndm24722',
    'DSXylinaxrej54297', 'FRDorisamrzy46347', 'VNFaythxrjo53234',
    'RXElnoreqxgl18451', 'RKGenezgfx95914', 'gsrcrqpr1827', 'rzvsgies5780',
    'xpio81kntx54', 'aiuw55okqn96', 'dtnlnwoa3668', 'ofwovrub0285',
    'qjobzccn7500', 'rjjqatvi8335', 'nvxgnwbg5188', 'kticevta1855',
    'eaprjloy8266', 'vihuxtjm3566', 'ibdqenzy8935', 'kpon18vnvd97',
    'zcjyosdv4541', 'kogd86uokj98', 'tupg52wogr92', 'ugva50trkj60',
    'lpwi58gsrh58', 'hbra91wqfc12', 'hvjn50drlt02', 'oisvlgkp8433',
    'xtdyyxoc7256', 'celnnvbk5132', 'hcidtqco2177', 'jyhoriul3097',
    'tsdwzolw7409', 'ydcnslfy3965', 'ywzkeoyu8123', 'sxrp48ycsy09',
    'xclh56fkfp38', 'ejnh99mdos07', 'zowrrldj2566', 'yymgojde2643',
    'aouzizer1797', 'ckurjymu4388', 'hmrigzso4386', 'avxn18aaiq04',
    'TQGlorygxsb19192', 'KIDarynaret24426', 'MNEssanryn60200',
    'LKJemieugcs13382', 'VAAlysemrcj89438', 'MMVivyanbmkx24726',
    'PQJoyeeisb30606', 'SVSophircqi06594', 'ULSondrafjjv97463',
    'VTCoryjkna28276', 'FKAlyssaanda13201', 'WFSonyadgau06895',
    'ECHallykhqa98458', 'YOCindragkzl17296', 'HQMelbakyqy82416',
    'GARowdaws33535', 'QRKariluovn83662', 'SKEnrikawhdx24065',
    'PRKinnasdip80642', 'XISusyexzd83514', 'TAMinnierjbs37679',
    'TLLuralvgm60040', 'JHJorejlti76958', 'LMReniebrmu04237',
    'AEKarinwtwz44929', 'GVTrudeyobyi39576', 'WTDiannypcd49788',
    'FWDianestqc13570', 'COMarisacgph15591', 'FHCaresakpeq27744',
    'YVMaudietzfy05254', 'IYRaynaxudl12828', 'CGShanemsis22651',
    'EIChervdxg54603', 'ZTIsaqcpr20710', 'AFFlossicdds24974', 'RECeilcrds52724',
    'KQMarlaktsj62038', 'ACAuriagzuc77530', 'ZADeniezyv27896',
    'CUBelianjlb13079', 'FHSusanaczpp83161', 'NVLanitanddu61311',
    'AAReynyak99272', 'VIAngeljtex56193', 'UPJeanestji14105',
    'VQAgatamvgj80847', 'GYDeenamnjj61510', 'QUHeddaqzoc06485',
    'AAMattieszwu40143', 'QAKissiepqyl59604', 'QHCicilythug29783',
    'UHWinneiirj40261', 'LLJoelleoxcq04900', 'BAMichalsmje62985',
    'JVDotiqmzh49506', 'FWErinfvut52564', 'IELaciebofj86891', 'SGIngacnmn67948',
    'KIWalliezxmd75778', 'ZDElyselmit56650', 'DEOneidapxlf41475',
    'GBShaylafdww93277', 'EMCharilsowo47632', 'VHMerseyvzhe67475',
    'HROrallasjby93673', 'CBIleanaqeia59749', 'TNLoriajqma20536',
    'WHMonikalmpz88217', 'JCLiliankwpx28094', 'XPBeckiedifi68666',
    'WECamhqvs88928', 'SNKelsyegdk65230', 'HWNoliedpah06293',
    'LBGiselahevv94720', 'BXAilenesohu04851', 'GBCrinaxlu77370',
    'HTElleigyg24043', 'BILivyxguc53887', 'BQLezlieeijd63157',
    'RUMeaganmpqz06989', 'WVRaslaeqjs31288', 'akdufkmi8961', 'hhzsralk6127',
    'bsxh72kcwz09', 'yuywxakv6734', 'fopm58rjvu81', 'bvojnram0781',
    'xgdq78eifm89', 'azlkxfhz8038', 'blfddnrk7415', 'rgrbrppc5282',
    'hety01whgr30', 'jvqnqdnu9278', 'gxzh13hsuf47', 'wkuh70fasi99',
    'ikvi38uflc03', 'xyla93hfvl87', 'ezhr32sywm61', 'txaa64axbm51',
    'figdlvsp7989', 'gmqu43vxde38', 'xrbo52prlc66', 'vipmdeuw2138',
    'gmid03esgm31', 'msgx56tzeg64', 'krxy84lfyb14', 'sovwjoae8987',
    'pixl92bcfz23', 'lwqcjogl2149', 'nyts52kkwe09', 'kpguexfv2202',
    'gwjgafru3057', 'uivbtewn6101', 'jjkn80gdii43', 'nxno88ygbv00',
    'nhixtfqi8492', 'iwvuhsrt0792', 'brawpqml0017', 'rmxktdwr9793',
    'hphe00qxuk74', 'hrayctar3851', 'twfk21wfhz01', 'JFDaffivtsp34230',
    'YFRandinwwk67243', 'TQChadipgs60286', 'YMTishuoyq36258',
    'YYMarjygojo25712', 'NHRhettavskd05062', 'LCCandissqyd02996',
    'UDTwilakrub05030', 'WGEstherbzvm12133', 'SFJaymeeyhak79818',
    'IUGianahqo4852', 'BMDeboraqrjz58757', 'LOTybiesjgh89841',
    'AHKalieolli93541', 'KGMandiedlni34745', 'NZBrendavuwn67289',
    'OEJanevayyjn98764', 'TUReyzvyj02966', 'KCCandieqopj52488',
    'VMKeeleyinxu44644', 'JJFaramavx86242', 'GPBirdqwso68540',
    'KEEmaleexugc39959', 'WTUmekoslgs27350', 'NKSharlvpmw06985',
    'VNLiakypv33985', 'AZCollyqvym59221', 'DTBessiwiv01757',
    'LRLeishaaonf92362', 'RSShershwt38330', 'XVCherihhk57632',
    'KPKorneydfuy85742', 'BZMinnienmno88506', 'TNLeylahlgf72563',
    'DEGuinnaedhd96475', 'PYBritnipxxp22808', 'SUSusiewsau72438',
    'WEZaralyop63164', 'EYDamarabgux48719', 'FQWinnahwkwp41952',
    'TMGarnetvddd58904', 'ZDMarjiesffz29294', 'PPWandielltp71549',
    'MJIsaxvjq29987', 'ESSilvieaajv22264', 'UIDaliaasbz37150',
    'YMNoamigjag59399', 'JPQuintajjvj32465', 'FERikielgn13854',
    'FJSeleneuzoe01284', 'JGKarelciud80466', 'TZJackijgqx50930',
    'RANorahyfpz51579', 'KNBrigitkzuz46159', 'KYMercyywsy63327',
    'QBLorrinyadk26925', 'YPKarlynzpcw58709', 'ENAndeeedlww27835',
    'MWLucinaylte27250', 'MOGennyiavs49100', 'LBGennierqpk83556',
    'PZDixieaibd57941', 'WUGinnyuonf80671', 'FVCayekjit41592',
    'DJAgnetamcjk20625', 'UZTameradkwc13785', 'HJLexytrna25656',
    'KWRuthyprs34391', 'WYAlanesfff04552', 'JNLichaaliu75433',
    'ADCarolecqio31837', 'IUWillowczfx77628', 'MEAdelnecg64586',
    'HHStaceelhwj32591', 'QOAilynosmb76213', 'MRXylinaejgx60044',
    'RWAilinanrqm76607', 'WLGlorixlxt90247', 'KQTashakuto27762',
    'DBRheahpkg29592', 'LVFreidayrif78393', 'MTEmmyekyjn38774',
    'AWErichayllj40542', 'gsofpqgt6215', 'jxuy35yhjl32', 'zydtrepo2333',
    'bqtv68yaai61', 'aukc27ygez90', 'ykia94gcmh19', 'njycopyz7619',
    'xdytzvhl4843', 'zncj42oxoy86', 'fhay83bmxw05', 'zdqw06zaau03',
    'qdbnpwdq3882', 'oylmxeyq7576', 'fozu25eghx71', 'okoffzev7481',
    'sihjhiyl3594', 'undi64zfll07', 'xzakmcdn2070', 'xmqtvvub4907',
    'tlfj87eheo67', 'dacqwrsg0713', 'pvaaujbf1418', 'tqwt34njxc48',
    'bdpk80foqv97', 'tnua21ajnz47', 'ubzqvmqf1453', 'snsdpryy1036',
    'pqhwclcj4434', 'uwtz98avoq82', 'flmxdkge2104', 'tpuoxjav6339',
    'yhwy92oklw39', 'lhoxngdg2645', 'vshcqnjp7743', 'fkhv46indc45',
    'auooyfft9057', 'xrybfftp9617', 'qieuhtla6883', 'ESCamilarxfw55380',
    'DPChertgpf44567', 'VFCymbreyipa93312', 'ERTabinardfa87463',
    'HQJadejysq39730', 'RWMoriawtzh98176', 'NJBinnicrrk93186',
    'YOEnricanzth93353', 'KFKarolyzatm32396', 'PVMarcieojuu94023',
    'PGNissaofol95160', 'TACharlautcx14765', 'JSLeighaplmf54991',
    'OOSydelyxpe95540', 'FPHeidivefy59353', 'STMableaipo44353',
    'WBNaomafbrz53285', 'PGNeilemxtd61499', 'EEAimeewnhf10120',
    'TYRondazajw18000', 'MXEydielfwd41514', 'DXPaigekvme93691',
    'CZKylensqrj11824', 'PCDannavqqz87899', 'BGGraciejtca72104',
    'MUNoemieodj57514', 'OCKorevdgz84600', 'WLTerrynwzg35384',
    'XQLeiladuof76758', 'VECorlysnby50253', 'YZAmandibaid93881',
    'GXEdithevzkh78830', 'CCReenaxwqx31756', 'NNLenoranhnc22945',
    'YMOrelievnow37735', 'VESandravchr78442', 'JAKariamrnh85554',
    'UKMillyppbw48856', 'WQKatysita68162', 'UDAllyfddi81189',
    'YRLilasitvx91464', 'QRKathwrlm48669', 'SGLindsyyqsx33640',
    'QELeabkmm40701', 'QGWallygwgb98199', 'AYAnettasjsk30170', 'SJUlatodm37263',
    'FHShalnasvbu66628', 'FLMerylwial17793', 'RDArdatufb22362',
    'HSAggyjxnv33824', 'GXSamaraagjp94943', 'VJTeddywsan81168',
    'FTHyndakjmk67950', 'TKEdwinafhkp08511', 'DUCyndiahzly51904',
    'HJLottafvox55851', 'YKSamaramnue87752', 'CEMarintlil85541',
    'LZElanahpqy00452', 'OVRonnieykgv64386', 'CLSondrajcpi56177',
    'ELKasseylooh01577', 'FUBlancazmdv68203', 'YNJadeixyi42208',
    'PDCamilaoozc89024', 'HNRahelldvv37128', 'UYTessirprd21187',
    'DPMadgebwqd60046', 'UJMarneyzrvk58828', 'GMMilziqh92195',
    'TKPhylisjoxg75013', 'WUAnjelaidgu20892', 'UTStellabowt41368',
    'FCDaranfwk77722', 'NWCarriepgea99688', 'ZPKaresxxa36543',
    'ECGaelwysl70751', 'LBPaulietpwq06807', 'WGStephavucj44087',
    'HEBiancaqbml50217', 'QIAllysemrq05327', 'HSMeizhpu92394',
    'BRMyrailul01730', 'ajkc34ddik09', 'camqtblj4497', 'ueqe45tysa87',
    'dzdu46pate90', 'kcgamtxm7413', 'gnyq64avpt63', 'hochcovt3360',
    'vrfnccdx4098', 'vyuc37bcvf59', 'vtdlpxga4330', 'dfhzxasn9409',
    'xkhu25csoc03', 'eifbomxw5712', 'nsrb93olvx41', 'ceji08fzop07',
    'svzqsips9414', 'sgnc47hhzw61', 'vpltxkrd7602', 'utqdxlur0915',
    'jzgrcawt2238', 'cxgmdawh1760', 'rota78ytrw30', 'niha55yncn57',
    'dbyv57aytc02', 'wiif46krih34', 'ybbigncc1641', 'hfpu12fsyr66',
    'pcrx68wirt48', 'kwrb84bwtn46', 'elsg80lale28', 'mltk99oqno31',
    'jsvfsucb9456', 'bjvk38zubt49', 'ntgh61fqzi02', 'rwfeuzhl0954',
    'fawa36qwbj99', 'yjcloxgp5418', 'tdai94wpvq64'
}
local RECEIVER_LIST = {
    'xmlz93hvrp87', 'mtlg57obpv37', 'AFIreneuoip67950', 'SETiffieeyss94528',
    'cclt93engl48', 'ajkjzdev9301', 'ogue55wzaa20', 'wzltsbtx9271',
    'nivj78oubq83', 'dztc78limf70', 'gqex04qgxn42', 'hvmq13tqpn13',
    'lbdunbwq8371', 'xflwmpbl1787', 'MSKettielrqa81957', 'DLNorriycna46811',
    'MBKarynzhia41155', 'GEPerrilkwo32787', 'fklueaqe9819', 'mlgbcmzj1321',
    'vxpp34ecmw94', 'ltckgdwu5368', 'AZTraciehjan66476', 'WKAddaabat30301',
    'HPAlishagcxf37518', 'QDShaunahtoo04489', 'wilq47xqhf46', 'cwiyjzgf5875',
    'oxqhjpqo1996', 'dsoa16gcgs98', 'ykzm23hnkx64', 'edcbumuw8587',
    'rdqf43lzfn88', 'bvwktkky0145', 'knfcgaef2331', 'zdnyxqtt0839',
    'OHEttiejzec90615', 'ZCTedyeij18099', 'uywq67tbij62', 'eykz06cehw79',
    'YMStaciuevx07653', 'OKPhilislrvd53911', 'DCBessyynwp99485',
    'VUDruurgd80691', 'EKAlenadako33353', 'UKGustiendsd04314',
    'RMJolenebhxn45344', 'JSPansyabub58741', 'MGCoreyvokv66279',
    'NUMollcdio87565', 'wayz73uhqx92', 'njjzblbs2873', 'tjeu78uces71',
    'olez70lxce03', 'TBElissabits74070', 'FTDarynqqly32192', 'qbzdjtsw9822',
    'wryyvthh9005', 'dmasyowd7822', 'cmxh21ojxw77', 'eknjzedd8821',
    'kymnhrpu1827', 'JSDarceettmc55826', 'BOBellbmhb43701', 'xnrsblgf4217',
    'pqtg88zrzv29', 'scfj87jwmh58', 'nhjjmhus6513', 'nhewypif1772',
    'vxalapeh3967', 'LYEimilerbzh11725', 'CCMinnatvaa62801',
    'QXOndreajhzh78472', 'RVFifinefsao21514', 'JXBarbeyybft90439',
    'RLGwenyrph48427', 'edksswlu6328', 'cxoy24ggdp35', 'EMKaelasqdr51576',
    'ECDulcyqcdz12199', 'iuxcozte2229', 'iwfw08qbdn25', 'dvfeihou2061',
    'uiiq84ldsz02', 'XZLeslieuxqy93173', 'XBBeiluloody65412', 'kgxd76nqmu74',
    'ypfjltxp2617', 'ttiouzih7748', 'feuu92qygj02', 'QIKelseygvkp25020',
    'XJCindrawgbq94155', 'dllkbmge2600', 'jnew10qygt44', 'RJSarirbye43330',
    'KJErinakbzn35623', 'UJAlishasjly39895', 'LEKinnazquo96825', 'zqqmpadf0219',
    'acocwnyw6599', 'OJGarnetddap99865', 'OICorrieygme03991',
    'OJJorrieiazm97239', 'UJPennimeim49706', 'jzkx53oval27', 'fajy89oysj19',
    'HZDyanzgyz37005', 'TJHelganhch33854', 'GMTriximkps64490',
    'JCElgajppe57283', 'mvun84ayaq73', 'unsf52ellr14'
}

-- ตัวแปรสำหรับการทำงาน
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GuiService = game:GetService("GuiService")
local VirtualInputManager = game:GetService("VirtualInputManager")

-- ตัวแปรสำหรับ tracking
local currentStep = 0
local currentStepReceiver = 0 -- ตัวแปรแยกสำหรับ receiver mode
local isTrading = false
local tradePartner = nil

-- ตัวแปรสำหรับตรวจสอบสถานะการเพิ่มไอเทม
local shroomAdded = false
local tokenAdded = false
local creatureAdded = false

-- ตัวแปรควบคุมการเรียก remote (ป้องกันการเรียกซ้อน)
local isRemoteBusy = false
local lastRemoteCallTime = 0

-- ตัวแปรสำหรับ state-based tracking (เพิ่มใหม่)
local receiverCreatureStartTime = 0
local receiverCreatureRequested = false
local receiverAcceptStartTime = 0
local receiverAcceptRequested = false

-- ตัวแปรสำหรับ receiver timeout (เพิ่มใหม่)
local lastTradeRequestTime = tick()
local RECEIVER_TIMEOUT = 300 -- 5 นาที (300 วินาที)

-- ตัวแปรสำหรับ sender state-based tracking
local senderShroomStartTime = 0
local senderShroomRequested = false
local senderTokenStartTime = 0
local senderTokenRequested = false
local senderCreatureStartTime = 0
local senderCreatureRequested = false
local senderAcceptStartTime = 0
local senderAcceptRequested = false

-- ตัวแปรป้องกันการทำงานพร้อมกัน
local isSenderMainActive = false
local isSenderReceiverActive = false

-- ตัวแปรสำหรับ timeout การรอเริ่มเทรดหลังส่งคำขอหา receiver
local SENDER_REQUEST_TIMEOUT = 200 -- วินาที
local lastSentTargetName = nil
local lastSentTargetIsReceiver = false
local lastSentTime = 0

-- ฟังก์ชันช่วยเหลือ
local function IsInList(name, list)
    for _, listName in ipairs(list) do
        if name == listName then return true end
    end
    return false
end

local function Clicked_Ui(path)
    local success, error =
        pcall(function() GuiService.SelectedObject = path end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการเลือก UI: " ..
                tostring(error))
    end
end

local function Click_NOW()
    local success, error = pcall(function()
        VirtualInputManager:SendKeyEvent(true, 13, false, game)
        wait(0.1)
        VirtualInputManager:SendKeyEvent(false, 13, false, game)
        task.wait(2)
        Clicked_Ui(nil)
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการกดปุ่ม: " ..
                tostring(error))
    end
end

-- ฟังก์ชันวาร์ปไปยังตำแหน่งที่กำหนด
local function WarpToLocation()
    local targetPosition = Vector3.new(-2132.24, 490.66, 1106.83)
    local tolerance = 5 -- ระยะห่างที่ยอมรับได้ (studs)
    
    while true do
        local success, error = pcall(function()
            local character = LocalPlayer.Character
            if character and character:FindFirstChild("HumanoidRootPart") then
                local currentPosition = character.HumanoidRootPart.Position
                local distance = (currentPosition - targetPosition).Magnitude
                
                -- เช็คว่าอยู่ใกล้ตำแหน่งเป้าหมายหรือยัง
                if distance <= tolerance then
                    -- อยู่ที่ตำแหน่งแล้ว ไม่ต้องวาร์ป
                    return
                end
                
                -- ยังไม่ถึงตำแหน่ง วาร์ปไป
                character:PivotTo(CFrame.new(targetPosition))
                print("✅ วาร์ปไปยังตำแหน่งที่กำหนดแล้ว (ระยะห่าง: " .. math.floor(distance) .. " studs)")
            end
        end)

        if not success then
            warn(
                "❌ เกิดข้อผิดพลาดในการวาร์ป: " ..
                    tostring(error))
        end
        task.wait(5)
    end
end

-- ฟังก์ชันหาคู่เทรดที่ว่าง
local function FindValidReceiver()
    local result = nil
    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue ..
                      " <= 20) ไม่ทำการเทรด")
            return nil
        end

        print(
            "🔍 กำลังค้นหาคู่เทรดที่ว่าง...")

        -- ค้นหา receiver ที่ว่าง
        local validReceivers = {}
        local getPlayersSuccess = pcall(function()
            for _, player in pairs(Players:GetPlayers()) do
                if IsInList(player.Name, RECEIVER_LIST) then
                    local isAvailable = false
                    local tradingValue = nil
                    local checkSuccess = pcall(function()
                        if player and player:FindFirstChild("Settings") and
                            player.Settings:FindFirstChild("Trading") then
                            tradingValue = player.Settings.Trading.Value
                            isAvailable = (tradingValue == false)
                        else
                            isAvailable = true
                            tradingValue = "unknown"
                        end
                    end)

                    if not checkSuccess then
                        print(
                            "⚠️ เกิดข้อผิดพลาดในการเช็คสถานะ " ..
                                player.Name ..
                                " สมมติว่าว่าง...")
                        isAvailable = true
                        tradingValue = "error"
                    end

                    if isAvailable then
                        print("✅ พบ receiver ที่ว่าง: " ..
                                  player.Name .. " (Trading.Value = " ..
                                  tostring(tradingValue) .. ")")
                        table.insert(validReceivers, player)
                    else
                        print("❌ Receiver " .. player.Name ..
                                  " กำลังเทรดอยู่ (Trading.Value = " ..
                                  tostring(tradingValue) .. ")")
                    end
                end
            end
        end)

        if not getPlayersSuccess then
            print(
                "❌ เกิดข้อผิดพลาดในการดึงรายชื่อผู้เล่น")
            return nil
        end

        -- ถ้ามี receiver ว่าง ให้เลือกหนึ่งคน
        if #validReceivers > 0 then
            local selected = validReceivers[math.random(1, #validReceivers)]
            print("🎯 เลือก receiver: " .. selected.Name)
            result = selected
            return
        end

        -- ถ้าไม่มี receiver ว่าง ให้ค้นหา sender อื่นที่ว่าง
        print(
            "ไม่มี receiver ว่าง กำลังค้นหา sender อื่น...")
        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~=
                LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    tradingValue = player.Settings.Trading.Value
                    isAvailable = (tradingValue == false)
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " ..
                              player.Name .. " (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print("❌ Sender " .. player.Name ..
                              " กำลังเทรดอยู่ (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print(
                "🎯 เลือก sender เพื่อเทรดด้วย: " ..
                    selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบคู่เทรดที่ว่าง")
    end)
    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในฟังก์ชัน FindValidReceiver: " ..
                tostring(error))
    end
    return result
end

-- ฟังก์ชันส่ง trade request
local function SendTradeRequest(receiverName)
    local success, error = pcall(function()
        local args = {
            "SendRequest", game:GetService("Players"):WaitForChild(receiverName)
        }
        game:GetService("Players").LocalPlayer:WaitForChild("Remotes")
            :WaitForChild("TradeRequestRemote"):FireServer(unpack(args))
        print("📤 ส่ง trade request ไปยัง " .. receiverName)
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการส่ง trade request: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันหาผู้เล่น sender ที่ว่าง (ค้นหาเฉพาะ sender)
local function FindAvailableSender()
    local result = nil
    local success, error = pcall(function()
        print(
            "🔍 กำลังค้นหา sender ที่ว่าง...")

        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~=
                LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    if player and player:FindFirstChild("Settings") and
                        player.Settings:FindFirstChild("Trading") then
                        tradingValue = player.Settings.Trading.Value
                        isAvailable = (tradingValue == false)
                    else
                        isAvailable = true
                        tradingValue = "unknown"
                    end
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " ..
                              player.Name .. " (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print("❌ Sender " .. player.Name ..
                              " กำลังเทรดอยู่ (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบ sender ที่ว่าง")
    end)
    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในฟังก์ชัน FindAvailableSender: " ..
                tostring(error))
    end
    return result
end

-- ฟังก์ชัน add shroom
local function AddShroom()
    local tradeGuiSafe = LocalPlayer.PlayerGui and
                             LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue ..
                      " <= 20) ไม่สามารถเพิ่ม shroom ได้")
            return false
        end

        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub("@", "")
        local localPlayerName = LocalPlayer.Name

        local amount = coinsValue - 20
        if amount > 500000 then amount = 500000 end
        if amount < 0 then amount = 0 end

        local args = {
            "AddTradeItem",
            {
                Overwrite = true,
                ItemType = "Currency",
                Name = "Shooms",
                Amount = amount
            }
        }

        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print(
                "❌ TradeGui ถูกปิดระหว่าง AddShroom, reset currentStep")
            currentStep = 0
            return false
        end

        local remote1Name = localPlayerName .. "-" .. opponentName ..
                                "TradeRemote"
        local remote1 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote1Name)
        if not remote1 then
            print("❌ ไม่พบ remote1: " .. tostring(remote1Name))
            currentStep = 0
            return false
        end
        remote1:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote1...")
        wait(3)

        local remote2Name = opponentName .. "-" .. localPlayerName ..
                                "TradeRemote"
        local remote2 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote2Name)
        if not remote2 then
            print("❌ ไม่พบ remote2: " .. tostring(remote2Name))
            currentStep = 0
            return false
        end
        remote2:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote2...")
        wait(3)

        print("✅ เพิ่ม " .. amount ..
                  " Shrooms ในการเทรดกับ " ..
                  opponentName)
        return true
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในฟังก์ชัน AddShroom: " ..
                tostring(error))
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add token
local function AddToken()
    local tradeGuiSafe = LocalPlayer.PlayerGui and
                             LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print(
            "⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local tokenList = {
        'ChangeCreatureColorsToken', 'CreatureReviveToken', 'FullGrowToken',
        'PartialGrowToken', 'FreeSpinToken', 'RandomStoredCreatureToken',
        'DeathGachaToken'
    }

    local success, error = pcall(function()
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub('@', '')
        local localPlayerName = LocalPlayer.Name

        -- ตั้งค่า remote กำลังใช้งาน
        isRemoteBusy = true

        for i, tokenName in ipairs(tokenList) do
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print(
                    "❌ TradeGui ถูกปิดระหว่าง AddToken, reset currentStep")
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            local args = {
                'AddTradeItem',
                {
                    Overwrite = true,
                    ItemType = 'Tokens',
                    Name = tokenName,
                    Amount = 150
                }
            }

            local remoteName = localPlayerName .. '-' .. opponentName ..
                                   'TradeRemote'
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(
                                   remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print("📤 กำลังเพิ่ม " .. tokenName .. " (" ..
                      i .. "/" .. #tokenList .. ")...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn(
                    "❌ เกิดข้อผิดพลาดในการเรียก remote สำหรับ " ..
                        tokenName .. ": " .. tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print('✅ เพิ่ม ' .. tokenName ..
                      ' ในการเทรดกับ ' .. opponentName)

            -- รอ 3 วินาทีหลังใช้ remote
            print(
                "⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ " ..
                    tokenName .. "...")
            wait(3)
        end

        -- ปลดล็อค remote
        isRemoteBusy = false
        print(
            '✅ เพิ่ม token ทั้งหมดเสร็จสิ้น')
        return true
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในฟังก์ชัน AddToken: " ..
                tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature สำหรับ Receiver แบบปลอดภัย
local function AddCreatureReceiver()
    local tradeGuiSafe = LocalPlayer.PlayerGui and
                             LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print(
            "⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print(
                        '❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                    currentStepReceiver = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and
                    tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn(
                    '❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStepReceiver = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and
                                   LocalPlayer.PlayerGui:FindFirstChild(
                                       'TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame
                                       .Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn(
                    '❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStepReceiver = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName = otherPlayerName .. '-' .. LocalPlayer.Name ..
                                   'TradeRemote'
            local remotes = ReplicatedStorage:FindFirstChild('Remotes')
            if not remotes then
                print('❌ ไม่พบ Remotes folder')
                currentStepReceiver = 0
                return false
            end

            local remote = remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStepReceiver = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print(
                    '❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                currentStepReceiver = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {
                'AddTradeItem',
                {
                    Overwrite = true,
                    ItemType = 'Creatures',
                    Name = creatureName,
                    Amount = 1
                }
            }

            print("📤 กำลังเพิ่ม creature: " ..
                      creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn(
                    '❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                        tostring(remoteError))
                isRemoteBusy = false
                currentStepReceiver = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print(
                    "⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print(
                '❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStepReceiver = 0
            return false
        end
    end)

    if not success then
        warn(
            '❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreatureReceiver: ' ..
                tostring(error))
        isRemoteBusy = false
        currentStepReceiver = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature
local function AddCreature(isReceiver)
    local tradeGuiSafe = LocalPlayer.PlayerGui and
                             LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print(
            "⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print(
                        '❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                    currentStep = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and
                    tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn(
                    '❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStep = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and
                                   LocalPlayer.PlayerGui:FindFirstChild(
                                       'TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame
                                       .Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn(
                    '❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStep = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName
            if isReceiver then
                remoteName = otherPlayerName .. '-' .. LocalPlayer.Name ..
                                 'TradeRemote'
            else
                remoteName = LocalPlayer.Name .. '-' .. otherPlayerName ..
                                 'TradeRemote'
            end
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(
                                   remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStep = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print(
                    '❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                currentStep = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {
                'AddTradeItem',
                {
                    Overwrite = true,
                    ItemType = 'Creatures',
                    Name = creatureName,
                    Amount = 1
                }
            }

            print("📤 กำลังเพิ่ม creature: " ..
                      creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn(
                    '❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                        tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print(
                    "⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print(
                '❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStep = 0
            return false
        end
    end)

    if not success then
        warn(
            '❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreature: ' ..
                tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชันกด accept สำหรับ Receiver แบบปลอดภัย
local function ClickAcceptReceiver()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
        if not tradeGui then
            print("❌ ไม่พบ TradeGui")
            return false
        end

        local containerFrame = tradeGui:FindFirstChild("ContainerFrame")
        if not containerFrame then
            print("❌ ไม่พบ ContainerFrame")
            return false
        end

        local acceptButton = containerFrame:FindFirstChild("AcceptButton")
        if not acceptButton then
            print("❌ ไม่พบ AcceptButton")
            return false
        end

        local upperLabel = acceptButton:FindFirstChild("UpperLabel")
        if not upperLabel then
            print("❌ ไม่พบ UpperLabel")
            return false
        end

        Clicked_Ui(upperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการกด accept: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด accept
local function ClickAccept()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.AcceptButton
                       .UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการกด accept: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด cancel
local function ClickCancel()
    local success, error = pcall(function()
        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.CancelButton
                       .UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("❌ ยกเลิกการเทรด")
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการกด cancel: " ..
                tostring(error))
    end
end

-- ฟังก์ชันเช็คชื่อคู่เทรด
local function CheckTradePartner()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then return false end

        local theirLabel = LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs
                               .DisplayNameLabel.UserNameLabel
        if not theirLabel or not theirLabel.Text then return false end

        local opponentName = theirLabel.Text:gsub("@", "")

        -- เช็คว่าชื่อตรงกับในรายชื่อหรือไม่
        if IsInList(opponentName, RECEIVER_LIST) or
            IsInList(opponentName, SENDER_LIST) then
            print(
                "✅ ชื่อคู่เทรดถูกต้อง: " ..
                    opponentName)
            return true
        else
            print(
                "❌ ชื่อคู่เทรดไม่ตรงกับรายชื่อ: " ..
                    opponentName)
            ClickCancel()
            return false
        end
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการเช็คชื่อคู่เทรด: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Sender
local function AcceptTradeRequestForSender()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then return false end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then return false end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    -- Sender สามารถรับ trade request จาก sender อื่นได้
                    if IsInList(senderName, SENDER_LIST) then
                        print(
                            "✅ Sender พบ trade request แบบ Mobile จาก " ..
                                senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " ..
                                  senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then return false end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                -- Sender สามารถรับ trade request จาก sender อื่นได้
                if IsInList(senderName, SENDER_LIST) then
                    print(
                        "✅ Sender พบ trade request แบบ Other จาก " ..
                            senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Sender: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver แบบปลอดภัย
local function AcceptTradeRequestReceiver()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then return false end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then return false end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print(
                            "✅ Receiver พบ trade request แบบ Mobile จาก " ..
                                senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " ..
                                  senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then return false end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print(
                        "✅ Receiver พบ trade request แบบ Other จาก " ..
                            senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver
local function AcceptTradeRequest()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then return false end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then return false end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print(
                            "✅ Receiver พบ trade request แบบ Mobile จาก " ..
                                senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " ..
                                  senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then return false end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print(
                        "✅ Receiver พบ trade request แบบ Other จาก " ..
                            senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน Coroutine สำหรับ Sender ที่รับ trade request
local function SenderReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" ..
                          coinsValue ..
                          " <= 20) SenderReceiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                -- รอ trade request
                AcceptTradeRequestForSender()

                -- ตรวจสอบ timeout สำหรับ Sender ที่ทำงานแบบ Receiver (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print(
                        "⚠️ Sender (Receiver mode) ไม่ได้รับ trade request นาน " ..
                            string.format("%.1f", timeSinceLastRequest) ..
                            " วินาที (เกิน " ..
                            RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService(
                                                    "TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print(
                            "🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or
                        timeRemaining <= 60 then
                        print(
                            "⏰ Sender (Receiver mode) รอ trade request... เหลือเวลาอีก " ..
                                string.format("%.0f", timeRemaining) ..
                                " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                isSenderReceiverActive = false
                wait(2)
            else
                -- กำลังเทรดอยู่ (เมื่อเป็น receiver)
                -- ตรวจสอบว่ามี trade request หรือไม่
                local hasTradeRequest = false
                local requestsFrame = LocalPlayer.PlayerGui.RequestsGui
                                          .RequestsFrame.Other
                if requestsFrame then
                    for _, child in pairs(requestsFrame:GetChildren()) do
                        if string.find(child.Name, "^Trade") then
                            hasTradeRequest = true
                            break
                        end
                    end
                end

                -- ถ้ามี trade request ให้ override main sender
                if hasTradeRequest then
                    print(
                        "📩 พบ trade request กำลัง override Main Sender...")
                    isSenderMainActive = false
                end

                -- ตรวจสอบว่า main sender loop กำลังทำงานอยู่หรือไม่
                if isSenderMainActive then
                    print(
                        "⏸️ Main Sender กำลังทำงานอยู่ SenderReceiver รอสักครู่...")
                    wait(1)
                    return
                end

                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        isSenderReceiverActive = true
                        currentStepReceiver = 1
                        print(
                            "🚀 Sender เริ่มขั้นตอนที่ 1: Add Creature (โหมด Receiver)")
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 เริ่ม Add Creature...")
                            -- เริ่มทำ AddCreature แบบไม่รอผลลัพธ์
                            spawn(function()
                                AddCreature(true)
                            end)
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()
                            print(
                                "⏳ รอให้ Add Creature เสร็จ...")
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 5 then
                            currentStepReceiver = 2
                            print(
                                "   Sender เริ่มขั้นตอนที่ 2: Click Accept (โหมด Receiver)")
                        else
                            print(
                                "⏳ รอ Add Creature เสร็จ... (" ..
                                    string.format("%.1f", 5 - elapsedTime) ..
                                    " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking
                    if not receiverAcceptRequested then
                        print("🚀 เริ่ม Click Accept...")
                        -- เริ่มทำ ClickAccept แบบไม่รอผลลัพธ์
                        spawn(function() ClickAccept() end)
                        receiverAcceptRequested = true
                        receiverAcceptStartTime = tick()
                        print(
                            "⏳ รอให้ Click Accept เสร็จ...")
                    else
                        -- ตรวจสอบว่าผ่านไป 3 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 3 then
                            currentStepReceiver = 0
                            print(
                                "✅ Sender เทรดเสร็จสิ้น (โหมด Receiver)")
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                            isSenderReceiverActive = false
                        else
                            print(
                                "⏳ รอ Click Accept เสร็จ... (" ..
                                    string.format("%.1f", 3 - elapsedTime) ..
                                    " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn(
                "❌ เกิดข้อผิดพลาดใน SenderReceiverCoroutine: " ..
                    tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            isSenderReceiverActive = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

function TradeStepHandlerSender(step)
    if not LocalPlayer.PlayerGui.TradeGui.Enabled then
        -- ยังไม่ได้เทรด
        if step ~= 0 then
            print(
                "Trade ถูกยกเลิกหรือจบกลางคัน กำลัง reset step...")
            -- รีเซ็ตสถานะการเพิ่มไอเทม
            shroomAdded = false
            tokenAdded = false
            creatureAdded = false
            -- รีเซ็ตสถานะ sender tracking
            senderShroomStartTime = 0
            senderShroomRequested = false
            senderTokenStartTime = 0
            senderTokenRequested = false
            senderCreatureStartTime = 0
            senderCreatureRequested = false
            senderAcceptStartTime = 0
            senderAcceptRequested = false
            isSenderMainActive = false
            -- รีเซ็ตสถานะการส่งคำขอค้าง
            lastSentTargetName = nil
            lastSentTargetIsReceiver = false
            lastSentTime = 0
            step = 0
        end

        -- ตรวจสอบว่า SenderReceiver กำลังทำงานอยู่หรือไม่
        if isSenderReceiverActive then
            print(
                "⏸️ SenderReceiver กำลังทำงานอยู่ Main Sender รอสักครู่...")
            return 0
        end

        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue ..
                      " <= 20) ไม่ทำการเทรด")
            -- ถ้า coins ไม่เพียงพอ ให้ปลดล็อค main sender และรอ
            isSenderMainActive = false
            wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
        else
            -- ถ้าส่งหา receiver ค้างไว้นานเกินกำหนด ให้ลองหา sender ที่ว่างแทน
            if lastSentTargetIsReceiver and lastSentTime > 0 then
                local elapsed = tick() - lastSentTime
                if elapsed >= SENDER_REQUEST_TIMEOUT then
                    print(
                        "⚠️ รอเริ่มเทรดกับ receiver (" ..
                            tostring(lastSentTargetName) ..
                            ") นานเกิน " .. SENDER_REQUEST_TIMEOUT ..
                            " วินาที กำลังหา sender แทน...")
                    local fallbackSender = FindAvailableSender()
                    if fallbackSender then
                        SendTradeRequest(fallbackSender.Name)
                        lastSentTargetName = fallbackSender.Name
                        lastSentTargetIsReceiver = false
                        lastSentTime = tick()
                        return 0
                    else
                        -- ปรับเวลาเพื่อหลีกเลี่ยงการ spam ตรวจซ้ำทันที
                        lastSentTime = tick()
                    end
                end
            end

            local validPartner = FindValidReceiver()
            if validPartner then
                SendTradeRequest(validPartner.Name)
                -- บันทึกสถานะเป้าหมายล่าสุดที่ส่งคำขอ
                lastSentTargetName = validPartner.Name
                lastSentTargetIsReceiver =
                    IsInList(validPartner.Name, RECEIVER_LIST)
                lastSentTime = tick()
            else
                -- ถ้าไม่มี partner ให้ปลดล็อค main sender
                isSenderMainActive = false
            end
        end
        return 0 -- reset step
    else
        -- กำลังเทรดอยู่
        -- เคลียร์สถานะการส่งคำขอค้างเมื่อเข้าสู่หน้าต่าง Trade จริง
        lastSentTargetName = nil
        lastSentTargetIsReceiver = false
        lastSentTime = 0
        if step == 0 then
            if CheckTradePartner() then
                print(
                    "🚀 เริ่มขั้นตอนที่ 1: Add Shroom")
                -- รีเซ็ตสถานะการเพิ่มไอเทมเมื่อเริ่มเทรดใหม่
                shroomAdded = false
                tokenAdded = false
                creatureAdded = false
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                return 1
            end
        elseif step == 1 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print(
                    "TradeGui ถูกปิดระหว่าง AddShroom, reset step")
                return 0
            end
            -- Add Shroom - ใช้ state-based tracking
            if not senderShroomRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print(
                        "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 1
                else
                    print("🚀 เริ่ม Add Shroom...")
                    senderShroomRequested = true
                    senderShroomStartTime = tick()
                    isSenderMainActive = true -- ตั้ง active เมื่อเริ่มเทรดจริง
                    -- เรียก AddShroom แบบ synchronous และหยุด loop
                    print(
                        "⏸️ หยุด loop เพื่อรอ Add Shroom เสร็จ...")
                    local shroomSuccess = AddShroom()
                    if shroomSuccess then
                        shroomAdded = true
                        print("✅ Add Shroom เสร็จสิ้น")
                        print(
                            "🚀 เริ่มขั้นตอนที่ 2: Add Token")
                        return 2
                    else
                        print("❌ Add Shroom ล้มเหลว")
                        senderShroomRequested = false
                        isSenderMainActive = false
                        return 0
                    end
                end
            else
                -- ถ้า shroom ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderShroomStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Shroom ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                    shroomAdded = true
                    return 2
                else
                    print("⏳ รอ Add Shroom เสร็จ... (" ..
                              string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 1
                end
            end
        elseif step == 2 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print(
                    "TradeGui ถูกปิดระหว่าง AddToken, reset step")
                return 0
            end
            -- Add Token - ใช้ state-based tracking
            if not senderTokenRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print(
                        "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 2
                else
                    print("🚀 เริ่ม Add Token...")
                    senderTokenRequested = true
                    senderTokenStartTime = tick()
                    -- เรียก AddToken แบบ synchronous และหยุด loop
                    print(
                        "⏸️ หยุด loop เพื่อรอ Add Token เสร็จ...")
                    local tokenSuccess = AddToken()
                    if tokenSuccess then
                        tokenAdded = true
                        print("✅ Add Token เสร็จสิ้น")
                        print(
                            "🚀 เริ่มขั้นตอนที่ 3: Add Creature")
                        return 3
                    else
                        print("❌ Add Token ล้มเหลว")
                        senderTokenRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า token ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderTokenStartTime
                if elapsedTime >= 30 then
                    print(
                        "⚠️ Add Token ใช้เวลานานเกินไป กำลังข้ามไป step 3")
                    tokenAdded = true
                    return 3
                else
                    print("⏳ รอ Add Token เสร็จ... (" ..
                              string.format("%.1f", 30 - elapsedTime) ..
                              " วินาที)")
                    return 2
                end
            end
        elseif step == 3 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print(
                    "TradeGui ถูกปิดระหว่าง AddCreature, reset step")
                return 0
            end
            -- Add Creature - ใช้ state-based tracking
            if not senderCreatureRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print(
                        "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 3
                else
                    print("🚀 เริ่ม Add Creature...")
                    senderCreatureRequested = true
                    senderCreatureStartTime = tick()
                    -- เรียก AddCreature แบบ synchronous และหยุด loop
                    print(
                        "⏸️ หยุด loop เพื่อรอ Add Creature เสร็จ...")
                    local creatureSuccess = AddCreature(false)
                    if creatureSuccess then
                        creatureAdded = true
                        print("✅ Add Creature เสร็จสิ้น")
                        print(
                            "🚀 เริ่มขั้นตอนที่ 4: Click Accept")
                        return 4
                    else
                        print("❌ Add Creature ล้มเหลว")
                        senderCreatureRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า creature ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderCreatureStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 4")
                    creatureAdded = true
                    return 4
                else
                    print("⏳ รอ Add Creature เสร็จ... (" ..
                              string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 3
                end
            end
        elseif step == 4 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print(
                    "TradeGui ถูกปิดระหว่าง ClickAccept, reset step")
                return 0
            end
            -- Click Accept - ใช้ state-based tracking
            if not senderAcceptRequested then
                -- ตรวจสอบว่าทุกขั้นตอนเสร็จสิ้นแล้ว
                if shroomAdded and tokenAdded and creatureAdded then
                    print(
                        "🔍 ตรวจสอบสถานะ: Shroom=" ..
                            tostring(shroomAdded) .. ", Token=" ..
                            tostring(tokenAdded) .. ", Creature=" ..
                            tostring(creatureAdded))

                    -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                    if isRemoteBusy then
                        print(
                            "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                        return 4 -- ยังคงอยู่ใน step 4
                    end
                    print("🚀 เริ่ม Click Accept...")
                    senderAcceptRequested = true
                    senderAcceptStartTime = tick()
                    -- เรียก ClickAccept แบบ synchronous และหยุด loop
                    print(
                        "⏸️ หยุด loop เพื่อรอ Click Accept เสร็จ...")
                    local acceptSuccess = ClickAccept()
                    if acceptSuccess then
                        print("✅ เทรดเสร็จสิ้น")
                        -- รีเซ็ตสถานะการเพิ่มไอเทม
                        shroomAdded = false
                        tokenAdded = false
                        creatureAdded = false
                        -- รีเซ็ตสถานะ sender tracking
                        senderShroomStartTime = 0
                        senderShroomRequested = false
                        senderTokenStartTime = 0
                        senderTokenRequested = false
                        senderCreatureStartTime = 0
                        senderCreatureRequested = false
                        senderAcceptStartTime = 0
                        senderAcceptRequested = false
                        isSenderMainActive = false
                        return 0
                    else
                        print("❌ Click Accept ล้มเหลว")
                        senderAcceptRequested = false
                        return 0
                    end
                else
                    print(
                        "⚠️ ยังมีขั้นตอนที่ยังไม่เสร็จ: Shroom=" ..
                            tostring(shroomAdded) .. ", Token=" ..
                            tostring(tokenAdded) .. ", Creature=" ..
                            tostring(creatureAdded))
                    -- กลับไปทำขั้นตอนที่ยังไม่เสร็จ
                    if not shroomAdded then
                        print("🔄 กลับไปทำ Add Shroom")
                        return 1
                    elseif not tokenAdded then
                        print("🔄 กลับไปทำ Add Token")
                        return 2
                    elseif not creatureAdded then
                        print("🔄 กลับไปทำ Add Creature")
                        return 3
                    end
                end
            else
                -- ถ้า accept ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderAcceptStartTime
                if elapsedTime >= 5 then
                    print(
                        "⚠️ Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                    print("✅ เทรดเสร็จสิ้น")
                    -- รีเซ็ตสถานะการเพิ่มไอเทม
                    shroomAdded = false
                    tokenAdded = false
                    creatureAdded = false
                    -- รีเซ็ตสถานะ sender tracking
                    senderShroomStartTime = 0
                    senderShroomRequested = false
                    senderTokenStartTime = 0
                    senderTokenRequested = false
                    senderCreatureStartTime = 0
                    senderCreatureRequested = false
                    senderAcceptStartTime = 0
                    senderAcceptRequested = false
                    isSenderMainActive = false
                    return 0
                else
                    print("⏳ รอ Click Accept เสร็จ... (" ..
                              string.format("%.1f", 5 - elapsedTime) ..
                              " วินาที)")
                    return 4
                end
            end
        end
    end
    return step
end

-- เรียกใช้งานแบบ timer (ทุก 1 วินาที)
local function StartSenderStepLoop()
    spawn(function()
        while true do
            local success, err = pcall(function()
                local previousStep = currentStep
                currentStep = TradeStepHandlerSender(currentStep)

                -- ถ้า step เปลี่ยน แสดงว่าขั้นตอนเสร็จแล้ว
                if previousStep ~= currentStep then
                    print(
                        "🔄 ขั้นตอนเปลี่ยนจาก " ..
                            previousStep .. " เป็น " .. currentStep)
                end
            end)
            if not success then
                warn(
                    "❌ เกิดข้อผิดพลาดใน TradeStepHandlerSender: " ..
                        tostring(err))
                currentStep = 0
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                isSenderMainActive = false
            end

            -- รอ 1 วินาทีแล้ววนใหม่
            wait(1)
        end
    end)
end

-- Coroutine สำหรับ Receiver แบบปลอดภัย
local function ReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" ..
                          coinsValue ..
                          " <= 20) Receiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end

            -- ตรวจสอบ TradeGui อย่างปลอดภัย
            local tradeGuiEnabled = false
            local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
            if tradeGui then tradeGuiEnabled = tradeGui.Enabled end

            if not tradeGuiEnabled then
                -- รอ trade request
                AcceptTradeRequestReceiver()

                -- ตรวจสอบ timeout (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print(
                        "⚠️ Receiver ไม่ได้รับ trade request นาน " ..
                            string.format("%.1f", timeSinceLastRequest) ..
                            " วินาที (เกิน " ..
                            RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService(
                                                    "TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print(
                            "🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or
                        timeRemaining <= 60 then
                        print(
                            "⏰ Receiver รอ trade request... เหลือเวลาอีก " ..
                                string.format("%.0f", timeRemaining) ..
                                " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                wait(2)
            else
                -- กำลังเทรดอยู่
                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        currentStepReceiver = 1
                        print(
                            "🚀 Receiver เริ่มขั้นตอนที่ 1: Add Creature")
                        -- รีเซ็ตสถานะก่อนเริ่มใหม่
                        receiverCreatureStartTime = 0
                        receiverCreatureRequested = false
                        receiverAcceptStartTime = 0
                        receiverAcceptRequested = false
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Receiver: Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print(
                                "🚀 Receiver เริ่ม Add Creature...")
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()

                            -- เรียก AddCreatureReceiver แบบ synchronous พร้อม error handling
                            local creatureSuccess = false
                            local attemptSuccess, attemptError = pcall(
                                                                     function()
                                    creatureSuccess = AddCreatureReceiver()
                                end)

                            if attemptSuccess and creatureSuccess then
                                print(
                                    "✅ Receiver Add Creature เสร็จสิ้น")
                                currentStepReceiver = 2
                                print(
                                    "🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                            else
                                warn(
                                    "❌ Receiver Add Creature ล้มเหลว: " ..
                                        tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverCreatureRequested = false
                                receiverCreatureStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 10 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 10 then
                            print(
                                "⚠️ Receiver Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                            currentStepReceiver = 2
                            print(
                                "🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                        else
                            print(
                                "⏳ Receiver รอ Add Creature เสร็จ... (" ..
                                    string.format("%.1f", 10 - elapsedTime) ..
                                    " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverAcceptRequested then
                        -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⚠️ Receiver: Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                            wait(1)
                        else
                            print(
                                "🚀 Receiver เริ่ม Click Accept...")
                            receiverAcceptRequested = true
                            receiverAcceptStartTime = tick()

                            -- เรียก ClickAcceptReceiver แบบ synchronous พร้อม error handling
                            local acceptSuccess = false
                            local attemptSuccess, attemptError = pcall(
                                                                     function()
                                    acceptSuccess = ClickAcceptReceiver()
                                end)

                            if attemptSuccess and acceptSuccess then
                                print(
                                    "✅ Receiver เทรดเสร็จสิ้น")
                                currentStepReceiver = 0
                                -- รีเซ็ตสถานะ
                                receiverCreatureStartTime = 0
                                receiverCreatureRequested = false
                                receiverAcceptStartTime = 0
                                receiverAcceptRequested = false
                            else
                                warn(
                                    "❌ Receiver Click Accept ล้มเหลว: " ..
                                        tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverAcceptRequested = false
                                receiverAcceptStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 5 then
                            print(
                                "⚠️ Receiver Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                            print(
                                "✅ Receiver เทรดเสร็จสิ้น")
                            currentStepReceiver = 0
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                        else
                            print(
                                "⏳ Receiver รอ Click Accept เสร็จ... (" ..
                                    string.format("%.1f", 5 - elapsedTime) ..
                                    " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn(
                "❌ เกิดข้อผิดพลาดใน ReceiverCoroutine: " ..
                    tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

-- Coroutine ปิดหน้าต่าง CreatureInventoryFrame อัตโนมัติ (ทำงานเบื้องหลังตลอดเวลา)
local function InventoryCloserCoroutine()
    spawn(function()
        while true do
            local success, error = pcall(function()
                local playerGui = LocalPlayer and LocalPlayer.PlayerGui
                if not playerGui then return end

                local tradeHudGui = playerGui:FindFirstChild("TradeHUDGui")
                if not tradeHudGui then return end

                local bottomFrame = tradeHudGui:FindFirstChild("BottomFrame")
                if not bottomFrame then return end

                local creatureInventoryFrame =
                    bottomFrame:FindFirstChild("CreatureInventoryFrame")
                if not creatureInventoryFrame then return end

                if creatureInventoryFrame.Visible == true then
                    local closeButton = creatureInventoryFrame:FindFirstChild(
                                            "CloseButton")
                    local upperLabel = closeButton and
                                           closeButton:FindFirstChild(
                                               "UpperLabel")
                    if upperLabel then
                        local safetyCounter = 0
                        while creatureInventoryFrame.Visible == true and
                            safetyCounter < 30 do
                            Clicked_Ui(upperLabel)
                            task.wait(0.1)
                            Click_NOW()
                            task.wait(0.2)
                            safetyCounter = safetyCounter + 1
                        end
                    end
                end
            end)
            if not success then
                warn(
                    "❌ เกิดข้อผิดพลาดใน InventoryCloserCoroutine: " ..
                        tostring(error))
            end
            wait(0.5)
        end
    end)
end

-- ฟังก์ชันหลัก
local function Main()
    local success, error = pcall(function()
        print("🎮 เริ่มต้นสคริปต์ Trade")

        -- วาร์ปไปยังตำแหน่งที่กำหนด (ทำงานใน background)
        task.spawn(WarpToLocation)

        -- เริ่ม coroutine ปิด CreatureInventoryFrame อัตโนมัติ
        InventoryCloserCoroutine()

        -- ตรวจสอบว่าเป็น Sender หรือ Receiver
        local isSender = IsInList(LocalPlayer.Name, SENDER_LIST)
        local isReceiver = IsInList(LocalPlayer.Name, RECEIVER_LIST)

        if isSender then
            print("👤 ทำงานในโหมด Sender")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ sender (สำหรับโหมด receiver) (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            StartSenderStepLoop()
            -- เพิ่มการทำงานแบบ Receiver สำหรับ Sender
            coroutine.wrap(SenderReceiverCoroutine)()
        elseif isReceiver then
            print("👤 ทำงานในโหมด Receiver")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ receiver (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            coroutine.wrap(ReceiverCoroutine)()
        else
            print(
                "❌ ชื่อผู้เล่นไม่ตรงกับรายชื่อใดๆ")
        end
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในฟังก์ชันหลัก: " ..
                tostring(error))
        -- ลองรันใหม่หลังจาก 10 วินาที
        wait(10)
        Main()
    end
end

-- เริ่มต้นสคริปต์
Main()
