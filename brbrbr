-- ตัวแปรสำหรับรายชื่อผู้เล่น
local SENDER_LIST = {'hcnrskri4034', 'uipt67sain16', 'zvil01kuyw36', 'vbyztzdw8616', 'nzit59jeoy58', 'ttgm02tjyi44',
                     'ogyh26undm44', 'uocd11pbyd31', 'nzay51fkrf28', 'tfpp63ntwe61', 'svlv08lstm50', 'tifx61nady02',
                     'hcie15xqor04', 'qusc72dpih24', 'boxtxwjq2759', 'btjt39lmlv06', 'mnprvvco7614', 'tcinnqck1721',
                     'geif82iqdh87', 'qilr83vfjk42', 'hoig65kqqp63', 'yeshgfco9911', 'umzz64tnua89', 'kllq70klgk55',
                     'dbbb04lfrp76', 'wersxpar8365', 'lxyj10hkvd46', 'batdbdbs5171', 'tgvorqmb7844', 'ifzjjnzk9191',
                     'phgy79rpou02', 'rsoj41rabx23', 'nryhzlpi7208', 'rrhkmmcu5458', 'szjh05kcdb56', 'zypnkdaw6657',
                     'luqwevdy7243', 'cyfs34sjsh76', 'lwgjzouv8467', 'fjhr71hvuz26', 'wnwkqwoa4339', 'kkbzciep6376',
                     'hbmqyyno0638', 'ikpo18jpul89', 'farx50zaqw81', 'dgdqbrjm5317', 'nvgnllgx5838', 'puxl46zgrl00',
                     'ypzj46ukiy46', 'rmuyhbzz3270', 'yujzccsy9346', 'ildtllpz9385', 'wgkn68zcbc76', 'kgexiqow2793',
                     'uckn98qnag59', 'gjvackfo9601', 'hovc67guvm33', 'gqzujshf0648', 'bvtqpfeq7483', 'jizgydex0726',
                     'llohfgir3629', 'osca03odhc09', 'derm43kavk24', 'cnqygdvj9186', 'ldkz64ddoy76', 'drkl12vrdk99',
                     'xjzgdfwo1398', 'nyowtvtj5635', 'jcjt58jsjs81', 'whgukatf3876', 'jdgw54hcbf09', 'xpii59xtji10',
                     'fmtskrej2964', 'frfh29hrxo16', 'qrbpmlqy1486', 'ryfj91oshg10', 'tppz61ulyl15', 'ddwbfvgp9146',
                     'utpcvvjb1397', 'aamy41pfrp55', 'menc38abza33', 'xtgn54cgsd56', 'asphkaxa1456', 'tcallzel2610',
                     'evbw06gpxd64', 'qomq70rudb50', 'vytukvvi6715', 'tkto95ccbr79', 'hapkzvry4260', 'ltnt56zfeb89',
                     'iabttzlw3830', 'pthv37vbtn70', 'bqsw20snut60', 'phrvwwec3934', 'paam39kgcz07', 'zmwmmmmb9997',
                     'cwsv42szwv09', 'xnxk75qdsj54', 'rxsz83xdej91', 'pebtbsvq9505', 'pund77xfgn90', 'dogy20kvfo24',
                     'fkpahojl1225', 'dfhr24iwio86', 'xpkh98wtcx90', 'zqabbylv9060', 'alqe11jjpw04', 'wmjrziqw6665',
                     'dslcywvx0410', 'mmlwxcnj5897', 'atpiaaqd2763', 'mnhe43yhxr40', 'hyhmuzxj5256', 'ajlg64nkhb99',
                     'ygej94quvp34', 'ursg03hivm12', 'aetx44ofyp64', 'anga76stbv87', 'ejankyga4000', 'fivb15vkxv32',
                     'sopp10pkoe95', 'jyejrtnq1520', 'wfmilyda9450', 'kzqe94wlgg62', 'ootm89zpwn78', 'tkuz59fvtl66',
                     'otkhzduh3510', 'rduvzpam5719', 'dvtywaxc5292', 'yznu99ieqp73', 'qazj85dqee38', 'iduu51wvcg46',
                     'xjpi90dmby58', 'kduhijcn7600', 'bzpg60llom81', 'opdg72infc11', 'zwfdoczo7128', 'rhudmsiz4884',
                     'iunodgqz8931', 'znme95ojbo31', 'jgoujvtg7088', 'plwpchvp8354', 'kcgbkufj0398', 'vlerejbk5835',
                     'xiuv32oeok02', 'gbpkkcca6503', 'txim61eyoc05', 'vwia63vxuw67', 'ewwk77enfs07', 'mocy65ehal80',
                     'oiar61zxxb39', 'hagp32tizc62', 'ewuv22csni68', 'bkbhgxeh2984', 'roun34wdcp01', 'jamixrsl9371',
                     'uziumwra7954', 'yurn43kiai74', 'waee40uozr97', 'ahaa56shjm30', 'boor19vmsx60', 'wgfb60mzuz82',
                     'ivyf78fuub39', 'qosp91shot59', 'ioibszjg3129', 'oqhx60yjmr91', 'xzfdrmor5797', 'nfquplmt2759',
                     'mdnqqzuj4803', 'wexx01safl20', 'urqh02qagd03', 'mibpuvwg3890', 'cihv00qlpg14', 'zkue95kmfx94',
                     'rmck76tolc04', 'rfee54nsoo42', 'gbekynwh0596', 'vieq62vqkv38', 'anym25crqo42', 'kajs02enuo36',
                     'cuxv35ocel36', 'ycyqhalx4523', 'fydrxayr4378', 'ciwy70clcz87', 'oqlpmhns4108', 'tdsm16fwvy57',
                     'yiziqovm0097', 'pigd58fbca14', 'ldby82obrx77', 'mxpo33qvev42', 'loanepys3546', 'ooyx30rawv14',
                     'xdom32cwah76', 'evsg05riqe74', 'trrs34hfdy77', 'bzkx30kpyc89', 'lpcknjdg3759', 'glegglmn8182',
                     'qbzt14dbfr12', 'rykabdnf3132', 'ohquerak8061', 'sdbx76iaua64', 'cfwtjsxv7652', 'icka06pwby64',
                     'lecu27legp27', 'epcicxnf2060', 'afhqsukj1833', 'ndnkgawk3184', 'mtudefso1263', 'bzau23qtxn92',
                     'glmmjzui1574', 'jecqgohi2294', 'siyg97ilcq95', 'idbc77asgy21', 'zvntowih2158', 'rucc57cahn12',
                     'bnbu87rpil30', 'rttbbroe9151', 'wgdq53lqpv68', 'fivrsyzx3457', 'vacbisjt8183', 'bphmonvi5201',
                     'lerp33qzdv28', 'derz31xvkw58', 'bwvfzkeh3947', 'vozdkjgp7807', 'dsjj11gqkn96', 'khsakdkz4427',
                     'dnqq46vxhn21', 'bkyl75aorv82', 'wxgt61pxyq78', 'edyy93gocv41', 'lrbg37nzcd92', 'oghndhah1425',
                     'czfoaoeq7924', 'hcgibdtc3368', 'bpfetmbc3244', 'tcgy53rmpe07', 'hmewmbuc4146', 'builmgqs3286',
                     'syay67uvni20', 'xzvoxljz9736', 'dimzqbep6426', 'ldyy43aoud97', 'uwqr23lkii38', 'vrsy98aipl68',
                     'vxhr65wmjl18', 'svvfbggg8135', 'wmlotmfo4939', 'wpkmntbj7127', 'twyd31yudh29', 'emwb24cqdg55',
                     'idoyzsqm8437', 'nncagrtp8788', 'lusrmqxn2822', 'ftyrkqqk3730', 'yqjj74sqwo30', 'kkxj99jxrz98',
                     'twpe72gnpz72', 'oapxifir3960', 'tmyl29kfkk26', 'mqgkxdob0346', 'zisxamly6856', 'qusz06aqho36',
                     'wfay37firl42', 'wfoxnvae1218', 'ajidsqlm8035', 'bvxt50dtgh48', 'qnwg37tbbm16', 'byry63kjiz93',
                     'ybxdcifn7415', 'dxwc91sewc18', 'lxvipqlw3281', 'xtrzvlen3899', 'usrpjsmr0187', 'gkyetjra7391',
                     'uprv27xqtl27', 'nfhz02jdjs38', 'djht73sjja49', 'guwjfems8427', 'zvdq66jizy41', 'atid17ltvd50',
                     'mlbgrhin3885', 'caip87fmiu56', 'fhax39ylso61', 'uyhs45usqi48', 'vlpngjvr6356', 'rebfpsmk8584',
                     'ypjzojnd0931', 'nwvoqdag1509', 'ciec35zffd41', 'nvfgvsje5917', 'twnsyxgy6149', 'rlybfrxa9754',
                     'hdwdobvg9700', 'lhmj86osyi02', 'wsmbqvsc0152', 'tbcbdscs8273', 'vohw39wtqo09', 'irrurexd8820',
                     'viboduxa1095', 'ydfzabkj8506', 'dqtw20iqtf66', 'jwzsttzd8430', 'esjg05dnwa75', 'scab81cufj01',
                     'mdwz15gwjj48', 'rurt22popm24', 'myzo89sadm38', 'kjee06krks55', 'bygzoigj2907', 'ikcaprpz4574',
                     'mxjy07alxr28', 'shnx28axtx68', 'tbljxlxg5054', 'grnf70pkna26', 'weaf32fsiy51', 'vbtbymda0463',
                     'idsekdow4751', 'ibng00wjwi59', 'xrck72xsgv80', 'qvrj29nhtf68', 'echr61zhbg73', 'ppcibkez0804',
                     'ywhtncco6444', 'uolx49uehg21', 'wxhc90mxis75', 'phwptacy2375', 'kwvz68gnek93', 'vlkacckq5350',
                     'nbcj22aqfj45', 'wmujmmkv6060', 'ecmz54osoy61', 'qbjsguje9496', 'cwrl14snnm45', 'hzgzcwel0058',
                     'qptk74aynp99', 'gzvk02tvpb33', 'greo57rlzl56', 'vjqk76tfib62', 'cvdceyib0397', 'oqsm42rktf63',
                     'uqcu85sdqh51', 'nqck65fbvq35', 'ezrs71lhlt08', 'cbzx74vqyu35', 'uccd32zoxz35', 'tmkh87ibgd61',
                     'nzri96ciqi48', 'ouwilyzp5505', 'gvpy32glxz91', 'mnbulske2252', 'rrml49izaw31', 'fgny52awcg59',
                     'fcfiqqir6144', 'usfi81ndgi51', 'riig58hkap13', 'seve34iqmu65', 'uoorovre4527', 'wnjv50tkfg58',
                     'flno99hgfe89', 'ylxioxds8821', 'ziai72yhfd71', 'bowq01lexq41', 'gnqxcmwy9449', 'egxf52cfdv76',
                     'vthb34vasa24', 'ckictpjv9587', 'vagfjeph0260', 'geeffudv7593', 'uzagsheq4881', 'xqrtibxs3430',
                     'hyqiidkd4072', 'shmaxmed3307', 'fpeskefo5391', 'rnve94iqrk84', 'vhzv74sczy00', 'wlpn46krlq18',
                     'pcbqimja3480', 'jjib43bvlh24', 'zldq70slni18', 'pvjt09ascp19', 'Loletarxbgl06162', 'bcbiaolt1393',
                     'Taniiqxhv97883', 'djlkdsbl2752', 'dqbm72brjr01', 'Hazelttvgx63277', 'kfoqpbwk9426',
                     'ulkv33anhx38', 'kttxlcna0108', 'Murialjsgde63790', 'xsrw31hwpy09', 'vkpf86miuj05', 'jade85bglw17',
                     'Sabineevdnk79657', 'Brennaqlpzd69527', 'Ondreazzhfh85657', 'ivvpxlbh5036', 'lgub29jetg85',
                     'suvo11rhut52', 'dwvk57sukd57', 'mjoz65kldi22', 'qoywdgki8516', 'ynbxclwj0775', 'jnwn37incj47',
                     'nbjw05kqlr60', 'llyjwuul4945', 'kzxgeijj5831', 'lrvy64wxxr17', 'chyuebbi8402', 'vmouypur6222',
                     'gjem73umaw71', 'rkvrrjzj5437', 'xfaj50xzhj53', 'hwltjkpe0412', 'zperzotd1556', 'dqmnllmy1728',
                     'qfwkpwhf4378', 'dpyv56krri82', 'uypyuuga3409', 'htyvzimb3201', 'nbzwsdko7888', 'kane81pyjm82',
                     'hbqpxjvk9624', 'jvud48xxyo62', 'jyvg74hnzx66', 'wjtr09qowf20', 'isff36dpvl16', 'stugaoou3399',
                     'sedg65lcou67', 'hlmmtsmh9119', 'lkqi12qwpa66', 'oijv46iiaq37', 'kzmzkbbi6638', 'kmww92pjwj58',
                     'bsnz89thbe81', 'pvpssygn7757', 'gzkx20aica97', 'bpph43zczi89', 'Trudystpgp67050',
                     'Nertynhdnn74209', 'Tildihutkl70526', 'Debeeqmxut83771', 'Ettyrisdv77823', 'Annysqqre15085',
                     'Mileaqwb15924', 'Myrtiasjhsp51486', 'Tonyeztiry13998', 'Cicilypwakh63205', 'clqb56ggsm62',
                     'ufhtfzcp6777', 'gubrnard6430', 'Kimmlhsw84620', 'Leneerxcfm92327', 'wfndcfhr2497',
                     'Carmaiiagz16878', 'Blissepavdd12018', 'onpeqjoj0923', 'chxzmgfr6241', 'Jerefnryr63071',
                     'Sadagjbue49213', 'kaskxkqx6508', 'ipok03kxzw13', 'jfunjqpt5261', 'qdds90xfnj05', 'wwnigfim6726',
                     'Trixiebwydw17942', 'ptyu30yalv28', 'mnhbusue0380', 'klqfxale2461', 'wllduaos1679', 'nryv13wipl52',
                     'nspd68yuso46', 'mgdkmpbw3993', 'fvhylgqk9592', 'qhla49xcek54', 'pxjl64allw37', 'kren99ehhu46',
                     'fyrsfqzw8822', 'xdol63gkau34', 'itntxhry1284', 'thwwdujk3391', 'bpmxkbsz6250', 'wmwxskyb8392',
                     'vtxucsyp9717', 'mqggyqqu4438', 'nyhngntp4546', 'fosaznlw7537', 'pnay68tjvf57', 'scykhzur3842',
                     'gopczkln0468', 'oqqz94mwzr78', 'urtr89ktgs14', 'jmho89fkkq24', 'hthy05fdap78', 'vzzmutda9161',
                     'zfivalfq0786', 'irqi16geag60', 'wzcmkpea1775', 'ewxopehg5356', 'xcvj74pqem50', 'lmlwypls6372',
                     'rcfi87bveh48', 'mjnr57kruy14', 'bzlo25jrbp55', 'gvmrfrig6667', 'wcemhmdj3458', 'tjjepldc4922',
                     'vhwitkxv4555', 'jgdnqgcu5930', 'ryfj61gbyk37', 'yhywirmp7300', 'jdujbysc2311', 'ydbhtozt8230',
                     'ocok72icuq18', 'igzawiqo1211', 'gacvhyug5716', 'guyemwrq6755', 'ceqgsbak5895', 'eqzw89fzae51',
                     'zsla02jmzc96', 'pfxo23ojgo52', 'rajulfkd7649', 'sfow00pqhx99', 'ellfzbpm4865', 'ngli41jvmg56',
                     'qste31oztr22', 'rjtdhtbk8470', 'vsqkykrt7292', 'hqweqhkk3939', 'npke37smex40', 'afyorego5678',
                     'urog10ekew82', 'gxal80fmls77', 'vlywhban3808', 'aqsh86dweb95', 'qlrcfegi3878', 'uryxwhqs6187',
                     'lilu25lzlr38', 'msju60qjxz68', 'vckv58whuc91', 'alidsyqh8708', 'vmfiewzd5324', 'ecli48itdl25',
                     'bviupzvi7213', 'kdri73vbrk37', 'mvshbyrp2377', 'agak28kbsm77', 'asnm25wcey55', 'nfce05ujaj32',
                     'kvkfovhv5882', 'yhtyauvk5164', 'ialxtkns1152', 'gdjk06achd47', 'xhbb43seaf43', 'glrjzcnf9526',
                     'atfteggm2277', 'doohspqp7230', 'phsa04gfcb57', 'kila01zkgg28', 'lzdx39vsov36', 'pmftfurb3898',
                     'mvae25qswu85', 'qqnp53pwap53', 'sbmm59fnad81', 'khhf06ydsm13', 'cmdo44dvlu79', 'veow92vcfp98',
                     'gbte68mzth84', 'qhwctbww1016', 'cbbzfywq2393', 'vicroqhs1792', 'crrd42rjgs66', 'esduygih3712',
                     'nzws23wfqo80', 'vppm29yqhs15', 'rksj91mmqu51', 'wrlb91omdk58', 'bzgn93olny93', 'dgloviwh3529',
                     'qcinmqmz8454', 'pcsa97satd23', 'owtv81ppaj67', 'csau97jfvh18', 'jfygrlgq5535', 'lbrl05vjtf16',
                     'zpylvpev2411', 'ajnw99pgcu65', 'mufaxdmu2788', 'rhhwzvgj8601', 'mzbf88bqrj42', 'ftif43ysxo55',
                     'vjfw20onnf04', 'bafmmnuq0411', 'zjgu60fmch17', 'nwfeumei5373', 'xlqicaih1644', 'svotqmil5199',
                     'cvgjlbdd6750', 'zjscolmi0096', 'wjlsprvw0178', 'rwzs57anpt59', 'mldpnulf9236', 'xtbz82zets30',
                     'maenoqui3689', 'wfbxjbjm6788', 'ryrv04yfvb54', 'turx08zgdr76', 'ixxaseww3930', 'gduxjefu8532',
                     'yjheujii0020', 'sbueznvr8088', 'ohdyxras8702', 'fhpwehar1922', 'tunpbalr0476', 'ywbpkugo2904',
                     'txve08kuqv59', 'bbeh67clzg48', 'dgyapqfs3503', 'fvqbapoa0361', 'nhgsdllq9310', 'ysax21gefw07',
                     'hwnq44xokp42', 'iocpxlku7991', 'nnxfsvxz6315', 'gonfzisz5426', 'jlrtuvfa7097', 'gtwymykc1195',
                     'kvzx22bpwi81', 'ahzg56gbky46', 'loclujbs3735', 'nuey08wkdx89', 'divytvkj5760', 'azdi16wosb73',
                     'pmvf44hhxx04', 'wwqxgghs0987', 'jxft80chox31', 'zcerfzss2743', 'Fulviafnmxh91836',
                     'Kooicdor33768', 'Ematrist67618', 'Petabbjlr14972', 'Staceyffgi20117', 'Daynaqxpdz52673',
                     'Leakznet05691', 'Noellassuam11454', 'Koraufbrg63373', 'Dionisxqjsf37522', 'Fancymxlie86677',
                     'Kaylekssgr19723', 'Miranhakpn60836', 'Renaepadpf31444', 'Mimihgxxu94427', 'Cassyupxle13418',
                     'Wilonerdtaa39681', 'Rebecadtrgn36923', 'Adrearcrmh24764', 'Codydvdja98233', 'Yokordzor66413',
                     'Dionesishk02688', 'Corrinyklw68778', 'Ionavfnzj15215', 'Tanidryjn38135', 'Lyssawpcdl30227',
                     'Ditayyjpn45290', 'Rubiakgqbv58070', 'Brynnibkxt82538', 'Valergkyc85513', 'Rasiazbgwm26796',
                     'Kaciedutct39104', 'Thiarbgbh41095', 'Adoreeltkcr95112', 'Brendajhlrn11837', 'Mattieiiewx99715',
                     'Dawnblvep43008', 'Beretnqonj54661', 'Ednadxrbd36230', 'Alizawrkyx36361', 'Genniegtjia20146',
                     'Noniezogyb33236', 'Tandioygnf61802', 'mejj47fxcj30', 'exaoizce6303', 'bjxzbkgz0822',
                     'vgcqsyhn4421', 'voxqzpyy0910', 'xmlbhmrn6446', 'encx89hosk03', 'zeogtuyc8642', 'dmbd15lrni73',
                     'envsewhj7658', 'chlhjvgt6394', 'tive25gyul51', 'cqgqqtds9632', 'cgbv47bskb97', 'gqopwtfr8978',
                     'eqhkozql9228', 'unffypfe7789', 'lclxoobc5613', 'impevauy8203', 'xlktlpws2739', 'burn99cohe83',
                     'vyzrbqmw5878', 'vgaz28sazi81', 'xacwhtlm7919', 'sphy28syhk23', 'izhrhiyx5507', 'lhowjslq8731',
                     'yxpbjgnm7765', 'opzk66kqvc09', 'kcbijzzr3681', 'mosouvho8793', 'lfclcpux9166', 'guggdqae5010',
                     'czsqirhx8200', 'zczlqjzl9229', 'nkzj49vcsn16', 'oyum92sjqq12', 'glttyjxu4986', 'joie36ykym32',
                     'jnub40nvgo09', 'gkybtjsb3276', 'dxtyaiww4487', 'hlesumwb3030', 'fvpz87kqgv64', 'crsozzgp9758',
                     'yurzwmcg6242', 'tzmfyesx2304', 'zzub08pekb13', 'clessalw8656', 'wwgzsozv4721', 'yuflbiha8142',
                     'onbptipy3284', 'nwya81pgfu75', 'jkwx90wlfg58', 'kaymxxnn2758', 'rtfi62resc16', 'hrussaad9025',
                     'zwcc71vahb57', 'nokebjbg5450', 'eixk64voxa17', 'zftrnjpl5651', 'bociqpzp6436', 'zzqluaca3777',
                     'cxwndxaz8001', 'eubx06zeqo44', 'tqjctdtz0500', 'koyr84fdhp22', 'qerqcyyg9205', 'azhzwuye6707',
                     'pbzectrv1160', 'doel28krra56', 'dqcavbxg3134', 'opdcqcap7900', 'ohtn51abgt80', 'ogpxvdrw1828',
                     'bugo82lmzx82', 'mxaj54ufex12', 'fhysdlzv3381', 'jtlbxuye0091', 'rrxv47qlda39', 'jehk06zapj36',
                     'dbok78nyxi87', 'Sibbygfjqq46074', 'Carolewpgyr81012', 'Nonnauifhx58460', 'Tildasczgp95268',
                     'Elseydvnao26060', 'Lucinatxmag98019', 'Vivabwxt69482', 'Joliwdlzh36420', 'Lyndyehghu99055',
                     'Vikkymfnyk11368', 'Hildegxcnm19124', 'Florrimdipg05202', 'Sharonswntr35438', 'Alladuyjw71063',
                     'Cissywsghr58543', 'Marciaxqjgj37273', 'Neelyjuuuj05348', 'Rethayxpom24912', 'Tallieuwkps65271',
                     'Corieeaouy25021', 'Illaoswug68619', 'Viyclgo50938', 'Mornawtzhw88218', 'Ronnaptqqs14943',
                     'Thaliaezkcq65100', 'Traceelvibr20234', 'Thelmarmfvg32533', 'Bennyqjwaz46527', 'Tamrakfhtm02449',
                     'Jorietnnrd11803', 'Nomitqbim31723', 'Frankolijf03757', 'Freddywhckq61136', 'Taniluksj77642',
                     'Lorensxtoc32269', 'Kelleyjnuep36765', 'Mattiejgjna21354', 'Zitadjnrh64287', 'Marenbrrfs50352',
                     'Kattiecgudt62365', 'Annaccngm55815', 'Codifkiql31498', 'Goldyjsamt66784', 'Darbieelwkc12587',
                     'Kalieyewtp23205', 'Rinanjugq60254', 'Umekowzuso53373', 'Kaiacylbu82258', 'Teddieajdjb64758',
                     'Karolabwivn79455', 'Dyannahophr60269', 'Orallerqopd87555', 'Leliadopbv44498', 'Pennywanxc08284',
                     'Kassiapttdp44091', 'Janisldhlo11892', 'Binniewisay25191', 'Bernixrgxt51519', 'Meadfsejh63346',
                     'Dulciemqqdw23937', 'Bobbyeaftsc43459', 'Lavinaxdfbo80554', 'Eliebawlj53154', 'Andreajrrbe39575',
                     'Kippiemihte73806', 'Hazeltjbsr69647', 'Joellazjtsb04940', 'Dorispvrlr79778', 'Rinacjcfp07249',
                     'Kyliefumon03128', 'Eddirbtqs25072', 'Hallieqsnaa72488', 'Ollienhjcs17788', 'Bessyytfia46553',
                     'Lucycwpcx15658', 'Rivkahbbton34722', 'uarjgkkz5216', 'ysdm83mkre61', 'qnoz27aflm49',
                     'rrphpcck8073', 'mpas26mwku18', 'dzsjqcsi2750', 'queq24ixve70', 'bjongpbh0513', 'liuh25yeng60',
                     'vgwmujzz9585', 'hfbg95ptff56', 'dutg14yewy82', 'okst85pztr42', 'yllj83tsgg23', 'aedl49lbxm23',
                     'euvobkgj8579', 'bbprhhyq8201', 'lbng42dlkm18', 'mhuw16rhdw88', 'torhqjhq9182', 'phbcfben6630',
                     'lhox01oeds54', 'vnaqsleh5740', 'poib91wbte88', 'xfil43xhrs05', 'vtwreqkj1507', 'mdoeefpw8324',
                     'vgzzbkam5939', 'mqjh24zyxz06', 'uiyifrxo8190', 'afarpukl1628', 'sqdmfmeg6141', 'kxcwwfsi8725',
                     'prjc74frok49', 'twda52rrhs18', 'slfl65xooa27', 'gihg15xgvx66', 'foppryoc2570', 'xlymohse4158',
                     'ftsx11bhyp11', 'qrxttxys2612', 'Sabinegyhvr28801', 'Jobynagxylt74411', 'Noamimekhu54860',
                     'Jeaneutcvp13175', 'Emmeykcpko79314', 'Dardaoathi77562', 'Adelepxdek12323', 'Candieimfim05458',
                     'Erminadosfd11477', 'Edithauhdhu74613', 'Lisaiezbg70803', 'Kielexptvr50505', 'Blondylflww52625',
                     'Marniaeded07756', 'Sharoncdfsw71747', 'Tanabfhau41684', 'Georgetndjo55087', 'Lonioidwc13628',
                     'Minnieowrrq72412', 'Georgejzink43044', 'Maiakplhz71422', 'Ardeenlynqi27764', 'Sonjaiwrwu17985',
                     'Rhetazryrv26736', 'Phylisoolmb71665', 'Kajatfwlx74025', 'Devinaqjoyg44443', 'Venitahpfyr75412',
                     'Zilviawgius79980', 'Andybzbgy87597', 'Ailazornn19463', 'Neddalwtbr58318', 'Reyowxju25255',
                     'Lusaufdcd74396', 'Joanieinkkf96193', 'Pavlagdkvl92281', 'Rickiwmsti94781', 'Nevsagpsvq16955',
                     'Abbimjfgs20457', 'Karolahnrgi26298', 'Danicenfbkq00943', 'ctyibsfn1661', 'udbi46pwqp59',
                     'erpwufis6037', 'ymgvlyrt7042', 'lzolpjdu5163', 'berx18pxox83', 'kxte95celu20', 'mizraoiz7584',
                     'gojt71jzhs12', 'ycgq96sylm91', 'riykwshv9103', 'yozt59wztu48', 'jezdyunm5448', 'gidp01mqwr94',
                     'kwwt74edff23', 'gpmvzgmw3358', 'eukz00fwfb98', 'jqvfflrf0791', 'tbqcbiib3811', 'kselzmoq0148',
                     'rspw98olth71', 'hxzeywnp1252', 'fore11fqsv58', 'gdeosnrf2218', 'funa03helo38', 'rdivoase9256',
                     'rhai95opdq63', 'srff82mioa77', 'ifawoxzb5316', 'qokarfsl6489', 'tavlshqi7557', 'yqtweoql5725',
                     'tzdz82cgcr66', 'qwmi09inho96', 'jklkqjgf5563', 'ahxuwsfd7142', 'gikw26nozq26', 'ynxkcpfk7568',
                     'wazrjioj4477', 'ycds38hymq38', 'ruol72yfay71', 'qwwp93aqcb01', 'nhxzwxsz5380', 'wqmkarqf0760',
                     'utin80cuor63', 'xckk32gwhi09', 'mxklsajn3424', 'nfkswqop2624', 'itje07yjib01', 'zrfevhwu1892',
                     'bueyllbb1217', 'pbdbppwy9088', 'nztm70crus90', 'qyxb72guef24', 'dgqsvvvj7544', 'iaky81onku91',
                     'hyyv14hrfy62', 'itgh64nwka09', 'qfxc11uhqs36', 'pbra37aoaf05', 'yyxs53jlxf88', 'smhyrnpb2585',
                     'aoryqznh5710', 'duoo86nuog40', 'ytzz14wpzp22', 'fsbq80tbtp33', 'yxrm29zdlp84', 'egbm15fyft08',
                     'avgigrwn2205', 'jprg11mbvs56', 'hjzr15eypv96', 'lhrsfnbi3923', 'wypyuohe6560', 'aohcyqwk3885',
                     'sjrb23mvui36', 'rqls98txnw28', 'mqjq48wakw98', 'hhdl40cjec61', 'czbg67vgns95', 'tjrljgqk3844',
                     'gnrdeepy0131', 'jjlm70tebr27', 'zvheetzv1467', 'mwiywbbz3678', 'smxo27hnmi92', 'ygtkdwsn4448',
                     'xlxv36nwwn42', 'qnlb01hgaj22', 'fzkyyxwr1354', 'hoxb12yiny85', 'fqfolxqg4325', 'anfk89hfcc92',
                     'huaihsnm2539', 'wzrkhsan8090', 'atgh81wggw17', 'asaovmrk4079', 'qeea36sfcr90', 'jhppqkfq3736',
                     'zywsrttz7206', 'qupu77uxnp25', 'krgf02hcxy91', 'udnkfvmy7107', 'htroyknj6451', 'gcpfhgzi1422',
                     'ffhadnrw3782', 'lnfxuznk3748', 'vebi25rtnt62', 'npbdgzuf6443', 'zotvezcs4499', 'ivbu12sbwb23',
                     'wnuq19cgab25', 'kkijevur2193', 'sqqb38rqpa02', 'bakw60ftcq28', 'mtxu59wfgn16', 'irxtcxqo3541',
                     'qdnuizru5336', 'csxqfxkt5827', 'smxe22louo56', 'mvpmvidg7033', 'czxfpylb9560', 'ppzogkrj8183',
                     'acnu06duni56', 'imwi38cinq17', 'ykkxzwks9249', 'homhvyci8598', 'bjpeknuk0278', 'xyyfkosu2215',
                     'niff43siyt23', 'fdgr23ftob00', 'lbdnwfbg4441', 'ivoftkkw8010', 'ezzv39wzmb62', 'asnj40gqvv71',
                     'mctzyjgd3630', 'crrygqgk8244', 'jchx84sekg20', 'mymr73mpil04', 'qrmc76zumt71', 'dhys32qips08',
                     'vlgs51afna86', 'pnpl63prjq18', 'eygt54ucli62', 'smtn42vege72', 'iwcc85rkby19', 'hmmxbbpy7678',
                     'dnepoagr2106', 'kksmnmht9427', 'fjqi55ifmp28', 'ldsbxkpj2980', 'pqqp03nyat07', 'pwyrphka3375',
                     'ocoynllr5062', 'ienpmvzj5522', 'dxcg30egpp37', 'zxpy50tbpu40', 'ndivsffo9707', 'tpdy38jole68',
                     'bzawxtyt4711', 'jdbjgdgj2295', 'fuwp75bqos63', 'xoaiujwp2356', 'auzfoskb4904', 'ahfbksqi1773',
                     'ikrebxob4885', 'mkbrfbxd3803', 'qfqx79mwfh58', 'xgijmemy8160', 'wpru89qzpw63', 'cyurbhxp0002',
                     'eijv96bnvu03', 'pbsudlqv9922', 'ovbtmwei5945', 'mqoiboyp2983', 'abtw21hoha43', 'bnbe77axlw32',
                     'pcyc37drvd66', 'zqhy76fvtb49', 'fcoa54jadr76', 'wkyy92hfpa07', 'vtez86pjjh22', 'sgmtfrml8618',
                     'rmad26ekzj17', 'klfaqpce4024', 'lznb17dnzr72', 'fzyp00zugv52', 'hnclxemw8557', 'mqmo38eftm83',
                     'klslknwe5727', 'encagewz4588', 'pubk99qfab05', 'cvgo84duli40', 'moeo00grfn62', 'nbqq56ytjx45',
                     'hscv71szue44', 'ssyzoqmn4566', 'jhrfiktp0349', 'tsbg43aboc20', 'rotzkqxo6601', 'qpxwugdu7988',
                     'banqhssq0610', 'zsea21kywu74', 'msdnjqno8730', 'cuug33ukhe10', 'jmlc39iano70', 'rrfeqqrw1192',
                     'vhoi97irxo25', 'fkbapmkk7803', 'znlodhfr6278', 'tkltqllc0951', 'ogns48hiba37', 'jzihhzci4267',
                     'vgruannx7193', 'avbv96bkyz44', 'kbzs06dvmz08', 'aqev56khcm97', 'zuhw52icko84', 'dvrainei6506',
                     'mdloobge5564', 'mfub26itht24', 'ippf19cuge10', 'yvgsjjlh2790', 'xbnq52smzr70', 'xdgw91xrif98',
                     'syvqjmha5319', 'wgka40uomz88', 'sxmoufan7397', 'tkosuxof6687', 'qzfhbyno9415', 'babmrint4673',
                     'jeiz04mutc61', 'pjcwgzks3503', 'xnsatwsl3614', 'qawk72juwk58', 'malc34xwta14', 'wjgg31qvdz26',
                     'riir15pzko22', 'ckqbrelj5838', 'lwwkiots4832', 'ywfj49rkpg45', 'wbdw26iozv57', 'hbzr50ehiv00',
                     'zhxk40eusc58', 'kywqyvzs0409', 'qrak51hnda16', 'omlk27sjxa10', 'dgyiawef5983', 'uhej47spba60',
                     'rxet66nabl49', 'lwtxtvzw2529', 'qotl45bali54', 'gesx07sawc28', 'gimr63ftns48', 'iufxjeqr4817',
                     'gunn96bpjn47', 'fhmrhvwz7081', 'rbxtmycl6446', 'qyyliouf5334', 'eiut65iodz52', 'kvzc29tcpk91',
                     'oymonwxb8478', 'uuwjeffu2665', 'jhpaeckc8304', 'erebbcxh6463', 'ebykubqn4470', 'oshm11mzjh63',
                     'jsphipxq2230', 'peax77shbg37', 'iycalcdu2729', 'ujok70oxha63', 'wldrgydw2999', 'eaih95svxn59',
                     'oyfsxniw0637', 'eyhz71wgif12', 'ftqxclte7952', 'ezjl86tuea45', 'uhberidc5970', 'tapqyfza6554',
                     'upvvxkkv6590', 'nvet05mlvi53', 'krso28guvv79', 'phls43orzy92', 'wzvlgxod0109', 'kzvdussn4288',
                     'cezjoegf1551', 'sjwj62gsgj71', 'vurw03udtp21', 'qfrhhmbl1434', 'zldc57sjhs23', 'llydbpsk7498',
                     'lxva47nexu64', 'yrqskiwp4708', 'zire65uovu33', 'kodv22ijga56', 'fnjvlucp5121', 'ahjiccue2536',
                     'frhtiuch3979', 'oxwzspyy0035', 'hflgkyma4962', 'itcv60iuxq03', 'ryqs75qmfh87', 'tuty08psod27',
                     'lsgzqgnf5947', 'shjf73riud00', 'czjk00wjpi36', 'abzcjjtq1881', 'qtqx90nvdx16', 'embdcfer2649',
                     'awajgpbz1149', 'cshbtljw4208', 'bklrmpyc4793', 'vikd92ndek16', 'oguvofzl4090', 'mmsm87uojp58',
                     'irgl35gdcr00', 'kulkobrv2520', 'ovzs76jgvc49', 'rxujzefr4578', 'baksolpu5782', 'cdol94ddks01',
                     'clly62knuq34', 'ybdl73lebk80', 'ewge48ajcj22', 'lufp32ktvi55', 'bwkd39rvrt20', 'gyrdzpms8414',
                     'bhlgjvbe4245', 'lpgbwawn3651', 'qamnjzhx1212', 'lhpirpyu7800', 'ykmr10hqbi99', 'zijt63atro63',
                     'uahf04wlui32', 'kjtoxqyl9911', 'Corrykmxvg76028', 'Pegpndpz89209', 'Lelavhkhd62725',
                     'Gabbiphbcg60277', 'Andrasvhsk76131', 'Denyadkcy07389', 'Fedorapxpzk48003', 'Fidelaqbjfv09218',
                     'Euginenflvk54682', 'Albinagbqmk29154', 'Cariemoxgb82620', 'Sofieunutv25654', 'Mishaznwhn02357',
                     'Bonniedwlzx27116', 'Odettauszlx30391', 'Renellvhivq55500', 'Kylefroke43686', 'Eadielzwib08016',
                     'Fredaaoegk11313', 'Mornakgibp98103', 'Nannytkjmd21065', 'Nettyjejxv19911', 'Jankalwdwe64599',
                     'Reginaecnku86289', 'Eloiseknkzq62473', 'Felitawijqc77980', 'Tiffyelklw24685', 'Janithhidgd95105',
                     'Hindayqyuv96913', 'Vinitazerky67362', 'Hailyyfdkd18525', 'Krystaeuxbz29212', 'Zaharatgkkc87125',
                     'Vikkywjnsi69828', 'Reinerdbzp02373', 'Ebajmjsq07304', 'Nonivnepu09014', 'Alyssljmcm59578',
                     'Tonisirku10901', 'Cammigvtso36300', 'Millyrwwwc39198', 'Jobieosqqt39042', 'Cassyznmun13017',
                     'Dathahrjzc53115', 'Tobeylkbn89773', 'Merryfbfss01775', 'Doreendmfqu56290', 'Adeyckuny38259',
                     'Carleesyzyw21894', 'Ynezeyqpj39046', 'Donicavistd21523', 'Norinatsjkv71258', 'Hedaosftq42248',
                     'Tashabrqwk06584', 'Tatumyuxpd32328', 'Roanayiurs94237', 'Bergetfamv7373', 'Lissievsrow09795',
                     'Winnadumtl62961', 'Ditabuzqs12134', 'Erinqygkn15676', 'Kristaypncy93454', 'Leonajsxzm97454',
                     'Iviekxvhl87297', 'Abbyeuvkql91907', 'Jobiexhgto17748', 'Kaiicdbm44795', 'Sonniexxljm55023',
                     'Addiegodsd68921', 'Beejygxg26567', 'Shayanqsg99796', 'Dodirsuog19100', 'Barrievufqx01191',
                     'Wilieshaaw71616', 'Cindyergbo38865', 'Briermejhn66715', 'Jillicujto07455', 'Renieubajj11380',
                     'Vallypxujf62787', 'Dorrisbmqmm73967', 'Walliwuywwo01567', 'Glyndazkovq44610', 'hwuu67wfxc38',
                     'wqzb64btwe12', 'fxze89csvm82', 'lytitiuy5586', 'dtch73lvbh82', 'qurq37tnfv81', 'dyuzgnzq8104',
                     'ymgtxpky9902', 'nmohqajs8352', 'snau57owse09', 'yomkogus8242', 'hzfn38arbl21', 'icnnesmp3664',
                     'oehbprdq6324', 'ljiw35moyu28', 'fncz23rljf43', 'ststndll6219', 'vmdlxeft7914', 'yvjngkjw4798',
                     'jmyf42pczn17', 'bcoppaka5334', 'jrwv20ioff74', 'uhhzvrsa2209', 'ybbh10kzsc25', 'qkwnzdax7010',
                     'uwbg02ftwe76', 'dfesuezg1988', 'fhopmdin8741', 'qgfn34uble79', 'znsxpqya6570', 'jwgb57nhwl28',
                     'sclwupzu0767', 'fglg38iiwv34', 'rkcwfuju4877', 'aowt13jdat22', 'hstaqjqq7647', 'cjvccwqg6753',
                     'dxwj50cxoq51', 'ozzislir5750', 'gumukokl5243', 'splmzxyh4272', 'lvmuhrlj4890', 'ulpqwpsq2301',
                     'qgyn99afcm86', 'tpku59pama38', 'cpdhghlj0897', 'hzobsgoq9240', 'erkkrmyp6889', 'dhee95gnpk12',
                     'pdcy22bgym05', 'zjun26ywia94', 'zcojllrq9883', 'fsfwiygr7388', 'cbghoxjh4161', 'dzue77wzwn52',
                     'asukxbzz0323', 'yayvtart1641', 'ylyawhqn6499', 'tsby44jwob21', 'kcue10xzou27', 'ajadlwhh9477',
                     'obifhkas2376', 'ncug48gddy93', 'dekk30xfng23', 'qdwgprid9109', 'voatnsxk1881', 'qnrr26jhiy19',
                     'pybaknsy7148', 'vakvsswy1367', 'oqycllnq8604', 'nazrtghk5579', 'atqkbjqv4817', 'iuex47cxht05',
                     'vypowfis1027', 'hgztfwcu6773', 'cejx96gnuj75', 'iaux88hoff72', 'funefiej9088', 'mvgp71eelq23',
                     'qvebtipa3951', 'zcza12cqqr03', 'pwtl67qwiw05', 'liis02abqj72', 'sxhwcwph1093', 'taltuqez3043',
                     'mdfd04pcdd58', 'tvvi09unjt83', 'lblg01mubs89', 'zbju09bgzr64', 'bdzfyqns7241', 'ozmniqpl2210',
                     'trtg61ezva56', 'pzrj95kcla61', 'mvtqpljc1600', 'iuse36bsie01', 'tvxebcor8824', 'nejq72hqen59',
                     'xggd60gjqx61', 'vibe19yply32', 'hmzq81pqxc88', 'wtjc46vrlw42', 'bqgi77eovw80', 'qeueagay2002',
                     'zdid49fqad46', 'bqyw08crjz11', 'jsrbnxsm1659', 'bhripjnp3909', 'bjtc03epxr94', 'dbon87cfzz34',
                     'vrit59usnk47', 'jvlovpfh3364', 'ewjefkkb2541', 'cqfyllbk7076', 'ssagghfm7851', 'mljrtoxn1550',
                     'gwqxznig1793', 'oxvi30ywhh83', 'rrsy72jnua93', 'altpqmbj7830', 'iiyz91fgzu63', 'eelgjdgl2164',
                     'lquyqzut1777', 'vvuluhss6367', 'lrhu48dtyy17', 'gbdw00zwit35', 'qnmthjze6529', 'ereaytug5195',
                     'rlyvclzo2179', 'bqbxyqwy4096', 'wsfmctsk3721', 'deod72yrsb99', 'rffgritb9560', 'osbzlpvc3312',
                     'gxla87gozw25', 'qdkr33iqxp89', 'etpmyxwo5003', 'ogdf75kxlr30', 'omqulhtd3894', 'dqsygwqj0847',
                     'wfaceqgx5179', 'torhcnog0126', 'bkcu36vfsb26', 'nztxizdf8055', 'yklodfxm7230', 'bwhj47xsdb98',
                     'topoqwcj6377', 'wbchtagi1195', 'cpeg10gjyn83', 'rgnjicws6585', 'otbg04piwa35', 'rcjnicnt6658',
                     'apfnxpyr7106', 'jxqc82pnwy05', 'bcyw34kgkf86', 'tumtnhca5674', 'vyqp88jvhy99', 'kkrqtwez1428',
                     'nzquwfhe6543', 'uvnf12luml03', 'ubnizzms6779', 'icualjlv8104', 'npex76zywr15', 'lfgc54vabz66',
                     'spit49lgaa99', 'ydni57qyys11', 'njohserx9470', 'jihf11hyve88', 'lzulnahq9573', 'edsk61okap78',
                     'yqmfrkuq9367', 'kcbqhkcp1719', 'sirkhbnw7849', 'jjws95llmr73', 'crasvoha7772', 'qkxzbarq4146',
                     'wenlmwxd8198', 'bitl27excc91', 'xubtsiaz6766', 'dwmtldkw9076', 'vgyx90mgwc84', 'thbn73expp12',
                     'wyjadehr7565', 'yupb57haho44', 'zhjiwewq8615', 'rridfifz4965', 'thaodwfk6711', 'fnof73vdju75',
                     'mzly39awja15', 'cdezzwsf0513', 'gjhs19rdbq49', 'xsscdrzq8596', 'zgfsiozw6019', 'atwhvscn9143',
                     'bcxn22mmoi32', 'jbpvxpoj0393', 'rcbonuuz8179', 'dvpl07xwhs03', 'lery10wwlx58', 'opkp45wqle97',
                     'yvhs56eaxf58', 'vtiaxrve0680', 'asozfjeu4870', 'dukm44tdrg68', 'aisbjsae1946', 'xjqy92aqxd71',
                     'qlwg23uaow95', 'rtfr40oldx45', 'dzfe08cfrf10', 'tnxo66ljgc58', 'vhmfoweq3442', 'hmrrmywc9148',
                     'tymg40runk24', 'xdvtbukw7580', 'gbqn33vaej20', 'ziik32hivi89', 'usaldzob9377', 'ohziceuo4256',
                     'zgun62dmxy75', 'cnjv74rhrq52', 'wlrb70rful04', 'wfyqrfyc2795', 'junw42hbgm75', 'kbrh35njtc92',
                     'hkxk99mwdn13', 'vsshmtpq8733', 'ymhlxnbu3874', 'nawliunv4803', 'jpfuaomn5711', 'ojoa88hxpj04',
                     'vhsp61nxwj47', 'ahfyujob1231', 'jmapaiie0396', 'gnatiqie9779', 'hmnc93dnyg49', 'grdi23nngl37',
                     'dfbo33jyiv40', 'qqwokjej8373', 'gpaqafvj0859', 'xxxk57vhnz95', 'gyhgzyrp8778', 'wwcd15zued33',
                     'ixzu08duur93', 'tvzx59nnds35', 'icbkoxnk5305', 'qhch55lcsq70', 'gskn61unky18', 'ccuhffcu5547',
                     'ronhddqe7021', 'ajiu57domw89', 'uassamde8333', 'xrqs23ybpi42', 'grsltqgu8643', 'fnnwdjne5190',
                     'kujvoklt1825', 'yuqgzcoy4274', 'nlahpzpy0026', 'gtpbeehs4924', 'jbmycamf5414', 'ltsahzvj2176',
                     'ghldcxnf3761', 'wpnaakow7431', 'ceiq46ypat58', 'ghkl67lxkc27', 'onfj33tkmt64', 'fhqvmyrd3775',
                     'zfkownli9641', 'cvcpehnh5914', 'wnpi28daec64', 'fmicxjop1637', 'qbtcwqwp3468', 'tnno87khse63',
                     'dfoq38hjwr55', 'xenfydwq7017', 'xrbd93ajev91', 'qptaygcb8009', 'kzos88rpef94', 'haks31laxk23',
                     'jpnp26ojho10', 'qqml21ykis19', 'kpck09oszc23', 'xhcn62wcxu24', 'pqte72mgxp43', 'elucqoss5499',
                     'ddkd24gubg16', 'ssjevkqf6457', 'vlba84lbjr48', 'ltfd13rgnk48', 'ivbk29bljm76', 'qkmhydav2874',
                     'kbkg43mznk34', 'hztq25lxzu52', 'xkch53tzzg80', 'pttulelz1992', 'xqypyobt3367', 'vyyo16eqmk20',
                     'pbryazhm3392', 'qabthkxm0948', 'kcmqmrdc7181', 'xffy05wlhc45', 'lgeirfoy9362', 'hltsvvpa8118',
                     'tczyoryw1806', 'vierexuj0787', 'fdjzredw9498', 'vdhs81iwws45', 'tizh17zfyf18', 'rlyz10pkvn43',
                     'kozy66hnpr53', 'qbra39pvlj82', 'dufi26fply01', 'jnbuirab6467', 'yocw08eoht42', 'qjlm18tceb36',
                     'yfleirqx9809', 'ndissojc6345', 'sdno15ytwo37', 'pcqobzux1880', 'cweo20imvn70', 'xuujkqxc3524',
                     'qppofiik2882', 'yojp43qvkg11', 'zgep20xmli55', 'jdhp23txef87', 'ftjlasar1328', 'ljklejsh4046',
                     'fgfi67yerl04', 'zwwenwwk9284', 'nghyplff3789', 'vtdr75wnti97', 'jcaxpiam8519', 'hobtwzqa5576',
                     'vcps94mpar02', 'btsv84slra48', 'qjdwomqr7611', 'ooahdrnf8345', 'czqgsqkc0676', 'jiqnudug0909',
                     'jbokqeav3635', 'eyzoleqh5678', 'unur40dxdz73', 'vsfbzdha2789', 'oszw71cmxx52', 'nwxj12dxea13',
                     'rums79nant42', 'pcecqcej0583', 'heem68rdap09', 'zlcsptuy6118', 'udtdqoln7082', 'ukpbxnan0393',
                     'mmor06molm36', 'fhqqkyve4207', 'qetpqmsw6864', 'woixnimp4874', 'nybj37facq90', 'zcquuaav2234',
                     'gjxg75imoy59', 'rnfc60wece51', 'Eddirgvww09270', 'Zeldajkqvc54105', 'Kalilalwqxi25050',
                     'Bonnihdfyv51805', 'Gillyrwju25624', 'Shinaggovb83787', 'Andriajllur50007', 'Rasiaycqnp22195',
                     'Garnetxoayk87105', 'Minwlvte36435', 'Malalbkwz02733', 'Tanhyasjria81784', 'Gloriakltlk21020',
                     'Freidalyeau61195', 'Talyahgrhdw41761', 'Shawnjyfuj78779', 'Nollieuzanc75123', 'Kendresdmbh67964',
                     'Ashienurclz69637', 'Romyurcbe39069', 'Pearlsmlva63354', 'Danicejcavn38134', 'Jannaomnry56740',
                     'Sibbylnfnt29741', 'Emdcywy29457', 'Erdarprhl81843', 'Karrybxggj25450', 'Rianeouwwt60612',
                     'Anniyompz42199', 'Megenbkzcg67880', 'Gretaheklk50628', 'Enrikamtqwi55996', 'Tinehzrji41735',
                     'Jolieonmqo48492', 'Leneexvppp80504', 'Retharsrqb62790', 'Dreddymritk54182', 'Cordihbiyn21761',
                     'yqpdgwav0760', 'powk53nklx79', 'rmsvaitj8587', 'vgpudsqx0102', 'njjsmgxl8063', 'nmvv40azrh24',
                     'voxq33eker21', 'sobwhvoc6179', 'ssbn61xpkc97', 'eucv00jfni88', 'slqi08emvn31', 'tbasjdik0578',
                     'bxtg76pyvp82', 'qywisdvc6110', 'tyoxihxh0482', 'xykfemgn7522', 'ybwjcuwk3052', 'mbrckfvs9241',
                     'sjlj27iovy19', 'reqk71gdnu12', 'pmzkotmm0571', 'bmnjywoe5909', 'oluojgdh9652', 'sqlfhqam9325',
                     'buna70jgsy67', 'laftexbu8765', 'lccdqsqa8253', 'ugovhmcf1433', 'srcduroa0578', 'iqdsahgz0552',
                     'sgzccuun6096', 'irgedmsj8660', 'ugpgktra7677', 'pceo51mehp36', 'vsin64xmpo04', 'hmrs97rqyw75',
                     'nmvktvuo8879', 'baum01kcgg55', 'qyjl51vvya20', 'coov87pkpj87', 'duia08lkzm41', 'tprfiyzt0979',
                     'qgwfnaqt2800', 'dnrv84jojh12', 'nivz23skxi74', 'dbzghadm7724', 'lilazdfr5148', 'whxv86lsjw84',
                     'gudodjds4955', 'dlrfoypx7500', 'oeqzmyfc3475', 'zlalyxlp4331', 'xwloaxds2430', 'nqod47podz38',
                     'uari09sgoo31', 'szuu92mvey49', 'kluwpawp4131', 'pzbf92psiy53', 'xfio01tfgn01', 'nyjxffrk0948',
                     'ocrxbxhb5340', 'oxzgfkwd8402', 'towf74hxwx92', 'dphl63nerc31', 'tyih53woxo29', 'aiwcteva0542',
                     'usldoxsd3980', 'bbrk84xepn02', 'hcboscbr3967', 'zemgfdkm9529', 'zzmp35vnnf66', 'pmqqqsep0324',
                     'otdwlbsv2828', 'dcoa47dufy29', 'fiyp67tqrq71', 'bjsrsdyp5512', 'ryeevyoj0288', 'ejzjbgjx6781',
                     'rxxsmzde2678', 'iuybeudm5763', 'vpin46hbwd62', 'oebgujzo1582', 'gfqd54pypo67', 'dqrefdic2997',
                     'zhat60hulb07', 'lrvyqmpp5093', 'ufru51gezk49', 'zodyayfh3382', 'zhrn29ffpl58', 'hvwsxnjz6160',
                     'sljj07ubmg32', 'swia38crzc49', 'kusr39tqxv84', 'fpdh89ohom16', 'udpw05zztb82', 'jdxhobcq4345',
                     'fycd26jury73', 'ffxfezdy4083', 'nbyv79sjqz82', 'zxwpkkov1211', 'orpckcmv0998', 'buun80mrpp93',
                     'whgy36otxc34', 'lvkykyao1791', 'npispqsu0012', 'furxcikw5434', 'iltnrvvr4246', 'qxortrdi7495',
                     'vqub33iipg88', 'ctexlsox4660', 'syjx39dpxq16', 'uvknvxzj2835', 'cynpjtqu2498', 'kpyhulje6031',
                     'vciobdnm6157', 'yqvqvgmr2424', 'ztbv83bnxo32', 'dpstzpgs6555', 'rmkmyoaw2974', 'lqsbzdnn0422',
                     'Eunicefeauv53171', 'Wynnypqyur13272', 'Henriegssup48385', 'Eryngntlu85156', 'Emmiqbafy18100',
                     'Minnyguyha09415', 'Myrleiizrt45266', 'Mabelgkwmv98140', 'Marinaohjqh63259', 'Eliciabnahm94992',
                     'Lizanvtvd60868', 'Vinnymgzxb85718', 'Deannagsqgv07486', 'Arlinarvfdk18066', 'Gertninvy83910',
                     'Tonynvvvq85530', 'Earthagbzyk84246', 'Merciyrcqe13438', 'Natkalcrcp57357', 'Nyssapdfca47036',
                     'Vanqmuvg96927', 'Gwynnejhyqn71399', 'Karoleyflcb26709', 'Nomimdvks44492', 'Vanyamfhfn48735',
                     'Myrahhmxhz05303', 'Benniebxihx83914', 'Fiannarsbmv70783', 'Hannistdrnb99625', 'Jemienafoq46696',
                     'Margekrrub03219', 'Moynapleiw74365', 'Teenajfaoj31029', 'Coleneygapx49628', 'Conniewstzn98705',
                     'Anetewizz93356', 'Aarikayqeot07264', 'Imogengphte68270', 'Rhettagakut61489', 'Sheashzoh46712',
                     'Marjenbpxx70239', 'etvy25efpz49', 'jtst72soeh47', 'nveblace6464', 'irtu91cryu54', 'jrdf52ewpa93',
                     'kiahwxtv9335', 'quyocfym2875', 'dmof26moaf08', 'dociwipr9710', 'aplsoiob7183', 'zmclwtbi5401',
                     'qusv23xhpg60', 'nmqdpyul6860', 'cgwshnxd3020', 'vcvgumcn2451', 'reafzblu6824', 'tvwz18cmaw99',
                     'xiie40cdci52', 'qgwv05uepc44', 'rhom53optp74', 'jiyaiigd3243', 'yzxvyonp6505', 'vivhnkic5775',
                     'jxvl68skaa30', 'lttsfmly7529', 'srsjwfjw0244', 'yexuhuia7728', 'bizmsywr1084', 'cixf35ljyy16',
                     'ivgp28ecbq06', 'ngyt32tqgz36', 'bcwyokqb5961', 'husg26voyt96', 'nldh63kbiz11', 'dpda35yedk43',
                     'qgtn39aepe83', 'fphr94enke47', 'qhbo90qqhq81', 'Moreenjqxlm55040', 'Tobeyznarm85429',
                     'Cicilyvlprb58448', 'Gratiaoxyct24268', 'Luqfony02642', 'Rubirtirj08705', 'Koralhlrcw90424',
                     'Rositalynlt91170', 'Rikkicfedt34006', 'Binniahsqw72958', 'Trudeyizrwi58665', 'Lindashrsd06221',
                     'Ursalathxbq57893', 'Marciwcngt96314', 'Joellqnbdr71042', 'Odilleflqel78515', 'Laraznrsh12626',
                     'Zorahguuqe40398', 'Tracirlwob36631', 'Marjyubaec57849', 'Ginaghclh56624', 'Karoleofrap14111',
                     'Cherircymz51681', 'Britasptuh50771', 'Kellysafui34251', 'Dorianjsigr25490', 'Vikkytkvrj89137',
                     'Deufblw11225', 'Rickiezvzaj36863', 'Avriltdijs08092', 'Hazelqqetv44011', 'Stephitciss22056',
                     'Tamicmdye38252', 'Lauriftuos94547', 'Theawsuyb52848', 'Cherylshukv17435', 'Nessyfwwun21040',
                     'Sayrepnijx34448', 'Elsagmnwz53751', 'Jeaneyhyze78400', 'Barbeyxhusm16609', 'Shaeyiqvb80843',
                     'Blitheqwuzs06800', 'Marisaiblht96580', 'Annapdkcj63975', 'Fifilapao20333', 'Shanonifsgz27838',
                     'Danyakygio93235', 'Jerryvrged10464', 'Robinagswkf26453', 'Lucecided32135', 'Andriadahmn18070',
                     'Britamvyzr07143', 'Keeliapqqtn90445', 'Lannizrbgg22429', 'Dottixiefp80622', 'Loreefkzcy39687',
                     'Billyfsskf13552', 'Mellieflcdo21555', 'Ricamcufq93585', 'Deedeentfxk89648', 'Jewelgekcf96267',
                     'Catienneab28644', 'Ettazcuyd94148', 'Dionexvvrf98519', 'Codimjhqu26608', 'Aubrybxnic69589',
                     'Carynkxgge94108', 'Nessimfzrt42004', 'Aileyknngc25223', 'Tressanicds56280', 'Sophiebqmxn18060',
                     'Mattibhhjh38069', 'Arleenbvzrd75914', 'Brennltmxg37759', 'Lettyjytls74166', 'hoyratdw4851',
                     'hiax27bmhc92', 'khzdmlwt9284', 'vjpj90zgxl81', 'rdgywfys0222', 'wdbs62hblq48', 'odoi06swlh03',
                     'geps02cjhh84', 'jftfnwvp9954', 'qgby36kbhk02', 'vjxb06tdtn34', 'ovox29jcof21', 'mvmw53ormc63',
                     'nqwx66ohlh23', 'tfcevfij9360', 'dngt08cpol24', 'egbkjyps0543', 'bqtp53qplx75', 'gcsw03byoe03',
                     'nvpczczt4594', 'spmn47jkwc39', 'lucqcivm9251', 'ujskszmj4741', 'tfjb49ucwu39', 'rdft96svzd83',
                     'wvjn72gegj30', 'gytndmgl9261', 'phleidxf6075', 'wdpgynlk9920', 'wjqx35pxkq36', 'dcqrnirw2302',
                     'pdayvute3887', 'vxjq99faex03', 'btzw57ravn95', 'hzbs63kohz02', 'rhustbkq7196', 'opyt12xtxs59',
                     'wrmwajre4974', 'vbiigqew1221', 'wwsygxwf4846', 'fwth27ynmw49', 'zodc45yclz27', 'glik35plvk08',
                     'gaus83omzf53', 'lakzhybw7441', 'biwwqbxp0491', 'fkacpsji2826', 'qclmdmhm2635', 'qbocafwc3893',
                     'dfivnohp6297', 'mrae81qgkf59', 'tieq02qdma61', 'gfbwooyn6870', 'sddk06ptxo90', 'tbozqxpl1725',
                     'lutkcjav1110', 'uloydqim1540', 'mdagzjrv9960', 'muus07qwsd56', 'zxgwhbsl6677', 'ygueinrm0934',
                     'iwzeugbk2267', 'ppjnhwtb2603', 'spaq02yzul89', 'hifj81tnlc51', 'hsmr09guqv91', 'ginuuczf5976',
                     'leqk24ghck78', 'dlml57uxqt29', 'mitgjvmy1301', 'mhlxwrhy5619', 'wcsyzlng1829', 'rzcyqnbd4063',
                     'yllx48poyo37', 'iwwcaqft7963', 'ksso62qtnm43', 'dsxk32ebla91', 'wpoyafay8853', 'ixsr59ktha23',
                     'gnirwcwv3837', 'zqjw67bdvi16', 'rhta00mdyv44', 'ruoiffrv2892', 'xhzhskmu5900', 'ufhjlbup0962',
                     'neyntuuo8177', 'ydeohxrv7166', 'cefhuype4334', 'tyhi47uknm02', 'rftcabue1051', 'ajhtejen7538',
                     'ocpx47oseg01', 'cekn76wuyl57', 'tgiwwvzb2823', 'jqdlsaxw7255', 'xnwozvde8286', 'qzaz96kbfz39',
                     'rxebknsj7210', 'guodeezb7863', 'bxiebwzx4530', 'femzrgjv9400', 'nsyisgxz1244', 'jnsq55jjjm00',
                     'mfgs59uvyi36', 'forsqhut2014', 'kxqjxvxz7822', 'dmomylzd0532', 'swle50qile70', 'qmvy63cfqc07',
                     'bcch77ilba72', 'xjwbqgjf2771', 'usbr09zyiv85', 'rpol53nagm47', 'xmrkmbbu4910', 'pbbm44tkcj81',
                     'cyke03hjjt67', 'mpuiaitw8011', 'mldl39yywo87', 'xwvxsehv1816', 'okxb50qfyx56', 'jzykrmko8292',
                     'dqay84qaqm00', 'dcde57cnxo06', 'fnkycgmh9622', 'xzyjouab0172', 'pgjsnhag2075', 'jcyr83qdeq50',
                     'lbnw42dntw77', 'akhm15drrh00', 'jpyt68fsdi05', 'xaamtqcd4861', 'evtr65mndk70', 'haevfthw3645',
                     'xnjo14aypa84', 'bgiultjo5640', 'fcjx97bevn88', 'byiweied7709', 'npay33mljj99', 'zwpq50jgis04',
                     'cennrjal9320', 'irgujumb9070', 'cevh41ohlr42', 'tqgi14jpsl62', 'qteyzkpq6227', 'lykdnirx5062',
                     'omkg17fppl13', 'Ollestork1116', 'Tesihrie771', 'Girlkrzan0513', 'Bielakrook24877', 'Sueyknatz741',
                     'Hoodanisen04269', 'Weidtsatur10704', 'Luchtvalz1498', 'Zyonzajc7673', 'Orriefiona8216',
                     'Freastromm26848', 'Rumpfhulm50835', 'Redicbohle68946', 'Zoieknull59813', 'Dottoduger9749',
                     'Vulajlentz92378', 'Kusyaalim601', 'Azkalyall88956', 'Maazvedra5005', 'Yucelorlik4322',
                     'Petriveve331', 'Wylyayen7670', 'Rusezatko84958', 'Romyetman301', 'Kawaecord5975', 'Huegsuyen757',
                     'Deionleil46287', 'Elwerhuitz84776', 'Awwalkotis819', 'Tanvilumen94143', 'Chiloyente559',
                     'Fohnnause4897', 'Aaizahondo65018', 'Myerarett078', 'Tamimtato658', 'Guesebrail61506',
                     'Husenmegen0062', 'Kanavomar93831'}
local RECEIVER_LIST = {'xqphjiom1164', 'zadxxvlj6276', 'lmtp55hdcu93', 'hxikbzwg9624', 'rakdfafr8745', 'wrnw47ncsh38',
                       'mrkv87wcdf72', 'ixmu21mnrc55', 'upae94jzju98', 'wjce42vrjl06', 'hvaarcaz2519', 'kobm28soqb37',
                       'swqh05qvlj54', 'uxxhgmsm9301', 'kubc91xdlk32', 'bpyl21lwqz46', 'dbsqnmqt3450', 'jrahneyq1271',
                       'apfg78ydin04', 'objv40idng68', 'pcts32umck75', 'hhsu86apms78', 'Jaynezlxvd1843',
                       'Vonniiddnu24750', 'tpuliyek4883', 'punnajje3214', 'ckus94grlt56', 'ipxc89vlkm19',
                       'qqhe79uwlx34', 'pfgognfo4255', 'yebbfnze2499', 'vdhl51ywbl40', 'Gloryknlzm10532',
                       'Shayqoxfo82977', 'qinwwbjp8739', 'zktrexth8829', 'vpjnyhau5221', 'ojuxzkyl1629',
                       'Aliacqjs05790', 'Ranakndzq15253', 'Charilogfgp14736', 'Cindavlnhm65330', 'krdf52hrec56',
                       'qeactitu8205', 'Deborwwxib62452', 'Orelieirlrm48222', 'lvlz77potb08', 'nwck11opfu52',
                       'vbgw61ufho38', 'bigphffa0521', 'bhtw54gwfg77', 'wayb01ccst15', 'cpwmpgrp3890', 'pnxa65rsns28',
                       'uigh81tuot96', 'rqbhmoqt5606', 'heeg52mrph44', 'tcosyzqf7989', 'bpfbasrl6679', 'zoui34pztj05',
                       'topx09vgfa72', 'xmlh29vxdd47', 'Willowyfdyw51520', 'Stacieptglb68189', 'Dahliajcppk69477',
                       'Sianaplqwg89798', 'mkfc26lnpy24', 'ofozkabe1923', 'tjnwlrkx1109', 'dapq98jmoa74',
                       'vyfxhxcv3140', 'wqeh56meum58', 'scceadcx3045', 'iodoxuhg6755', 'xhvp30xurx59', 'iqihgckx2562',
                       'cavu93tgvj78', 'deva91ywda15', 'ivmm83csal66', 'vnsi43mcqb55', 'hysuvtrj8826', 'flqg84apkh76',
                       'gbqlnwyb0764', 'bijc19kqeb05', 'Andiegzkqp88984', 'Roseviibr13010', 'tcoz53yyax08',
                       'gyoervru5637', 'itsw42xjtv82', 'gldq12igoy76', 'wkcsifts2895', 'ieso33wclg44', 'Codiuupzz67541',
                       'Agatheceuzb27675', 'hshhqgbr3891', 'ppuqxazk9708', 'Alysonexofa96146', 'Elicianqkna18728',
                       'Bobbielvqky11836', 'Bobineblwsa14718', 'qisssvgt2210', 'oscugnag6762', 'qzds39teaq83',
                       'mvuv97tcrs52', 'gmhtlpzn0668', 'hpypbphe1526', 'qaeu20pkxb91', 'ynqutdth6711'}

-- ตัวแปรสำหรับการทำงาน
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GuiService = game:GetService("GuiService")
local VirtualInputManager = game:GetService("VirtualInputManager")

-- ตัวแปรสำหรับ tracking
local currentStep = 0
local currentStepReceiver = 0 -- ตัวแปรแยกสำหรับ receiver mode
local isTrading = false
local tradePartner = nil

-- ตัวแปรสำหรับตรวจสอบสถานะการเพิ่มไอเทม
local shroomAdded = false
local tokenAdded = false
local creatureAdded = false

-- ตัวแปรควบคุมการเรียก remote (ป้องกันการเรียกซ้อน)
local isRemoteBusy = false
local lastRemoteCallTime = 0

-- ตัวแปรสำหรับ state-based tracking (เพิ่มใหม่)
local receiverCreatureStartTime = 0
local receiverCreatureRequested = false
local receiverAcceptStartTime = 0
local receiverAcceptRequested = false

-- ตัวแปรสำหรับ receiver timeout (เพิ่มใหม่)
local lastTradeRequestTime = tick()
local RECEIVER_TIMEOUT = 300 -- 5 นาที (300 วินาที)

-- ตัวแปรสำหรับ sender state-based tracking
local senderShroomStartTime = 0
local senderShroomRequested = false
local senderTokenStartTime = 0
local senderTokenRequested = false
local senderCreatureStartTime = 0
local senderCreatureRequested = false
local senderAcceptStartTime = 0
local senderAcceptRequested = false

-- ตัวแปรป้องกันการทำงานพร้อมกัน
local isSenderMainActive = false
local isSenderReceiverActive = false

-- ตัวแปรสำหรับ timeout การรอเริ่มเทรดหลังส่งคำขอหา receiver
local SENDER_REQUEST_TIMEOUT = 200 -- วินาที
local lastSentTargetName = nil
local lastSentTargetIsReceiver = false
local lastSentTime = 0

-- ฟังก์ชันช่วยเหลือ
local function IsInList(name, list)
    for _, listName in ipairs(list) do
        if name == listName then
            return true
        end
    end
    return false
end

local function Clicked_Ui(path)
    local success, error = pcall(function()
        GuiService.SelectedObject = path
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการเลือก UI: " .. tostring(error))
    end
end

local function Click_NOW()
    local success, error = pcall(function()
        VirtualInputManager:SendKeyEvent(true, 13, false, game)
        wait(0.1)
        VirtualInputManager:SendKeyEvent(false, 13, false, game)
        task.wait(2)
        Clicked_Ui(nil)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกดปุ่ม: " .. tostring(error))
    end
end

-- ฟังก์ชันวาร์ปไปยังตำแหน่งที่กำหนด
local function WarpToLocation()
    local success, error = pcall(function()
        local character = LocalPlayer.Character
        if character then
            character:PivotTo(CFrame.new(Vector3.new(-2132.24, 490.66, 1106.83)))
            print("✅ วาร์ปไปยังตำแหน่งที่กำหนดแล้ว")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการวาร์ป: " .. tostring(error))
    end
end

-- ฟังก์ชันหาคู่เทรดที่ว่าง
local function FindValidReceiver()
    local result = nil
    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            return nil
        end
        
        print("🔍 กำลังค้นหาคู่เทรดที่ว่าง...")

        -- ค้นหา receiver ที่ว่าง
        local validReceivers = {}
        local getPlayersSuccess = pcall(function()
            for _, player in pairs(Players:GetPlayers()) do
                if IsInList(player.Name, RECEIVER_LIST) then
                    local isAvailable = false
                    local tradingValue = nil
                    local checkSuccess = pcall(function()
                        if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                            tradingValue = player.Settings.Trading.Value
                            isAvailable = (tradingValue == false)
                        else
                            isAvailable = true
                            tradingValue = "unknown"
                        end
                    end)

                    if not checkSuccess then
                        print(
                            "⚠️ เกิดข้อผิดพลาดในการเช็คสถานะ " ..
                                player.Name .. " สมมติว่าว่าง...")
                        isAvailable = true
                        tradingValue = "error"
                    end

                    if isAvailable then
                        print("✅ พบ receiver ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                                  tostring(tradingValue) .. ")")
                        table.insert(validReceivers, player)
                    else
                        print("❌ Receiver " .. player.Name ..
                                  " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) ..
                                  ")")
                    end
                end
            end
        end)

        if not getPlayersSuccess then
            print(
                "❌ เกิดข้อผิดพลาดในการดึงรายชื่อผู้เล่น")
            return nil
        end

        -- ถ้ามี receiver ว่าง ให้เลือกหนึ่งคน
        if #validReceivers > 0 then
            local selected = validReceivers[math.random(1, #validReceivers)]
            print("🎯 เลือก receiver: " .. selected.Name)
            result = selected
            return
        end

        -- ถ้าไม่มี receiver ว่าง ให้ค้นหา sender อื่นที่ว่าง
        print("ไม่มี receiver ว่าง กำลังค้นหา sender อื่น...")
        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    tradingValue = player.Settings.Trading.Value
                    isAvailable = (tradingValue == false)
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print(
                        "❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " ..
                            tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender เพื่อเทรดด้วย: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบคู่เทรดที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindValidReceiver: " ..
                 tostring(error))
    end
    return result
end

-- ฟังก์ชันส่ง trade request
local function SendTradeRequest(receiverName)
    local success, error = pcall(function()
        local args = {"SendRequest", game:GetService("Players"):WaitForChild(receiverName)}
        game:GetService("Players").LocalPlayer:WaitForChild("Remotes"):WaitForChild("TradeRequestRemote"):FireServer(
            unpack(args))
        print("📤 ส่ง trade request ไปยัง " .. receiverName)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการส่ง trade request: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันหาผู้เล่น sender ที่ว่าง (ค้นหาเฉพาะ sender)
local function FindAvailableSender()
    local result = nil
    local success, error = pcall(function()
        print("🔍 กำลังค้นหา sender ที่ว่าง...")

        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                        tradingValue = player.Settings.Trading.Value
                        isAvailable = (tradingValue == false)
                    else
                        isAvailable = true
                        tradingValue = "unknown"
                    end
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " .. tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print("❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบ sender ที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindAvailableSender: " .. tostring(error))
    end
    return result
end

-- ฟังก์ชัน add shroom
local function AddShroom()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่สามารถเพิ่ม shroom ได้")
            return false
        end
        
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub("@", "")
        local localPlayerName = LocalPlayer.Name

        local amount = coinsValue - 20
        if amount > 500000 then
            amount = 500000
        end
        if amount < 0 then
            amount = 0
        end

        local args = {"AddTradeItem", {
            Overwrite = true,
            ItemType = "Currency",
            Name = "Shooms",
            Amount = amount
        }}

        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ถูกปิดระหว่าง AddShroom, reset currentStep")
            currentStep = 0
            return false
        end

        local remote1Name = localPlayerName .. "-" .. opponentName .. "TradeRemote"
        local remote1 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote1Name)
        if not remote1 then
            print("❌ ไม่พบ remote1: " .. tostring(remote1Name))
            currentStep = 0
            return false
        end
        remote1:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote1...")
        wait(3)

        local remote2Name = opponentName .. "-" .. localPlayerName .. "TradeRemote"
        local remote2 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote2Name)
        if not remote2 then
            print("❌ ไม่พบ remote2: " .. tostring(remote2Name))
            currentStep = 0
            return false
        end
        remote2:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote2...")
        wait(3)

        print("✅ เพิ่ม " .. amount .. " Shrooms ในการเทรดกับ " .. opponentName)
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddShroom: " ..
                 tostring(error))
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add token
local function AddToken()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local tokenList = {'ChangeCreatureColorsToken', 'CreatureReviveToken', 'FullGrowToken', 'PartialGrowToken',
                       'FreeSpinToken', 'RandomStoredCreatureToken','DeathGachaToken'}

    local success, error = pcall(function()
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub('@', '')
        local localPlayerName = LocalPlayer.Name

        -- ตั้งค่า remote กำลังใช้งาน
        isRemoteBusy = true

        for i, tokenName in ipairs(tokenList) do
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("❌ TradeGui ถูกปิดระหว่าง AddToken, reset currentStep")
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Tokens',
                Name = tokenName,
                Amount = 150
            }}

            local remoteName = localPlayerName .. '-' .. opponentName .. 'TradeRemote'
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print("📤 กำลังเพิ่ม " .. tokenName .. " (" .. i .. "/" .. #tokenList .. ")...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn(
                    "❌ เกิดข้อผิดพลาดในการเรียก remote สำหรับ " ..
                        tokenName .. ": " .. tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print('✅ เพิ่ม ' .. tokenName .. ' ในการเทรดกับ ' .. opponentName)

            -- รอ 3 วินาทีหลังใช้ remote
            print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ " .. tokenName ..
                      "...")
            wait(3)
        end

        -- ปลดล็อค remote
        isRemoteBusy = false
        print('✅ เพิ่ม token ทั้งหมดเสร็จสิ้น')
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddToken: " ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature สำหรับ Receiver แบบปลอดภัย
local function AddCreatureReceiver()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                    currentStepReceiver = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStepReceiver = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStepReceiver = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            local remotes = ReplicatedStorage:FindFirstChild('Remotes')
            if not remotes then
                print('❌ ไม่พบ Remotes folder')
                currentStepReceiver = 0
                return false
            end

            local remote = remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStepReceiver = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                currentStepReceiver = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStepReceiver = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStepReceiver = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreatureReceiver: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStepReceiver = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature
local function AddCreature(isReceiver)
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                    currentStep = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStep = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStep = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName
            if isReceiver then
                remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            else
                remoteName = LocalPlayer.Name .. '-' .. otherPlayerName .. 'TradeRemote'
            end
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStep = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                currentStep = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStep = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreature: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชันกด accept สำหรับ Receiver แบบปลอดภัย
local function ClickAcceptReceiver()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
        if not tradeGui then
            print("❌ ไม่พบ TradeGui")
            return false
        end

        local containerFrame = tradeGui:FindFirstChild("ContainerFrame")
        if not containerFrame then
            print("❌ ไม่พบ ContainerFrame")
            return false
        end

        local acceptButton = containerFrame:FindFirstChild("AcceptButton")
        if not acceptButton then
            print("❌ ไม่พบ AcceptButton")
            return false
        end

        local upperLabel = acceptButton:FindFirstChild("UpperLabel")
        if not upperLabel then
            print("❌ ไม่พบ UpperLabel")
            return false
        end

        Clicked_Ui(upperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด accept
local function ClickAccept()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.AcceptButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด cancel
local function ClickCancel()
    local success, error = pcall(function()
        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.CancelButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("❌ ยกเลิกการเทรด")
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด cancel: " .. tostring(error))
    end
end

-- ฟังก์ชันเช็คชื่อคู่เทรด
local function CheckTradePartner()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            return false
        end

        local theirLabel = LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel
        if not theirLabel or not theirLabel.Text then
            return false
        end

        local opponentName = theirLabel.Text:gsub("@", "")

        -- เช็คว่าชื่อตรงกับในรายชื่อหรือไม่
        if IsInList(opponentName, RECEIVER_LIST) or IsInList(opponentName, SENDER_LIST) then
            print("✅ ชื่อคู่เทรดถูกต้อง: " .. opponentName)
            return true
        else
            print("❌ ชื่อคู่เทรดไม่ตรงกับรายชื่อ: " ..
                      opponentName)
            ClickCancel()
            return false
        end
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการเช็คชื่อคู่เทรด: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Sender
local function AcceptTradeRequestForSender()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    -- Sender สามารถรับ trade request จาก sender อื่นได้
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Sender พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                -- Sender สามารถรับ trade request จาก sender อื่นได้
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Sender พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Sender: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver แบบปลอดภัย
local function AcceptTradeRequestReceiver()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver
local function AcceptTradeRequest()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน Coroutine สำหรับ Sender ที่รับ trade request
local function SenderReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) SenderReceiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                -- รอ trade request
                AcceptTradeRequestForSender()

                -- ตรวจสอบ timeout สำหรับ Sender ที่ทำงานแบบ Receiver (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Sender (Receiver mode) ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print(
                            "⏰ Sender (Receiver mode) รอ trade request... เหลือเวลาอีก " ..
                                string.format("%.0f", timeRemaining) ..
                                " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                isSenderReceiverActive = false
                wait(2)
            else
                -- กำลังเทรดอยู่ (เมื่อเป็น receiver)
                -- ตรวจสอบว่ามี trade request หรือไม่
                local hasTradeRequest = false
                local requestsFrame = LocalPlayer.PlayerGui.RequestsGui.RequestsFrame.Other
                if requestsFrame then
                    for _, child in pairs(requestsFrame:GetChildren()) do
                        if string.find(child.Name, "^Trade") then
                            hasTradeRequest = true
                            break
                        end
                    end
                end

                -- ถ้ามี trade request ให้ override main sender
                if hasTradeRequest then
                    print("📩 พบ trade request กำลัง override Main Sender...")
                    isSenderMainActive = false
                end

                -- ตรวจสอบว่า main sender loop กำลังทำงานอยู่หรือไม่
                if isSenderMainActive then
                    print(
                        "⏸️ Main Sender กำลังทำงานอยู่ SenderReceiver รอสักครู่...")
                    wait(1)
                    return
                end

                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        isSenderReceiverActive = true
                        currentStepReceiver = 1
                        print(
                            "🚀 Sender เริ่มขั้นตอนที่ 1: Add Creature (โหมด Receiver)")
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 เริ่ม Add Creature...")
                            -- เริ่มทำ AddCreature แบบไม่รอผลลัพธ์
                            spawn(function()
                                AddCreature(true)
                            end)
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()
                            print("⏳ รอให้ Add Creature เสร็จ...")
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 5 then
                            currentStepReceiver = 2
                            print(
                                "   Sender เริ่มขั้นตอนที่ 2: Click Accept (โหมด Receiver)")
                        else
                            print("⏳ รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking
                    if not receiverAcceptRequested then
                        print("🚀 เริ่ม Click Accept...")
                        -- เริ่มทำ ClickAccept แบบไม่รอผลลัพธ์
                        spawn(function()
                            ClickAccept()
                        end)
                        receiverAcceptRequested = true
                        receiverAcceptStartTime = tick()
                        print("⏳ รอให้ Click Accept เสร็จ...")
                    else
                        -- ตรวจสอบว่าผ่านไป 3 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 3 then
                            currentStepReceiver = 0
                            print("✅ Sender เทรดเสร็จสิ้น (โหมด Receiver)")
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                            isSenderReceiverActive = false
                        else
                            print("⏳ รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 3 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน SenderReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            isSenderReceiverActive = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

function TradeStepHandlerSender(step)
    if not LocalPlayer.PlayerGui.TradeGui.Enabled then
        -- ยังไม่ได้เทรด
        if step ~= 0 then
            print(
                "Trade ถูกยกเลิกหรือจบกลางคัน กำลัง reset step...")
            -- รีเซ็ตสถานะการเพิ่มไอเทม
            shroomAdded = false
            tokenAdded = false
            creatureAdded = false
            -- รีเซ็ตสถานะ sender tracking
            senderShroomStartTime = 0
            senderShroomRequested = false
            senderTokenStartTime = 0
            senderTokenRequested = false
            senderCreatureStartTime = 0
            senderCreatureRequested = false
            senderAcceptStartTime = 0
            senderAcceptRequested = false
            isSenderMainActive = false
            -- รีเซ็ตสถานะการส่งคำขอค้าง
            lastSentTargetName = nil
            lastSentTargetIsReceiver = false
            lastSentTime = 0
            step = 0
        end

        -- ตรวจสอบว่า SenderReceiver กำลังทำงานอยู่หรือไม่
        if isSenderReceiverActive then
            print(
                "⏸️ SenderReceiver กำลังทำงานอยู่ Main Sender รอสักครู่...")
            return 0
        end

        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            -- ถ้า coins ไม่เพียงพอ ให้ปลดล็อค main sender และรอ
            isSenderMainActive = false
            wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
        else
            -- ถ้าส่งหา receiver ค้างไว้นานเกินกำหนด ให้ลองหา sender ที่ว่างแทน
            if lastSentTargetIsReceiver and lastSentTime > 0 then
                local elapsed = tick() - lastSentTime
                if elapsed >= SENDER_REQUEST_TIMEOUT then
                    print("⚠️ รอเริ่มเทรดกับ receiver (" .. tostring(lastSentTargetName) .. ") นานเกิน " .. SENDER_REQUEST_TIMEOUT .. " วินาที กำลังหา sender แทน...")
                    local fallbackSender = FindAvailableSender()
                    if fallbackSender then
                        SendTradeRequest(fallbackSender.Name)
                        lastSentTargetName = fallbackSender.Name
                        lastSentTargetIsReceiver = false
                        lastSentTime = tick()
                        return 0
                    else
                        -- ปรับเวลาเพื่อหลีกเลี่ยงการ spam ตรวจซ้ำทันที
                        lastSentTime = tick()
                    end
                end
            end

            local validPartner = FindValidReceiver()
            if validPartner then
                SendTradeRequest(validPartner.Name)
                -- บันทึกสถานะเป้าหมายล่าสุดที่ส่งคำขอ
                lastSentTargetName = validPartner.Name
                lastSentTargetIsReceiver = IsInList(validPartner.Name, RECEIVER_LIST)
                lastSentTime = tick()
            else
                -- ถ้าไม่มี partner ให้ปลดล็อค main sender
                isSenderMainActive = false
            end
        end
        return 0 -- reset step
    else
        -- กำลังเทรดอยู่
        -- เคลียร์สถานะการส่งคำขอค้างเมื่อเข้าสู่หน้าต่าง Trade จริง
        lastSentTargetName = nil
        lastSentTargetIsReceiver = false
        lastSentTime = 0
        if step == 0 then
            if CheckTradePartner() then
                print("🚀 เริ่มขั้นตอนที่ 1: Add Shroom")
                -- รีเซ็ตสถานะการเพิ่มไอเทมเมื่อเริ่มเทรดใหม่
                shroomAdded = false
                tokenAdded = false
                creatureAdded = false
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                return 1
            end
        elseif step == 1 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddShroom, reset step")
                return 0
            end
            -- Add Shroom - ใช้ state-based tracking
            if not senderShroomRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 1
                else
                    print("🚀 เริ่ม Add Shroom...")
                    senderShroomRequested = true
                    senderShroomStartTime = tick()
                    isSenderMainActive = true -- ตั้ง active เมื่อเริ่มเทรดจริง
                    -- เรียก AddShroom แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Shroom เสร็จ...")
                    local shroomSuccess = AddShroom()
                    if shroomSuccess then
                        shroomAdded = true
                        print("✅ Add Shroom เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 2: Add Token")
                        return 2
                    else
                        print("❌ Add Shroom ล้มเหลว")
                        senderShroomRequested = false
                        isSenderMainActive = false
                        return 0
                    end
                end
            else
                -- ถ้า shroom ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderShroomStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Shroom ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                    shroomAdded = true
                    return 2
                else
                    print("⏳ รอ Add Shroom เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 1
                end
            end
        elseif step == 2 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddToken, reset step")
                return 0
            end
            -- Add Token - ใช้ state-based tracking
            if not senderTokenRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 2
                else
                    print("🚀 เริ่ม Add Token...")
                    senderTokenRequested = true
                    senderTokenStartTime = tick()
                    -- เรียก AddToken แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Token เสร็จ...")
                    local tokenSuccess = AddToken()
                    if tokenSuccess then
                        tokenAdded = true
                        print("✅ Add Token เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 3: Add Creature")
                        return 3
                    else
                        print("❌ Add Token ล้มเหลว")
                        senderTokenRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า token ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderTokenStartTime
                if elapsedTime >= 30 then
                    print(
                        "⚠️ Add Token ใช้เวลานานเกินไป กำลังข้ามไป step 3")
                    tokenAdded = true
                    return 3
                else
                    print("⏳ รอ Add Token เสร็จ... (" .. string.format("%.1f", 30 - elapsedTime) ..
                              " วินาที)")
                    return 2
                end
            end
        elseif step == 3 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddCreature, reset step")
                return 0
            end
            -- Add Creature - ใช้ state-based tracking
            if not senderCreatureRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 3
                else
                    print("🚀 เริ่ม Add Creature...")
                    senderCreatureRequested = true
                    senderCreatureStartTime = tick()
                    -- เรียก AddCreature แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Creature เสร็จ...")
                    local creatureSuccess = AddCreature(false)
                    if creatureSuccess then
                        creatureAdded = true
                        print("✅ Add Creature เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 4: Click Accept")
                        return 4
                    else
                        print("❌ Add Creature ล้มเหลว")
                        senderCreatureRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า creature ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderCreatureStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 4")
                    creatureAdded = true
                    return 4
                else
                    print("⏳ รอ Add Creature เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 3
                end
            end
        elseif step == 4 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง ClickAccept, reset step")
                return 0
            end
            -- Click Accept - ใช้ state-based tracking
            if not senderAcceptRequested then
                -- ตรวจสอบว่าทุกขั้นตอนเสร็จสิ้นแล้ว
                if shroomAdded and tokenAdded and creatureAdded then
                    print("🔍 ตรวจสอบสถานะ: Shroom=" .. tostring(shroomAdded) .. ", Token=" ..
                              tostring(tokenAdded) .. ", Creature=" .. tostring(creatureAdded))

                    -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                    if isRemoteBusy then
                        print(
                            "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                        return 4 -- ยังคงอยู่ใน step 4
                    end
                    print("🚀 เริ่ม Click Accept...")
                    senderAcceptRequested = true
                    senderAcceptStartTime = tick()
                    -- เรียก ClickAccept แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Click Accept เสร็จ...")
                    local acceptSuccess = ClickAccept()
                    if acceptSuccess then
                        print("✅ เทรดเสร็จสิ้น")
                        -- รีเซ็ตสถานะการเพิ่มไอเทม
                        shroomAdded = false
                        tokenAdded = false
                        creatureAdded = false
                        -- รีเซ็ตสถานะ sender tracking
                        senderShroomStartTime = 0
                        senderShroomRequested = false
                        senderTokenStartTime = 0
                        senderTokenRequested = false
                        senderCreatureStartTime = 0
                        senderCreatureRequested = false
                        senderAcceptStartTime = 0
                        senderAcceptRequested = false
                        isSenderMainActive = false
                        return 0
                    else
                        print("❌ Click Accept ล้มเหลว")
                        senderAcceptRequested = false
                        return 0
                    end
                else
                    print(
                        "⚠️ ยังมีขั้นตอนที่ยังไม่เสร็จ: Shroom=" ..
                            tostring(shroomAdded) .. ", Token=" .. tostring(tokenAdded) .. ", Creature=" ..
                            tostring(creatureAdded))
                    -- กลับไปทำขั้นตอนที่ยังไม่เสร็จ
                    if not shroomAdded then
                        print("🔄 กลับไปทำ Add Shroom")
                        return 1
                    elseif not tokenAdded then
                        print("🔄 กลับไปทำ Add Token")
                        return 2
                    elseif not creatureAdded then
                        print("🔄 กลับไปทำ Add Creature")
                        return 3
                    end
                end
            else
                -- ถ้า accept ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderAcceptStartTime
                if elapsedTime >= 5 then
                    print(
                        "⚠️ Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                    print("✅ เทรดเสร็จสิ้น")
                    -- รีเซ็ตสถานะการเพิ่มไอเทม
                    shroomAdded = false
                    tokenAdded = false
                    creatureAdded = false
                    -- รีเซ็ตสถานะ sender tracking
                    senderShroomStartTime = 0
                    senderShroomRequested = false
                    senderTokenStartTime = 0
                    senderTokenRequested = false
                    senderCreatureStartTime = 0
                    senderCreatureRequested = false
                    senderAcceptStartTime = 0
                    senderAcceptRequested = false
                    isSenderMainActive = false
                    return 0
                else
                    print("⏳ รอ Click Accept เสร็จ... (" .. string.format("%.1f", 5 - elapsedTime) ..
                              " วินาที)")
                    return 4
                end
            end
        end
    end
    return step
end

-- เรียกใช้งานแบบ timer (ทุก 1 วินาที)
local function StartSenderStepLoop()
    spawn(function()
        while true do
            local success, err = pcall(function()
                local previousStep = currentStep
                currentStep = TradeStepHandlerSender(currentStep)

                -- ถ้า step เปลี่ยน แสดงว่าขั้นตอนเสร็จแล้ว
                if previousStep ~= currentStep then
                    print("🔄 ขั้นตอนเปลี่ยนจาก " .. previousStep ..
                              " เป็น " .. currentStep)
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน TradeStepHandlerSender: " .. tostring(err))
                currentStep = 0
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                isSenderMainActive = false
            end

            -- รอ 1 วินาทีแล้ววนใหม่
            wait(1)
        end
    end)
end

-- Coroutine สำหรับ Receiver แบบปลอดภัย
local function ReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) Receiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            -- ตรวจสอบ TradeGui อย่างปลอดภัย
            local tradeGuiEnabled = false
            local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
            if tradeGui then
                tradeGuiEnabled = tradeGui.Enabled
            end

            if not tradeGuiEnabled then
                -- รอ trade request
                AcceptTradeRequestReceiver()

                -- ตรวจสอบ timeout (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Receiver ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print("⏰ Receiver รอ trade request... เหลือเวลาอีก " ..
                                  string.format("%.0f", timeRemaining) ..
                                  " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                wait(2)
            else
                -- กำลังเทรดอยู่
                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        currentStepReceiver = 1
                        print("🚀 Receiver เริ่มขั้นตอนที่ 1: Add Creature")
                        -- รีเซ็ตสถานะก่อนเริ่มใหม่
                        receiverCreatureStartTime = 0
                        receiverCreatureRequested = false
                        receiverAcceptStartTime = 0
                        receiverAcceptRequested = false
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Receiver: Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Add Creature...")
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()

                            -- เรียก AddCreatureReceiver แบบ synchronous พร้อม error handling
                            local creatureSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                creatureSuccess = AddCreatureReceiver()
                            end)

                            if attemptSuccess and creatureSuccess then
                                print("✅ Receiver Add Creature เสร็จสิ้น")
                                currentStepReceiver = 2
                                print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                            else
                                warn("❌ Receiver Add Creature ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverCreatureRequested = false
                                receiverCreatureStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 10 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 10 then
                            print(
                                "⚠️ Receiver Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                            currentStepReceiver = 2
                            print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                        else
                            print("⏳ Receiver รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 10 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverAcceptRequested then
                        -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⚠️ Receiver: Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Click Accept...")
                            receiverAcceptRequested = true
                            receiverAcceptStartTime = tick()

                            -- เรียก ClickAcceptReceiver แบบ synchronous พร้อม error handling
                            local acceptSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                acceptSuccess = ClickAcceptReceiver()
                            end)

                            if attemptSuccess and acceptSuccess then
                                print("✅ Receiver เทรดเสร็จสิ้น")
                                currentStepReceiver = 0
                                -- รีเซ็ตสถานะ
                                receiverCreatureStartTime = 0
                                receiverCreatureRequested = false
                                receiverAcceptStartTime = 0
                                receiverAcceptRequested = false
                            else
                                warn("❌ Receiver Click Accept ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverAcceptRequested = false
                                receiverAcceptStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 5 then
                            print(
                                "⚠️ Receiver Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                            print("✅ Receiver เทรดเสร็จสิ้น")
                            currentStepReceiver = 0
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                        else
                            print("⏳ Receiver รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน ReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

-- Coroutine ปิดหน้าต่าง CreatureInventoryFrame อัตโนมัติ (ทำงานเบื้องหลังตลอดเวลา)
local function InventoryCloserCoroutine()
    spawn(function()
        while true do
            local success, error = pcall(function()
                local playerGui = LocalPlayer and LocalPlayer.PlayerGui
                if not playerGui then return end

                local tradeHudGui = playerGui:FindFirstChild("TradeHUDGui")
                if not tradeHudGui then return end

                local bottomFrame = tradeHudGui:FindFirstChild("BottomFrame")
                if not bottomFrame then return end

                local creatureInventoryFrame = bottomFrame:FindFirstChild("CreatureInventoryFrame")
                if not creatureInventoryFrame then return end

                if creatureInventoryFrame.Visible == true then
                    local closeButton = creatureInventoryFrame:FindFirstChild("CloseButton")
                    local upperLabel = closeButton and closeButton:FindFirstChild("UpperLabel")
                    if upperLabel then
                        local safetyCounter = 0
                        while creatureInventoryFrame.Visible == true and safetyCounter < 30 do
                            Clicked_Ui(upperLabel)
                            task.wait(0.1)
                            Click_NOW()
                            task.wait(0.2)
                            safetyCounter = safetyCounter + 1
                        end
                    end
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน InventoryCloserCoroutine: " .. tostring(error))
            end
            wait(0.5)
        end
    end)
end

-- ฟังก์ชันหลัก
local function Main()
    local success, error = pcall(function()
        print("🎮 เริ่มต้นสคริปต์ Trade")

        -- วาร์ปไปยังตำแหน่งที่กำหนด
        WarpToLocation()

        -- เริ่ม coroutine ปิด CreatureInventoryFrame อัตโนมัติ
        InventoryCloserCoroutine()

        -- ตรวจสอบว่าเป็น Sender หรือ Receiver
        local isSender = IsInList(LocalPlayer.Name, SENDER_LIST)
        local isReceiver = IsInList(LocalPlayer.Name, RECEIVER_LIST)

        if isSender then
            print("👤 ทำงานในโหมด Sender")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ sender (สำหรับโหมด receiver) (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            StartSenderStepLoop()
            -- เพิ่มการทำงานแบบ Receiver สำหรับ Sender
            coroutine.wrap(SenderReceiverCoroutine)()
        elseif isReceiver then
            print("👤 ทำงานในโหมด Receiver")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ receiver (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            coroutine.wrap(ReceiverCoroutine)()
        else
            print("❌ ชื่อผู้เล่นไม่ตรงกับรายชื่อใดๆ")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชันหลัก: " ..
                 tostring(error))
        -- ลองรันใหม่หลังจาก 10 วินาที
        wait(10)
        Main()
    end
end

-- เริ่มต้นสคริปต์
Main()
