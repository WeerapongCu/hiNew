-- ตัวแปรสำหรับรายชื่อผู้เล่น
local SENDER_LIST = {'Brynnadqfnz12325', 'Jennabgtie27237', 'Kimmyvflqp99286', 'Stephawzovs08605', 'Randavqrok07955',
                     'Eadathzyi47115', 'Ansleyxxmdr53128', 'Garnetqodvg49584', 'Carenvectg45897', 'Dodiepvhob85625',
                     'Vanlifgt54008', 'Joanneevsfu90472', 'Deliaxeemb18639', 'Senazseho02971', 'Rivasycbx69721',
                     'Megfloem89619', 'Fararpccf95606', 'Zoranrxzp71395', 'Pearlajaond87202', 'Farrahftufl33641',
                     'Winnysqxnf54057', 'Janinadpvnq64004', 'Hedvigadcrx48191', 'Berylkfyoo65746', 'Dardasxkiq17965',
                     'Pegiuhru73859', 'Bobinanipck57496', 'Georgexbcgs94185', 'Agnetaketkr34168', 'Andijqylm20506',
                     'Dahliauxjyy35779', 'Kallinfrhj07630', 'Margitkeuxd43074', 'Valfyonl32438', 'Bambyvdaxj66356',
                     'Bobbemipfe82906', 'Yasminmxznb13080', 'Brinnaeoomu09362', 'Maggivkdej79216', 'Catinazapbh37513',
                     'Martiusqio51861', 'Nydiaxerer56745', 'Gladysvvkmy45033', 'Wynnierihrc96621', 'Tovasznvl67194',
                     'Vinninianw18335', 'Abraetauj09780', 'Elenaoummb68215', 'Maviscypak71001', 'Hannisnfniv69972',
                     'Quinnkozpf32561', 'Rafcviut42514', 'Ethylqalnq67508', 'Rivkahvsqpo63818', 'Denavvtvs03061',
                     'Nessaecyzs87898', 'Sigridmgjxh96928', 'Roannapibsg00342', 'Dawnuprqv63556', 'Grierrflww62692',
                     'Devorathclr84586', 'Irasrdin89345', 'Floriaqwvyq96675', 'Drunazyp87872', 'Benniervpls20110',
                     'Dorrismdfba10613', 'Angelackctw56928', 'Trudibysrc41316', 'Willihirke65105', 'Feyrzkva69953',
                     'Tarahnrayf99066', 'Rhodiecpghb20069', 'Lyneacjzxb25905', 'Athenelrzxp95369', 'Vanyasgfli87243',
                     'Cathitjvfd37008', 'Rainaudgyz20757', 'Vivieuaug65445', 'Eliepgnwk91136', 'Fedorahzplh33275',
                     'Sarahgjrfn77041', 'Nertielnavm39032', 'Yasmindutfn06855', 'Philisjrqdz62708', 'Evitawhhfs25608',
                     'Megenfwkfs52247', 'Bryanannbmk34923', 'Loneeaayyz54346', 'Karondkhxh76949', 'Margiermldd35686',
                     'Jennqybub82279', 'Nellivqlpe75667', 'Bebevrxsh29900', 'Bennyarrlo27042', 'Alisunpterr61746',
                     'Tildiudbmo01872', 'Libbizcvxd77896', 'Leelatvyhv47360', 'Loriecpisy88202', 'Leoniexskpj59320',
                     'Shaylawsjyb88144', 'Sekappxvv87053', 'Bunniecstqe73206', 'Fainamoopt65985', 'Berylirxou83459',
                     'Jolineisqtz97373', 'Corinaltkyi94416', 'Poohobsjr88767', 'Vedauhuda87457', 'Leeijqpa80138',
                     'Elorarphlk20889', 'Kevinakkvab93086', 'Taffyapjbj13558', 'Ulrikacawrq68634', 'Dannamxnwe75316',
                     'Crissyywcqa71715', 'Neillehjtvz93801', 'Inessawfrxq10161', 'Betsyobpxb49688', 'Ashlencnkdb34047',
                     'Dinniervtei42411', 'Hettiwieiu12487', 'Aratykri95824', 'Philislfabr02774', 'Cynthyhyrkx98668',
                     'Joyecwuof76537', 'Loneerkiss93665', 'Dawncofmt21829', 'Cathiwslpo51809', 'Pattisupnr89805',
                     'Nickiezyte60195', 'Marysabsguq01450', 'Kerrynbblz77156', 'Winneerlyu34958', 'Gertcsfmd05186',
                     'Madanuqfo99091', 'Daiseyxnmsw73527', 'Midgeefsge57979', 'Lindsyultuf46249', 'Birdiezzroc61417',
                     'Roxineitpbh99381', 'Nessiezcxuk43332', 'Gretalrxwoj25424', 'Annkjnkw87412', 'Fraydanbgfs48351',
                     'Shelarztxo00180', 'Shellowkyi35610', 'Myrnachehl61985', 'Almiretrkrh77694', 'Sibylhgitu81468',
                     'Esmetrwog14034', 'Sybilamtsvr71876', 'Maxinehqoab38438', 'Amiddkyy83549', 'Ginnyixnam86124',
                     'Mavisrckkp04217', 'Dolliexuyzm30468', 'Cindeejffjg63328', 'Hadriajdgpl76304', 'Madacbyyk01238',
                     'Gerrigluqo66856', 'Philisellmf07473', 'Diantepkj35942', 'Orallesqnkf61096', 'Theoncyiv20902',
                     'Britshauu61280', 'Jeanmrxmd80186', 'Prudyaqnsl84430', 'Wendycycne96517', 'Nanceemaavn70439',
                     'Dorrisvwlby47586', 'Gracieankdy08376', 'Meagandgkdb07089', 'Jandytseki35104', 'Ivetteljdgp83045',
                     'Aprilhjqxz19703', 'Freddykoknz05367', 'Mayxdlgf72071', 'Brigidytazg22361', 'Bertaeiusk64388',
                     'Margixshyq01527', 'Aubryrcrwj34917', 'Cammiepmxas08611', 'Ailisjxuld55526', 'Keriihqrz85287',
                     'Ynesdlupd78029', 'Trixicvlvl10364', 'Tasiakmkri22342', 'Yolanemwfgh99004', 'Hildynmkyg73916',
                     'Aileykyxbz24846', 'Marnieqotqn33970', 'Gerrizjkmw23874', 'Wynnieefjzm43287', 'Dardakvtat50015',
                     'Eilisijvut87027', 'Claregdngw91573', 'Ellentwzn22583', 'Tiffykehcw15978', 'Myrtleoqnzj52307',
                     'Rivkahecvwb86601', 'Janithniqtb80848', 'cpsnyley2921', 'nvuxzwbf2243', 'vcohkbmz6276',
                     'kqsm05rvge50', 'paggvswq9412', 'ihbt54tdyy71', 'prhm90ufmf14', 'bhgb50areh52', 'fryz02lpyu10',
                     'sqghmfbj1233', 'udbo09cblj77', 'tetc96xphj15', 'uuxq70akeo90', 'ipanfcyc8067', 'igeutsbw7075',
                     'pvfe35tkgc33', 'frzuxfea2951', 'rinhtzym4882', 'bywjqhnf2671', 'povk93ulcs42', 'fsheryxa5322',
                     'wzpcrihi1644', 'wcnwouki4632', 'qrxh55rprz23', 'lbaz94cqgm20', 'jdjp73rbzv00', 'mxrv18wdxa36',
                     'btdkqvol7223', 'zzpn18bzla42', 'xjrvekuh7253', 'rjcp43mzsh59', 'axgphbts8620', 'kemg67irpw94',
                     'qbub56fcrq56', 'vnza23heyh94', 'hbll13pqii35', 'oqswmrsz1808', 'opsb88wuvi03', 'bgsaqgcq9072',
                     'dvim03qntw82', 'xlhv02seek67', 'Marriswbxjm34873', 'Bonneelvrqy91203', 'Wylmaxvcmp72550',
                     'Imogenrpekw00993', 'Sadiecsqml59154', 'Beckikvdcj79691', 'Goldyegobp78935', 'Mabelapmie41087',
                     'Sonniebuddf01509', 'Carenaliosu58361', 'Agnanmeic81789', 'Karenucsui63661', 'Renawklzb26336',
                     'Lyndelqdyzn51226', 'Edythexarwc78917', 'Ruthyptwdn28698', 'Aliatfkib92972', 'Dosieufgp55367',
                     'Shannadruvl88367', 'Aggieetdrp69288', 'Karrybegjv99590', 'Yvettekhxvy86107', 'Cynthycshib66675',
                     'Pavlaohggv95101', 'Chereianin20006', 'Bobbeexzbfs47672', 'Linetrirzz14327', 'Robbynjtjop36552',
                     'Gizelafguob11777', 'Lonifezql98426', 'Missyobmdh33443', 'Raneebsdfn00280', 'Tedrazlnhg13674',
                     'Allisprspf82731', 'Philismrayi36530', 'Annisanynf45894', 'Drusiyjqvf97733', 'Merielnpfmq95796',
                     'Arlineqsqpk12141', 'Lianjynv96409', 'Tessiedyhta57666', 'Bellexuadz81990', 'Tamraoxbmz23371',
                     'Ardyskrqfx86747', 'Teddiebhtl60121', 'Tristaogbwe30421', 'Pearlaucdxp64985', 'Bessieyzqen47474',
                     'Carlindbgsd04404', 'Biddyqvgfe74832', 'Riccauixcp76989', 'Hollieyqdod00973', 'Dodipoijo32754',
                     'Thedahfxhg33656', 'Deinapstqe80522', 'Danellrhvww87289', 'Jennieuuosx49580', 'Hattyiwtxd41623',
                     'Selenagyncl69167', 'Caropbrzj41567', 'Kymvuqws03311', 'Nettyydphd99359', 'Beckaunhux58118',
                     'Lethiacoold86372', 'Perlgquwk15087', 'Dorasqrbx03816', 'Jinnyodpbq46265', 'Aprilsutzb62252',
                     'Nicoletnopq99664', 'Tinebxwsv16484', 'Stormujslf03676', 'Shebaevzma76992', 'Catinalqwft50305',
                     'Ashlieigklg24616', 'Ailigxlfr89815', 'Luiseycbzb44291', 'Frankysuwfp32456', 'Sibbiegeyoz09434',
                     'Sylviaiommf17161', 'Dulcierweuz01335', 'Gillqhvch52471', 'Mimigzwuz81959', 'Gretakyhdm25487',
                     'Denahwczu03757', 'Karinekqzft51796', 'Brennavbkfr45817', 'Luraqtsrt25180', 'Karipbdjh60271',
                     'Vikkyoeypc02039', 'Mauraeiril47957', 'Meggyrveyc90127', 'Sibelnqtma03931', 'Bunniempbse22664',
                     'Kanyajgccn67255', 'Rodavkxgu41792', 'Lesliecqbng09498', 'Jackieclvj06839', 'Dauneewcnd91993',
                     'Bernikjnle48108', 'Margybogry36646', 'Jessidbbfg15251', 'Cathevzhkt02110', 'Angepsyxa71428',
                     'Marniaodagr51782', 'Leawnntv46680', 'Brandeztlba86258', 'Lettykpddh59938', 'Natarkpfg32486',
                     'Dixiexbwdw89331', 'Kareeaiimk64924', 'Naraddgyu14163', 'Tiffikegtd72696', 'Beckiebqvq90257',
                     'Norriitkxg88400', 'Gratiaaklyx97946', 'Daronwmyjq89134', 'Evonnetrwvf04617', 'Lultexn86300',
                     'Mavrakawbw08436', 'Shandyhphgu03453', 'Raenddpe43376', 'Druciegqfor92120', 'Tonieuzydk24249',
                     'Elsylpbgm02674', 'Trixihxqup00783', 'Nickieeknpm50265', 'Minnamyixy03815', 'Adanmrpxz36665',
                     'Guszvjkg40623', 'Tallouhviem99877', 'Zolamdukf44610', 'Shereedekpr79149', 'Carirzhel92481',
                     'Juniesqrcl90485', 'Alysiaeyxnr98013', 'Nikkifwraf21831', 'Erickaxzdwp51619', 'Anakglop23079',
                     'Ashiaydjab64222', 'Kaylilxtpst68338', 'Dashajzwis41900', 'Brinnaskaaj46219', 'Claryneaqu45884',
                     'Rethaonlaf58483', 'Emmeyarjmj79526', 'Daffytrtvs76339', 'Mandyydttw19447', 'Vickyjcaza76032',
                     'Gretalysush32618', 'Albinagwcwp62611', 'Daffywehww30371', 'Randieieuyj03063', 'Aletamnkkc18677',
                     'Floryogqox42309', 'Noreencjsnn95170', 'Tovapkffo30389', 'Sarabljdi67470', 'Corissuaslz81629',
                     'Enrikakwbkb92208', 'Lindsyggcno45700', 'Zaraopnyt86889', 'Maiafwhee89750', 'Jobyemypvw75924',
                     'Joannehgktx37938', 'Doriseikzdb37418', 'Brierayvzc90112', 'Kimmyytala33591', 'Happypcshc47799',
                     'Fernqwguv34741', 'Nedajiyqu09446', 'Jolynphqbq10661', 'Emylexknto18087', 'Jainessizz32778',
                     'Fayfnmic98868', 'Marysnvwpx13518', 'Catekyvou52289', 'Emaleeijpxq09869', 'Dixiealpqk22933',
                     'Wenonafqsew55496', 'Erthaobtgf89492', 'Leahtyhfm61162', 'Kataiknc83079', 'Adahfvsup38867',
                     'Hopedtsig86349', 'Terriuzhxx29577', 'bzqa32qjay93', 'rdfs53qrbc94', 'etxa55lgum76',
                     'uirn82joas97', 'fzglvafx3354', 'yfba11gmoi23', 'ntae21wdqf20', 'wjpwhjet3700', 'fzdw41olhh39',
                     'ybufgege4031', 'jdly08dmax24', 'wxet23dklz55', 'tqql07rjyf18', 'edcf72gezl03', 'jrqh82lyfm87',
                     'cgmd00ivnc74', 'ckvsvyja0112', 'zznp54ukwe06', 'rdkwlisu7556', 'wmwr74uris96', 'sygnadzf4751',
                     'aakcufbc4176', 'olwy92rgmg32', 'yhwtxsed8970', 'suwtdluv7350', 'fswcylge5930', 'ggrkkqyz5660',
                     'ghmttzbk8160', 'afrwbtzu8105', 'gqor99hbyv77', 'crfs93lfxv61', 'lugs89itiu51', 'txhe44osjz71',
                     'yjjn54dwwu02', 'vvai55kgtz71', 'bqhfzfbz6061', 'elma43ujyp98', 'cjoj61cpgl27', 'miupspuj7154',
                     'zucyjizi3492', 'aeskcvod3990', 'shakelxw8050', 'hvuaexnp9997', 'qgow89yved84', 'czeegjjj5581',
                     'zodsfwcm2872', 'nxbhrjib4761', 'vhuv66kvev02', 'hsaaegpt3577', 'nbrsyjau4182', 'vhmqasms9439',
                     'kffy52hhuk70', 'cbik89iqff58', 'ihba17hmzz55', 'ggfi81kewu66', 'rqvj39dhvo90', 'atvmtoso7282',
                     'xpyiltgv2731', 'qzsn53vgqh78', 'wvfjiioo5765', 'feozxyhf2750', 'zbyzhvnj5211', 'mmzt44thao87',
                     'kehrgltj5470', 'hyorqmsw1276', 'ajtzehmv0367', 'avyhupml9195', 'ppnxopee0283', 'hnachxcc8299',
                     'ctke36jgnu19', 'djfc80osls13', 'ihre32nacr73', 'ajcrmzzp4536', 'vxbd98zltr89', 'vjvh83jvlq65',
                     'wqsm59ccyd06', 'nskw27iyoe66', 'ojnnpzqs7136', 'jexu92whvp49', 'huzq99fwai50', 'Nanasniwj29798',
                     'ixlg76feel10', 'Kassipxauv80467', 'kowlymxr4562', 'Ulrikaclger35463', 'Meggietktvg02449',
                     'Maisiejjrup68068', 'Xyliaxjztt91052', 'Noreenrpnzp38372', 'Bobbergzzp83423', 'Anniebylme59297',
                     'Andyjtlho00577', 'Brinnahavfy58987', 'Wynnfflmh39029', 'Dottiedzbmw88398', 'Jaclynjfwxb79875',
                     'Alysonzsslj16736', 'Gipsyesfrj59016', 'Toreylxykr54608', 'Hayleykwtou21356', 'Marciexetza74540',
                     'Merylopsif58709', 'Zenakklju29151', 'Tandyptepl73320', 'Indirapncso04008', 'Morenarkcuy98354',
                     'Mimisppmy08908', 'Pearlawwsaw04904', 'Vikkywpaxq32331', 'Coralrbtwn79837', 'Persisuomlc97087',
                     'Coreendtvss02681', 'Yettyzhdsn50869', 'Helentdkcv91778', 'Tamicefzz02229', 'Corryzfaej78888',
                     'Sharlahgtid39862', 'Elyseufoaq13585', 'Issirseww53941', 'Hellikgmwm83479', 'Paviarbeuf83599',
                     'Jeanntclz92282', 'Elyseetubdd80617', 'Garnetveanz92365', 'Amyedwmnj70104', 'Jotvwqa44347',
                     'Tiffiyqank08414', 'Maloryfxopi32019', 'Kateyrqik97222', 'Madgejgxgm07133', 'Jeweliqewv26653',
                     'Paulybsktw98749', 'Ursadxigi91369', 'Desiriwvlkv58698', 'Neliaomsnc82481', 'Edythkeyun51732',
                     'Shalnaaqwxl91027', 'Gwenrulhr96651', 'Joeannjjywo46130', 'Sachaenzte68208', 'Lonnaovtin06489',
                     'Zulemahmwye97913', 'Bobbiukddd54004', 'Nonnahxdyow43514', 'Basiashmkf11570', 'Claudegwzwq94053',
                     'Taliazcteb24951', 'Loiszwydj90736', 'Lyndacogzn20364', 'Alycejvjke39676', 'Brynnesylqz70404',
                     'Tiffietedyj74937', 'Sibleynscmo95202', 'Zarlaqqqqg29939', 'Finauecia86843', 'Amyecwrbq97064',
                     'Catyhcats79996', 'Shantavwltz14122', 'Blanchffifm83608', 'Tammiezjbey44748', 'Celenezhlkw98790',
                     'Dodieyghbr73638', 'Vandajbaam42473', 'Rhettacsorj00219', 'Neddauhyig18826', 'Peggiaunqv01596',
                     'Shannateybt82750', 'Sunnyunrta96073', 'Daniuexgm88316', 'Shellldjqa55063', 'Romonaefqxs98548',
                     'Shaniqjdzl37427', 'Cellelmfdr19778', 'Odillevaitf99960', 'Nanciuktrb87786', 'Addikrtpi83225',
                     'Britnitdsav07723', 'Zandracuaqt02235', 'Kylynntlxir98301', 'Megvvnjh27074', 'Cathifionp62188',
                     'Vivaonotx49748', 'Shariaoonqd96772', 'Rhodiaoltho59371', 'Marjiedhnxl04820', 'Gertixnbju16872',
                     'Eranplyko93637', 'Mabelrftyf91233', 'Debcpjnf38312', 'Annicevng01126', 'Carlenvfxhw54834',
                     'Fawneeetts58703', 'Kizzievgsul90087', 'Rosenesjlxy01337', 'Danitchtmu22013', 'Bebeppqqy24025',
                     'Carreebfnye82952', 'Hyndaurgyv22758', 'Bobbicboad54285', 'Lelamcegj89174', 'Kippyfogny99801',
                     'Lucyzdqpb88509', 'Ilenepwyyi79442', 'Madliniwdvs64877', 'Mearaacpyk36293', 'Maiseywgooy70563',
                     'Katyalrbk50707', 'Staciepuxbd30900', 'Kattitnrue69180', 'Doritalxrhm02891', 'Lolitaoepvd84234',
                     'Crystaptkmd82636', 'Lilithxtmrb63722', 'Kettitrraz27857', 'Wynnyftaif14291', 'Kipssgga69695',
                     'Valeneqdvhh67610', 'Katizipra73685', 'Penniepqaoc86029', 'Jorriedhisb47131', 'Violebfyfu26809',
                     'Edinwjwkb48961', 'Caroleibuvj29586', 'Jemimaqfslm54281', 'Jodyfhyto79743', 'Pollyuceew71730',
                     'Wandaowaud90544', 'Arlynmjhpo79488', 'Angiluqgpg44854', 'Audrejnevh31147', 'Zorineqlfyv32935',
                     'Codytqqmy26489', 'Luelleysiyp53837', 'Rahalcgzdl08113', 'Venitafwlqy28844', 'Kristaiisze68121',
                     'Gustadkaiq06442', 'Willowsmpwy88541', 'Pheliajinwq41619', 'Catheyiutr40431', 'Lexyxeubx99508',
                     'Dronapdyff73069', 'Allenehhfdp81753', 'Cyndiejlzlz18820', 'Orallankkfy53463', 'Dorieijtme53911',
                     'Tanhyadhaid27896', 'Sharonqabam44237', 'Blissekvncc69267', 'Isisuindt28790', 'Bettyeebugp35668',
                     'Fainatugad69014', 'Staceyhbvbk26923', 'Deejfdlg25257', 'Vickyhalsr86664', 'Cheriewqnho43302',
                     'Albinaxjdxb59270', 'Lorylatkn45878', 'Iritaxhoyv58203', 'Danahjbnw63393', 'Ashlirxggg16674',
                     'Gretebklhp31106', 'Kristiokxrf75902', 'Darbucrmo19964', 'Eadawtylt63591', 'Dolleydkdbo61597',
                     'Lorainmjkpo97873', 'Litaoagil16321', 'Deefhfia78653', 'Amabelvffce53236', 'Quintahixgs78479',
                     'Stormljxoy91394', 'Feykqqjs59912', 'Beliadkfic84806', 'Merlarnmik97193', 'Stormvgfzp41372',
                     'Kimmiejgfhf19429', 'Trennajoikq19395', 'Harriezmhzk97863', 'Rozerjaxe98972', 'Eilisshikk80212',
                     'Stephaydngj92531', 'Ettiqzsch71687', 'Trudiblgms88086', 'Kristamvrif77113', 'Shantaorwor51728',
                     'Joeyzxzgo05918', 'Buffyykbwx67621', 'Adenakccqd77214', 'Leahscboc99707', 'Dorryiekdf47465',
                     'Lishajxcty84970', 'Sellalbnuc42838', 'Gabbievzhsh07657', 'Odellebperj55179', 'Idadzdce79282',
                     'Myrlepihop44070', 'Lorenadqnkn86568', 'Dedraxomhc35138', 'Lavenaleuec38949', 'Filialelew85505',
                     'Teddyxuccf10716', 'Loisetvzhm79666', 'Patsyiqirx62532', 'Myrtaqyiij96426', 'Darladnejp91973',
                     'Bennysglep63975', 'Valezvfrj49168', 'Manyaiybvp22440', 'Renataswpxc44919', 'Piercphiw21147',
                     'Mintasrvbt69048', 'Arletawkkgc21135', 'Rodidgxcp26792', 'Sherxtytc84151', 'Ronnieskenk79194',
                     'Ermafqkoa20165', 'Kelliadsrag54938', 'Megvagft18890', 'Petraqdqdf19337', 'Eirenatqiwj03724',
                     'Keeliaqezkw22007', 'Beliapdsai52305', 'Vickyuskoc09709', 'Allysrwehk10594', 'Zoraikrfq68867',
                     'Tovepbjon96173', 'Luckyvfndc77674', 'Catheenyzof59179', 'Diannszteo98714', 'Serenalxqod43525',
                     'Austinwtvim79248', 'Ivoryymfjt18068', 'Sekafoizl12430', 'Mirannjbok77788', 'Sonyatvpad54372',
                     'Lucitawotfw00320', 'Kassibhorl26000', 'Correyswipj00957', 'Cordeypdlrn34582', 'Trixymhrar78570',
                     'Nicholcexfn28375', 'Cassybwuaa63239', 'Zulemacmrnq87793', 'Brittehfsza85170', 'Pruvldnn26077',
                     'Sianavhfyg23673', 'Brittepdpzl68850', 'Randiejnzhi89664', 'Gerriewkgtl22684', 'Dollialmfv27048',
                     'Barbyvskxf69808', 'Teddybhnpr21412', 'Dorisehxbbu61613', 'Vikilqmqz29246', 'Dynahxihnv61176',
                     'Cindafcdri01424', 'Laceyjsatf63147', 'Lesleymhgnu92803', 'Julibgnuu58681', 'Lonniemprsl46510',
                     'Aniatuhpc52141', 'Colenehfxef96522', 'Dayleftxjt10623', 'Nolliewzicm15868', 'Andyjibjt70137',
                     'Maggieqdcbs55194', 'Suzyebglf19850', 'Vikkyfdwtw17222', 'Sherrysfnxw85700', 'Randeexfknv47719',
                     'Hedyclhoj25472', 'Nissekerdl68148', 'Ricijjsrb55929', 'Onidanukul47521', 'Pattiecankm58332',
                     'Renniepmdeg25624', 'Karanxuei82332', 'Shelkrxha03216', 'Joyceboykw93860', 'Nanigcvxp18655',
                     'Roxanaerfxx78013', 'Lonnazjwsq40017', 'Clohydiv29968', 'Cherrytjiau00519', 'Neillazfmit08176',
                     'Lusahdznz87927', 'Tildalztrn51227', 'Alanahjfamn51353', 'Korabanjz99434', 'Mollievmisg32877',
                     'Gwennizbnec25312', 'Hannietumhd25363', 'Genevajfknt58640', 'Tinawyqae01521', 'Rikkiubnmd02710',
                     'Jaclinvpcfj33034', 'Estelegbeyx32241', 'Margolrdbs16671', 'Easterimase36620', 'Rayntpue22316',
                     'Delbsxtm31049', 'Tessaglaaw35035', 'Jillieidkky46519', 'Marneyuxipo32902', 'Thaliaewpvn42240',
                     'Piersflsz27316', 'Rubiqqdfq29365', 'Salleekiprr83385', 'Billyzjkma18736', 'Jolilqldy92195',
                     'Dodywvqqx63331', 'Mollydocdt56660', 'Arynwizhk35987', 'Loisezswrl45113', 'Olgahjhxo28237',
                     'Koraqpwik51036', 'Martyiyjvn59199', 'Arlyndmsmm48512', 'Ilyseaapcm76142', 'Vickiekukoi96531',
                     'Galinanrfek14472', 'Mercyyaxjz15436', 'Vidaditpb27136', 'Ilysegdtmp98949', 'Canditjnsn20583',
                     'Amylqyqn37035', 'Holliepsola05938', 'Judielxdpa97087', 'Reebaslhre03570', 'Valdyrwh55607',
                     'Berthaniyhv59443', 'Filidesyfjk62672', 'Nessigbiuv30813', 'Latiamcpbq36882', 'Fallontjtte29490',
                     'Nestatyirp69963', 'Blanchlegtn71937', 'Isalbcge17398', 'Cathenxlrr19853', 'Cyndybvbdh95921',
                     'Austinrpcjg95996', 'Eranamlzn05277', 'Erickarzwre79824', 'Lillisfgdll23181', 'Ritahlyll66600',
                     'Pattibqpct92371', 'Rethacwagw09318', 'Marlynxizol65672', 'Denaqngib02635', 'Karrielifae64548',
                     'Catebrjzv34980', 'Caratfbel39995', 'Carryloxmz66100', 'Calleyguepv20880', 'Joseyagfdq69316',
                     'Tybiepxktq37826', 'Willowpadqg00978', 'Alydaxgscb76849', 'Sindeedlbkk74430', 'Linvgqwq10474',
                     'Goldyeuceb51883', 'Doreenhbwdq60091', 'Manonrevdf57841', 'Denyseyqhdd61402', 'Cleoyvinh07452',
                     'Lelandfsrwp02403', 'Berttimct17226', 'Cammyjxduu14738', 'Frankvjeiz24543', 'Thelmaylnkn40264',
                     'Janinawqvtf95958', 'Darellcynvv69946', 'Nessiejhkjq59256', 'Aidanjsayd27897', 'Gertyyayrj73344',
                     'Amyettkln49584', 'Beulahfbjrh24357', 'Winnierrbnh45761', 'Lillaqmcjh37007', 'Poohxgagz13947',
                     'Sisileujdzd92402', 'Jyotighziq52744', 'Vikkipmixu22155', 'Alinesayjn57093', 'Winnejapof82877',
                     'Mattyunkcp19519', 'ssixtjfd3421', 'fjbdocyf2062', 'uzhl38rlqx19', 'xayx25sego22', 'lmlm24pmyz76',
                     'xfse54aald35', 'fais61bdfl18', 'givj18nujn08', 'rnfkmjcy0834', 'lneu81lntg06', 'fzie82xvdy42',
                     'zaqr80yenm80', 'xqpr51lqty27', 'yaoumbml8172', 'vkwg46lauy16', 'fdqn82smvx38', 'gchrjohv2434',
                     'oohiczdb8104', 'azcb45tdyr05', 'nwfvpdhv1275', 'wyik05cuhe24', 'rrpv23bxtq08', 'obcm96cgkz34',
                     'aspq05frss89', 'werg20ntug88', 'wqdwphlh9436', 'pdilrnsy1057', 'wnzr34vnes57', 'bplxxrsf5124',
                     'ehoruyee8207', 'htap33sbpe57', 'fnhrgowv1846', 'stdfmamu4575', 'cvhx66dxzz12', 'eupb96wllk99',
                     'uewmjmrg1294', 'zsne21yjrn03', 'qojzmdwg7097', 'uudntwyu9916', 'yrdpciuy0676', 'eohtpodk4994',
                     'Dyannatidal05371', 'Isiswdnwl20563', 'Jyotigkrbs68720', 'Lorryjnjvd33960', 'Noamilhgsy52587',
                     'Cammisvrck11472', 'Willaukghl84889', 'Callymphmh52775', 'Zorahygncz46244', 'Annisdmxqy92604',
                     'Halleymzbzm39813', 'Faricazjqyc66963', 'Nettyhjzqs47107', 'Iritahlcvg59232', 'Kacypxodp31555',
                     'Elmiratltxu00420', 'Korieyzxhg98965', 'Vandarkdwi42514', 'Natxeqyz52171', 'Stellaylapv44763',
                     'Tarrazjpoc08382', 'Shaeohrpv87222', 'Cariaxnbe49632', 'Rhebaqudco68017', 'Tybiessiyp19758',
                     'Lissilmizy45748', 'Jobiesehax96736', 'Deannattasm62654', 'Erynuhwul63087', 'Kathybybag78593',
                     'Melarhayf82499', 'Dannyccxow08388', 'Trishgijmt49743', 'Tobeybjric52945', 'Roxinepnxcb65998',
                     'Saschaggbil25452', 'Ailenexzkbx70937', 'Meganmzvmx28898', 'Reagkqyx73643', 'Erminasbmyp34086',
                     'Mabudhcr48452', 'Trudimtkye62641', 'Terraiwxiq38854', 'Leonannfdc29766', 'Emmibcqww12284',
                     'Midgebipir65534', 'Fredraumznz56795', 'Edithteaiw86954', 'Cristiobgrt36479', 'Shawnaqkpys50986',
                     'Mabvacgn98699', 'Paulacsvhw34493', 'Florarrsgb82007', 'Anniekatjt85199', 'Fanlaunq41945',
                     'Barbeeieuyg70340', 'Gipsyxapfj46236', 'Nickydqjhq92004', 'Savinahyczr37211', 'Lanajjets27560',
                     'Carleysljrc85316', 'Rivaupecv42141', 'Alvinafczwn31792', 'Ettixzhfw02425', 'Bonnievwavg63400',
                     'Babbiezzhsb73868', 'Felicepettm66048', 'Joeannphsue26247', 'Lucieooemk71003', 'Megwjwii85816',
                     'Desirifmodn88018', 'Leonenqmsx56102', 'Coleenryupj97397', 'Reggihqixg71649', 'Kataegftg14443',
                     'Binnisrlxd39852', 'Kieleylyvj09137', 'Raquelielmx53353', 'Fraydaamprf52904', 'Ditamowra42187',
                     'Fanzysqg83705', 'Jolyncnprh61068', 'Dennieqpevv48080', 'Glynislvedi16908', 'Hzeldnepu65132',
                     'Arleenckgbl43727', 'Brigidnmjwj26498', 'Nitajprgm82856', 'Addiavfwbv35498', 'Sindeeijxnh07847',
                     'Jenatbroq89860', 'Brigidzwykz07982', 'Naomiunxwj05886', 'Vannavrjwd86062', 'Lindymsdji53589',
                     'Dallasygpmv79452', 'Ritamtimm48853', 'Drusygdjep28295', 'Kerritvvzy33632', 'Arielnvnpm10710',
                     'Araibewy17895', 'Gwennywvdsl60670', 'Unaluwvf89222', 'Timmiedntel76954', 'Shannaubach46089',
                     'Joliebeepa60928', 'Eydieatchp37018', 'Rosebuqhk84700', 'Cookievsbdb11690', 'Gayeljmrbm05411',
                     'Fayinaxxrnm17470', 'Hollyedmes82789', 'Eadafcany44443', 'Gustakkwgv62324', 'Margogaldt37985',
                     'Zenaccuix71548', 'Grayqtsng92484', 'Ebabpaoa36176', 'Karinkmsma12165', 'Barrydmdcl51503',
                     'Tonyokimz70464', 'Noreanhvell48980', 'Adorewyeeo69946', 'Sherifnhqd91824', 'Devinawpcfz54971',
                     'Dronalrsbe55072', 'Vikiqmkkz69238', 'Louisaunnrp01710', 'Anetztfho80771', 'Cleovnorh09628',
                     'Emmeyelwaj66330', 'Amyejnupd64385', 'Trudecjcsv71719', 'Ursaiqwrv43562', 'Susanhcpwf08123',
                     'Jazminbadzf03652', 'Rorytaryl96070', 'Sindeejhnbh81717', 'Odiliaxmzsw06538', 'Sheagwriq72106',
                     'Cecilysaeke97099', 'Hindawqgaq25870', 'Charokpccn83889', 'Ardeenniiic29391', 'Senaegwkm00837',
                     'Zeldatyiwj08110', 'Floriswvool39913', 'Idafjhmk16551', 'Brynnykezl04705', 'Koraflavy96457',
                     'udouafzk4756', 'ndfq60yuxe10', 'prxmojnh5480', 'tlyc99phsx94', 'ydanwrpb9990', 'unjq81qxkg68',
                     'mrub80zgzn25', 'gwxk64rpzu06', 'lnug48oeib33', 'ivxq48tund07', 'ngdmexoj0177', 'grgt64wcdq94',
                     'oxdwehxe6814', 'sphc46ziqy84', 'pakx96gcxx48', 'habs89azdh47', 'eiltvcgc7626', 'kcwx65zbxo32',
                     'pepfhffk9988', 'hveg14gqen32', 'iywwgfpk4202', 'ozds25tzpg17', 'anfm32eide93', 'auvp66prmv52',
                     'bvlc74eouc97', 'ofnkhnut8931', 'aompmuzb8423', 'naou97syxw43', 'vbql66mrtz78', 'niehzxve2225',
                     'rwuj15ppyw43', 'byfdjpwm0521', 'hyjmaysz3204', 'ahtluooe2258', 'tudy78uuys89', 'wxlg96xsfz86',
                     'cjkfvhgi4990', 'zuyq54qzpt10', 'bolv61citq95', 'ecrh63faek34', 'shinxznp6776', 'Tyneaywnt26504',
                     'Dasyalxyhi40065', 'Fawnenhsuw15787', 'Wendacurcu88789', 'Gussiiqdwz06433', 'Wiloneeikep00331',
                     'Ynesqqbae19441', 'Janeyescm86577', 'Darciervhdx61403', 'Meggiedmdji54878', 'Krystakpuhe97415',
                     'Dannyerpkod73007', 'Ardycejheej10708', 'Agnaqqhhq09682', 'Laneyktckw19955', 'Marisrlxmr74269',
                     'Jerrieyuntu46787', 'Carynigtge50166', 'Daffikptsj62646', 'Hayleygcxpg64835', 'Laureloniqh05886',
                     'Marielhmtrq75300', 'Davineakmcy22083', 'Hyndadrnqd86756', 'Mickiegodap05095', 'Alikasntmr74146',
                     'Sonniekvjud71203', 'Melodyvhetc87867', 'Romonanbhka01466', 'Joleerndis36542', 'Clioatvks25445',
                     'Jadauyxyv39632', 'Fawnihidt33533', 'Celkahxiew80135', 'Tammielpfot62008', 'Bobbeeevcth74441',
                     'Tovevmmlt19811', 'Reniehhnzr74954', 'Kaseyvqhgq14185', 'Tatumdwepl17248', 'Vivfsuex16005',
                     'Tishaofzcf30981', 'Shaunaykggm51164', 'Katiislcx53858', 'Brettlqqsh72376', 'Hetticgary87505',
                     'Carreelpbrm49884', 'Alvirauptqv97496', 'Sisiletnhmp66399', 'Cayevliao31316', 'Marylmirg18734',
                     'Catyvzvrm06207', 'Eadiepihqz52687', 'Nataffzyh78164', 'Robbijjklq95966', 'Karoniodpd33410',
                     'Moreenpibgi45610', 'Godivaazywq76444', 'Jeanekqhnt30323', 'Kaileumyrj67504', 'Margajnhah33523',
                     'Hanakvcjj22347', 'Doriandxvnb65653', 'Adelaiccip31497', 'Cesyaaoqaf15795', 'Kettichrdy11041',
                     'Leannaddjsd30093', 'Belledvlfl93270', 'Bobbyjburb46144', 'Traciqtkoj65225', 'Lonacjcjk71888',
                     'Avivajjyvz87040', 'Dacyncntw29267', 'Jobeycjydd98713', 'Devoracqgpo73114', 'Blisseixufi74530',
                     'Bertizntlg54775', 'Amatalxafi76234', 'Gwennymypec09010', 'Avivavyicd59423', 'Tabbyjztqp80379',
                     'Mableipqcy67216', 'Nolieutzpr89784', 'Dorislqvof73997', 'Abbeyxtiyj23442', 'Kiahdcthy70912',
                     'Sibbykqmqx82340', 'Dollyivbsg85762', 'Glynxhbqs65684', 'Lilahkdczq20867', 'Adriaifvdo23328',
                     'Krissycyhdn43564', 'Caljwkip67932', 'Metacijcc23181', 'Shalnazhlcx28510', 'Sheadqbpo17599',
                     'Jemmiealmws32812', 'Pansyxzzee99682', 'Vonnyhmxvm08046', 'Floqojfh06844', 'Roannecxvbu20680',
                     'Dorenamrhdo55180', 'Gustahavdp62382', 'Deniceqrpwb74476', 'Kettyoogqx63326', 'Ranavkibb91219',
                     'Dustyaobtr01908', 'Dollyhcxyj53630', 'Nessierfbmc96045', 'Jeriyinku91986', 'Vykysuhub42981',
                     'Wilonawcitp64123', 'Koosdkje56350', 'Chereynfglf08403', 'Violetvumhs13233', 'Perriorrfn93119',
                     'Karaddzyx91108', 'Biddyerzfe35147', 'dghhwdja3280', 'rrvg31corj98', 'jtmabfrt1359',
                     'yckd08lkdg30', 'vdhjldxj0724', 'viigrfxx9123', 'zbtj05spns74', 'sbguvjtq6630', 'ewoiwadq0900',
                     'bimp82jjxf30', 'tvwwghhm1179', 'qfpx90rhco94', 'zdorzldl0104', 'vrjb03mphh07', 'qhxtezcw5354',
                     'dsnlegej4045', 'etnb82mdgw32', 'nwhp25kbpz17', 'xinbebwi8241', 'abvidmdc0890', 'rlkd94xoun87',
                     'fatelwpi9827', 'ntwmvimm6635', 'hlsfzfef6145', 'jebr66whjh76', 'reyddoec4313', 'othm25nuaw43',
                     'lvzmfewi9909', 'gigm15fbmg07', 'tlcw43nzae26', 'riwt57ftej38', 'wxdp91ahqx32', 'lsma46xufi24',
                     'beny30faeq22', 'pwupwaqp3349', 'iuunmlry8797', 'lxow39rhwb34', 'hndhftvr7241', 'tqpqysif4306',
                     'igyz68jrec68', 'uuzd15bwib18', 'Genexwxra32132', 'Rebajyrxv70464', 'Deberauxwss05044',
                     'Suexlbkv17681', 'Lilaskptkl41116', 'Traceytqlwg40002', 'Inesbuexk75266', 'Pruxxqqn91540',
                     'Frandcviu48620', 'Nancexarfx06375', 'Mernaszyum57555', 'Karazyniz14437', 'Leiavzdvy71459',
                     'Sulatpxor10221', 'Kerihjpff66952', 'Ibbieigifo76172', 'Kacyjcmzs17776', 'Aftonlmmvb56015',
                     'Trudekinds54216', 'Rorazhnjv77512', 'Zenarozlv57282', 'Ivoryprisa19903', 'Roxinesumqa29838',
                     'Sibylkpbmy17222', 'Kileyurrld75193', 'Gustyrqdvy78676', 'Ritaqhccc22746', 'Dulcemhnfk05549',
                     'Luckytkyck57719', 'Gusjhxwa81265', 'Alananscms35976', 'Danitkrtni22342', 'Rakeluedbq56332',
                     'Korienvhsx20252', 'Roxynwinn86455', 'Elvarqtwd03920', 'Ileanelvntu51274', 'Inessawczfn89801',
                     'Catinabojny27791', 'Birdqvfwo15502', 'Ddenevnfip29312', 'Kellenbzzzk57130', 'Dinanryyx43805',
                     'Allistciao81750', 'Karlencszmc12202', 'Florisbgua59069', 'Cassikcidg77907', 'Mandyzastz64974',
                     'Melonydwtad44677', 'Delilawoffq59290', 'Edithearnun22580', 'Catleektbrs77008', 'Brennbuyis68669',
                     'Bonnidfieb66626', 'Carmonkwxbg26392', 'Mintyzdn28509', 'Denyseuadwb64646', 'Sonniedtlip78616',
                     'Sachacpgte43014', 'Lishexbxwq49003', 'Pansyxpski17950', 'Ethelvwxhl80396', 'Dashaijnya34139',
                     'Eydezzncd42009', 'Liagtowq16770', 'Alietybub67919', 'Marlynskqek69479', 'Agfspwi91438',
                     'Laneyqpkag54336', 'Yettiehqcmu62350', 'Belviatzzdq39487', 'Timmiecsqvo75255', 'Walywkqhv76971',
                     'Claryqtrwu03075', 'Bunniekapzj97046', 'Lannyicacj44633', 'Serenawhqkw25249', 'Amitieokloc41190',
                     'Fawniaicijg87181', 'Debbipvser40117', 'Bettivaabw62916', 'Gaelpasnn00365', 'Britganli59028',
                     'Vinniefwjeh95075', 'Aileyqjxjd74334', 'Reawqcas42998', 'Nanceetlkdc40210', 'Oneidapdvay72057',
                     'Wandiebzgnk11689', 'Norazccov96474', 'Jolenensdho33092', 'Tommykibsz57587', 'Elliypwea01941',
                     'Tiffyhtymo71870', 'Maxfwfrw90946', 'Kinnaeukjs87232', 'Tillieftpcd42995', 'Brinyrwqwk49426',
                     'Ddenexlsoq33031', 'Gloriamnftn68542', 'Aureagoshn63904', 'Maryaqyqw98152', 'Odellehghlk22651',
                     'Ashialifrt84489', 'Linzysrcat63181', 'Erichaotzhq56254', 'Nanceertrsr00514', 'Cordiekxidh43121',
                     'Perlhcqub80596', 'Hildyahxln39228', 'Kelseyvqyzy62525', 'Charilslqzy60931', 'Brinaudbgo34216',
                     'Shalneuvyry71729', 'Ginnievxrdl05098', 'Alanaidrhj64502', 'Dedetxqmo28190', 'Edithmpoum81584',
                     'Minnatparh08548', 'Mairvitwl50001', 'Janeyoswlc77410', 'Lonnarydlu15175', 'Randaglmfj28556',
                     'Shelacsmrw97021', 'Candyikghy62269', 'Cybzmgos72450', 'Terzabkktk54434', 'Nedaccnci39965',
                     'Tobyeahbmd45093', 'Denyseulxlw30854', 'Krissyootza15679', 'Marnianzmqu59110', 'Nadybkaqn99520',
                     'Wylmaxjyfy29612', 'Janiceqdcym79724', 'Andreiobord29608', 'Dredizcvzj56739', 'Malayjhdu98761',
                     'Hadrialxbij15456', 'Barbydzati37406', 'Jammieapxqe94126', 'Bertidefuf55111', 'Priszonox34181',
                     'Shariapqcsh16789', 'Randyxwbmt91048', 'Jonieygqtl78911', 'Glendadohdd54022', 'Dorthygudrl68166',
                     'Abbeyivwbw74070', 'Claryrwmzc80205', 'Melonykgaze28948', 'Astrixqddbk87534', 'Bernirqdgp35111',
                     'Sonyanhwgv46290', 'Kelilaiyqwb66485', 'Aidavmevf34025', 'Sallyavqyv64404', 'Barriewhdse17226',
                     'Lorenezepby49934', 'Floriyopca02462', 'Kendreqagtj61439', 'Morenaeedjr94130', 'Bebepeovx56932',
                     'Meirqpcj35517', 'Evaniadyddo11403', 'Ellipvgmb11143', 'Minnieldcrq79540', 'Tabbieiwihz00934',
                     'Reedhkhu70483', 'Lanitatjktx38982', 'Elfieejavg56022', 'Faydraojnoj97741', 'Jackiefptbo60040',
                     'Gillwjmeh27769', 'Bebebdclv90144', 'Jammiezezsr51035', 'Barbymxjxd63391', 'Gabieegvjf69842',
                     'Opaljaimz60098', 'Nessieffjs57362', 'Lillyldflg09609', 'Nellewoxkt45070', 'Eirenalhemi89776',
                     'Jackywjawm5029', 'Bettyumjfd06949', 'Bessxcmis23679', 'Mindystfir13601', 'Karlapqvpk12120',
                     'Ivetteiffsw31593', 'Marshaunokx27289', 'Ronnieverke94962', 'Denicejusgv05655', 'Hannidmuhm67527',
                     'Talliefvmim64284', 'Ettaedlxt99635', 'Janotepxmd21911', 'Tandilosjw37844', 'Dustyugupr46363',
                     'Dacyoffzr79156', 'Stacektkou69728', 'Anettejtkri58128', 'Catleegzktt43057', 'Jessypjolt10639',
                     'Davinerikts82247', 'Marthauoppl44681', 'Kimexdkb93000', 'Nanceyticyh13868', 'Ananwqia46931',
                     'Haliewbuts75655', 'Florrywekpj52115', 'Sibbyufzhe55158', 'Juniezompq50461', 'Barriefvfrg52372',
                     'Yvonneonqmz59494', 'Livvyyhcgkj47002', 'Nariotykr58814', 'Tandyjjmig24748', 'Stefajrhhl15787',
                     'Kerriebdsgb72099', 'Sibbietncdn81712', 'Clareynitmg61664', 'Honorwaghk64561', 'Fionarayof91885',
                     'Oracywpw47358', 'Meggiekaezg54090', 'Peggifdinn54798', 'Jessihjyik46800', 'Korriekfqgr14835',
                     'Leiasmngk14377', 'Florepiskv49140', 'Candimghes77718', 'Elicianmtry29305', 'Orelleoibrv66234',
                     'Koreksixr52990', 'Mahalahzylj14002', 'Mufiuwlcu57444', 'Ilkacssml39211', 'Neelyqpgpq21974',
                     'Alleensblee29904', 'Dulcieyfmsr01577', 'Caronxwred59358', 'Aubrieofnbx59803', 'Valerahkogv99484',
                     'Berthapplac81632', 'Astrapjkzt97136', 'Riviovsww27552', 'Sileasckvbq42827', 'Abbieybclr39312',
                     'Bertieiwhlm14398', 'Britathuen30399', 'Ellenuxquh45707', 'Pearlejndrv43039', 'Lindcszod77897',
                     'Kaiasbayi03327', 'Janetaniwcr70749', 'Maudwdzsc44065', 'Walliwvuugx77451', 'Babbivyvl00132',
                     'Davetauuxsz39516', 'Elliextpgq57874', 'Ileanahgnqj51238', 'Ynesydcnr11999', 'Ailedfwbt46271',
                     'Brigidztsbj54790', 'Enidoiecr56451', 'Danilvvmf96243', 'Tiffiedbppx72393', 'Juninanupxw89265',
                     'Riccaxsdoh09964', 'Drusievrlei51844', 'Crissyuptqx18863', 'Alayneltjlt70882', 'Alicaygdhy26249',
                     'Doefkhce05724', 'Calidajqnlu85798', 'Avisbmfss86163', 'Bobbyniulp04738', 'Chereyhdnvf81197',
                     'Bernitngdx08346', 'Dottyfjhvs86847', 'Carlenxnkbw52173', 'Cliomyrmu08843', 'Goldainxpn38083',
                     'Meghanhcsbd84776', 'Dustyitwxh09468', 'Lettiehqrd80197', 'Kylezsddw33252', 'Iliseoumua34572',
                     'Florirqoav74966', 'Reinakjsxt74128', 'Janeenjlbeo51111', 'Wallyjzbgy45271', 'Andiejphwo19961',
                     'Maxiwwciv38769', 'Aleeceucyll11172', 'Jendalwrqc24084', 'Esmeoufvn60935', 'Aleciahrntl11332',
                     'Manoncafjo44015', 'Gingergiwgg61224', 'Eunicewettc26045', 'Rubyuctyn21306', 'Reenaxfaxt56540',
                     'Merciezefqj18677', 'Laneniton39897', 'Helynedkgp23360', 'Nealaqbrcq27895', 'Amisqhlo10085',
                     'Yolanepyxny34666', 'Sarinarzbyj12537', 'Nanceybjeta39609', 'Casslibml64026', 'Nedigjkwx26569',
                     'Staceeqcjch22987', 'Lauriegynpk09807', 'Lenkaysiba19814', 'Krystaoveqe03823', 'Kaileznwwc76265',
                     'Wanidsaohun58978', 'Erdavmjgh67764', 'Nevsabxbcd19468', 'Mistymchgw10868', 'Bobinewkvvp25070',
                     'Senattvlx38826', 'Gabbeyogsok31290', 'Lizaiphxv98096', 'Hellijyelw30239', 'Alvirazrkkj54555',
                     'Bettyhpziu49313', 'Avierdaim80475', 'Ashleesnquk67836', 'Myrtaqefxs68496', 'Clarinbmna30569',
                     'Cymbrevjbrc13077', 'Gillanpasml42993', 'Kerrieojbqg64307', 'Charylgnsdo34773', 'Annewojz94598',
                     'Cristafecdf24007', 'Vickyuflee50289', 'Lavinabuaxx77460', 'Oreliaikdtt76449', 'Lintwnxs40601',
                     'Vivaffswd20419', 'Shainerxxbz97115', 'Ronnahlcbj54747', 'Bennietpaqv18025', 'Liliasbyiin55727',
                     'Lonnievquti16588', 'Linabbddm31132', 'Elkaxzlfe30976', 'Gateszjhti66184', 'Perifoxsf14282',
                     'Graygjvkc38254', 'Beretzbgqy82129', 'Mureilspett90273', 'Maiarfcop99268', 'Joreyjauns99292',
                     'Debbiywiqs55627', 'Doreengqinm64949', 'Tiffiwdnci50078', 'Deniceaqwek25807', 'Audyzukco11829',
                     'Alexistnnbq08662', 'Robbycbcor20018', 'Dyannaszcxt87761', 'Erintjhyl34676', 'Ursolambjpd98685',
                     'Tessmwvpm40753', 'Dorryluqdp64743', 'Elnaauydp01652', 'Sabinefjded79641', 'Karetttfj60538',
                     'Florritlsdk11001', 'Sammysakyo19720', 'Agaceitqmk05493', 'Bobbeeejxpd31398', 'Ibbieiplfh48541',
                     'Elwirafihgp11229', 'Adihxnis67740', 'Ardythfffnu43155', 'Liviawgxqo87483', 'Martaozwsm37026',
                     'Shaynafbwzj95113', 'Bertievzqrq23388', 'Raynafulby07689', 'Inessalhzee25799', 'Edythlnbly88237',
                     'Cherriqncsf82420', 'Amberosfsz11827', 'Saudrakcpaa54819', 'Metadenmg99002', 'Erminatrkax29121',
                     'Heidiezizsw41591', 'Doriaowbvc23960', 'Rebatxqrh13207', 'Ardysmirlc62240', 'Oralleyjtbw27966',
                     'Marthapdckj18156', 'Debbyitrfk63011', 'Opalcpkar71414', 'Flofljwr51636', 'Annierawdv45488',
                     'Lizzyvxlfx39623', 'Kelliexqpwq54090', 'Jamimabngjn84480', 'Farahndari76197', 'Petrallzcg23500',
                     'Arethaabvdl32204', 'Nadyahnmci71577', 'Calofnvf10049', 'Wandaqmhqe50066', 'Fleurhqlbp14596',
                     'Cindrauvyrj99311', 'Sonjaacdzu60406', 'Isobelxjxwy69778', 'Kimmninb09497', 'Vinitauqnex00812',
                     'Libbibnjky50057', 'Laceybkcrd99286', 'Helsakaptt70746', 'Noniedwphf74216', 'Dellafuiyo82454',
                     'Glendayoopa67296', 'Fallonzmlai60821', 'Ailaiuuzl95738', 'Tillievicpy59334', 'Deberaerexn68419',
                     'Dorisenwmdh81122', 'Lonnielkqtt86358', 'Devonwqsmp60879', 'Rhebaxvwig78758', 'Reynavbqsf26128',
                     'Josiwdnga43952', 'Alleenjtmkk44669', 'Annoraulrhr35181', 'Zarlaqfszg88076', 'Elenezdbuj33937',
                     'Roriziifm73585', 'Cherypxlmu19600', 'Berthaejqcy04410', 'Ettaovgbm12247', 'Vinniekucpd04418',
                     'Linzyqbxwr05289', 'Cheryjqupa99392', 'Celekojmb54695', 'Lebbieslsfp81080', 'Aurelzxokx82135',
                     'Kelliahjtob54735', 'Honorntqpu16582', 'Ericaytjov79921', 'Carlinhekmn98960', 'Inessavkofh97523',
                     'Mercibmwib43499', 'Vanyaejuoe05797', 'Casseynqvxc35165', 'Jewelkwcmj30023', 'Fanciegyffj22417',
                     'Aileyevdrt00620', 'Celineyskwx29322', 'Paulauwplt98657', 'Luisabfyus90505', 'Jyotixhelk94249',
                     'Gillycowyd87743', 'Doecagdc59648', 'Berthejxrvo75465', 'Herthaeuxmw10151', 'Liselvicb69773',
                     'Billyrruix03616', 'Sherritrqny99463', 'Anyawedtq67119', 'Angilhctrt23864', 'Ivyrnjvf36579',
                     'Marjyqlbtq29372', 'Madelpbbwm74003', 'Wylmagucqr66285', 'Tomiipirr16474', 'Gateskwaog67352',
                     'Angiekxbov11262', 'Willaahftt39242', 'Terijjkzr82176', 'Carinejivhl62256', 'Jamiltdng71830',
                     'Geniarosbf02712', 'Pammigegzk54456', 'Dannyoznml76931', 'Grettavvcvo02670', 'Diannarslxi11144',
                     'Babsrtfex84450', 'Tressathbpv63040', 'Adanvllqx44976', 'Loellamsags79004', 'Muireqqbdv62137',
                     'Trishahweuz82801', 'Meggizxdbp57434', 'Andreiilvre96125', 'Joyadfkuk92942', 'Meiaqpph53120',
                     'Loucpcya02555', 'Suejagin50149', 'Vitiaygvij17175', 'Metaadnze86522', 'Vitiagqdwz40103',
                     'Arlynjymfm35126', 'Lyndelfxzxh75698', 'Leelaycfls33521', 'Anetrscyt81584', 'Dedievxrch80433',
                     'Bertieiknvh07997', 'Milliengrkf48862', 'Anabelsnspk57351', 'Steshaexuxb73760', 'Vereutlrl70277',
                     'Kareevuyyk84935', 'Eliseeefso02486', 'Catiwvjgw39979', 'Fayinawsbez12888', 'Corriekmwei16069',
                     'Mamiextsjr53107', 'Ettaiqsmq34807', 'Aynhdtqw83315', 'Floriaahwzl49886', 'Yvettevdoer83901',
                     'Coreenarzjd84503', 'Doeaaphs09458', 'Myrleinolc98479', 'Beilulewxql43051', 'Ethelmjeft02319',
                     'Dottiwgdjw82373', 'Brittcajoo84054', 'Karryngnkq97936', 'Karaniljd44022', 'Meaganpcgzs24790',
                     'Davitaqitan13324', 'Roxybhdae11688', 'Joleenxwurg14861', 'Ailsuniojrj34371', 'Toniedsjvh02692',
                     'Janeanufhev38752', 'Alisonnsytr45223', 'Florytdlcd10341', 'Maxyxbdbr76625', 'Rheawlytr99933',
                     'Fredanhhdv88045', 'Fanyacncup50630', 'Dinnyrdkwz93022', 'Tovaziuav51285', 'Unajlixf21903',
                     'Mandannzfz79777', 'Lulufynkz84679', 'Dinamyulj68790', 'Ivorysnhfx79945', 'Happyxawqs55058',
                     'Bennieokpit82140', 'Hindadjjme85006', 'Prudyeyzro42352', 'Robbyxovkk08740', 'Wileenwsinn35964',
                     'Emmakfzbj30371', 'Amatalnclx25895', 'Linnieufkky46083', 'Wynnypkyfk51759', 'Joellyqmygl85223',
                     'Kirstihwuia16914', 'Kalierjrfu32691', 'Lissievqmyr52567', 'Marlobbydm45864', 'Leeseioidl46850',
                     'Tammiebcsqy41668', 'Barberolny03477', 'Doreenyogcs00191', 'Katdpill75487', 'Salqevjt27623',
                     'Codyncskc15377', 'Vannieigpgv53891', 'Ulricagwkny66014', 'Dottiegvlat22561', 'Jolysxgnk43079',
                     'Nissakuqwc15169', 'Taragwxhg26939', 'Alanahwdjtp52666', 'Vallyfwhsg60561', 'Cheryebzyzk72113',
                     'Brynnucchg04755', 'Mintasopul55463', 'Oneidaexlpe73962', 'Charilsixhy62505', 'Tammasyxvx04324',
                     'Luluarjng05606', 'Kathyysxih98168', 'Carinakzvmu38562', 'Sianalplyh26284', 'Graceqdyrm92133',
                     'Edenuwfau46479', 'Kelciszyhk78746', 'Araqwdju10137', 'Oliviahfjyp16475', 'Bertikjpf76276',
                     'Jaimedzhju55859', 'Gerryjrdvf93980', 'Phylyszjvqm19474', 'Tonianfqfe94560', 'Orlyexsqn11746',
                     'Karymwdpn63018', 'Leanoryvcbd81608', 'Iliseywxiu59937', 'Amiialntg24323', 'Leenacjqgl24183',
                     'Rowerqiay83359', 'Phebepmlal63169', 'Breecvdyo46754', 'Nanniesabka13154', 'Linniefcwor29267',
                     'Lenorejyzcg16343', 'Kaniadgjqw78146', 'Brennarxnwu72939', 'Cherrinxbgn80866', 'Bibbieouuis29195',
                     'Reevaxllnz03689', 'Olympelskex69915', 'Agathaxqwby50638', 'Cherieptkcz98173', 'Pattyymzeh95374',
                     'Maytpfta17402', 'Danicemtstu69268', 'Lizziehualj97374', 'Sarinekrhpx91947', 'Ardinejkcgy71569',
                     'Andigvddn94091', 'Issijgdgs22139', 'Orsolaxyaap66196', 'Pettvrej48675', 'Judithezltm71806',
                     'Codinbqvs03295', 'Faunwjzdd45768', 'Avivahxtjdt40314', 'Reenacjoub22038', 'Rickyeggap67608',
                     'Cathajjsza37632', 'Kaliswlhp85228', 'Helenaawhvi68660', 'Rhodyhsirn79771', 'Gratanywar89109',
                     'Alizaqwczy51207', 'Stacinblis07294', 'Amitymzuor62052', 'Isaqnyxm62130', 'Tybixhvds86755',
                     'Gabbivlcve44528', 'Mintavyuhm81049', 'Jadeqexlj44194', 'Judyeahpeg40781', 'Jeanbdlok56847',
                     'Coralpqwzl48848', 'Irenarycjw67772', 'Benniewobjp71558', 'Dottucrc49504', 'Beliaiftlk43395',
                     'Romonagqnjb16319', 'Ryannckohc83998', 'Nealausfei91899', 'Dixotzwk51836', 'Marthewsmsl50265',
                     'Winonaiifqi35948', 'Susannzsdwz11408', 'Bryanamtqkr13223', 'Bobinaasngf27318', 'Celeshnrv13727',
                     'Saramysoi89965', 'Joannamhtvx78615', 'Brineyarqxc93928', 'Grierxhyfw02273', 'Olgakmeyb71833',
                     'Evitalinkl30687', 'Lindruleh15273', 'Faythecdvqn12467', 'Linjtvqo88129', 'Marnenvvyu44205',
                     'Janicepjqly72594', 'Rhetaaakon52837', 'Vannieevjna25861', 'Haliusvtb53761', 'Shaydcqjm87211',
                     'Haileerhxhc42136', 'Pansyziaow30450', 'Claryqmotu05752', 'Janetaxrwgr13889', 'Margocsmpv63314',
                     'Dorovsujv45028', 'Addazuvjk79273', 'Denivqgvp06715', 'Adenauskfw66093', 'Tessixblns36508',
                     'Mellyltwki79368', 'Jamimafmhju75245', 'Bessgltfu71579', 'Brigitkmnos88120', 'Darceywikpc70577',
                     'Terizchmt73717', 'Karinnkhbq35717', 'Gertagpmjv35496', 'Liesateovt34046', 'Marenayumod60367',
                     'Eboneefnyen35866', 'Eydielpvmj58516', 'Kattiefioef60262', 'Koriekebbd46060', 'Valewbzbd73577',
                     'Birdxgqha69105', 'Benitafjybp67168', 'Erinfnkyl19336', 'Ansleythnqv73975', 'Lilahlvlxw20366',
                     'Noelqukqa55876', 'Cordytkiwo17732', 'Tillieclbff08287', 'Fayinahrodx69618', 'Sibbiexmqsw85810',
                     'Loisengxk86839', 'Olvaxpxlw20049', 'Nellkhakp24999', 'Alycelckyl59054', 'Frandkdpe20413',
                     'Dustyshter50513', 'Hanazhvsr17748', 'Deenafiemi68835', 'Jerryxxqqh40451', 'Corrytjqga94391',
                     'Nessyyjxbp81938', 'Cindrafbsvc15384', 'Philisspqgr93487', 'Alanactxcx84673', 'Joellyykveg27653',
                     'Nadyeuclj42313', 'Alydabinxt43664', 'Torieognfs45197', 'Carilhzia10921', 'Tessxlxfq58109',
                     'Stellatlgha13982', 'Nelldqdmt47534', 'Shaylaxtuih65084', 'Adoredfesv62653', 'Gayaxaxz98701',
                     'Bergetjdczx82569', 'Peggyzlgny30852', 'Innayzagi58422', 'Vedavveur72466', 'Wendaourcp13636',
                     'Clogkslf79532', 'Torieyiokk37504', 'Chrisxonrh81121', 'Narasqnks49121', 'Ulrikecxylf94410',
                     'Abbeyniwty72195', 'Reganzqbmj68939', 'Renahxdfj28599', 'Amilxqser71453', 'Esmanpdji58376',
                     'Nertazfebf17040', 'Minniemnmqc61900', 'Jolynklzuc89604', 'Kathiwvwiu39791', 'Oraliamndqm50122',
                     'Lillisxgbls21175', 'Brianaulbug09704', 'Tallygyhmq54882', 'Dyannenqarp05399', 'Miranhgpby02188',
                     'Ianthebkcru47558', 'Brityobdm86528', 'Breeksfrk65183', 'Ediexvmfz33793', 'Prudygcjdt82586',
                     'Bobbeqtjfx22740', 'Claraffdgb78863', 'Paulinwdud79550', 'Verinegkrql82238', 'Lissyqqlxf74679',
                     'Janieogdmn06126', 'Inanuogc86249', 'Kaylawbdob66845', 'Austinbbqbo08877', 'Vandasaaat42410',
                     'Raniceoawug68954', 'Johnnamjvyr40012', 'Gabiyydfw06239', 'Pepitaphdzg27940', 'Teddydluxd05386',
                     'Dollietrxzy47303', 'Jobiaxplg79810', 'Tonyeaqtgi56543', 'Aurorayybdr91685', 'Huldakxbgw34959',
                     'Zariasnbhd46357', 'Orallaigmpp19036', 'Huntkurra0626', 'Rodonsimma69597', 'Karlslucia467',
                     'Mcraydeats71365', 'Kytering4411', 'Papstmrsic216', 'Korraforal288', 'Sodekwoock125',
                     'Joorarrez3505', 'Celogreco21318', 'Irajkirst366', 'Araozfland5370', 'Nuestpijus26556',
                     'Kopeexler27677', 'Bookevarda180', 'Kruiscani42552', 'Reaghbeggs606', 'Aminihuels162',
                     'Sierahiett40498', 'Weegeriyah36852', 'Goldihulda13502', 'Casafabel82690', 'Averaadnan0937',
                     'Shymarinz321', 'Givanleno83290', 'Togbatayco43336', 'Isinteddy769', 'Tetzyaste3100',
                     'Rigggady346', 'Pinerecek301', 'Wohldileen7405', 'Giletcrush5693', 'Lueckchem286', 'Elieneget989',
                     'Lendoadib6374', 'Gilerusko9583', 'Ittelpate3840', 'Pepkasonke0682', 'Eadiesero878',
                     'Meolacamm64255'}
local RECEIVER_LIST = {'Carengcmjz73987', 'Jazminsnmoo60133', 'Ronnafiekl84537', 'Loreenmwfpx65335', 'Pettdbzv08233',
                       'Ruthggegq88937', 'Lonnigojls71057', 'Annicervhcj36065', 'Wynnyyxlen43781', 'Fayujspb09843',
                       'mdzjdvoh5626', 'pcmnwhzj7219', 'Tobyeyfttj69376', 'Louclnxk66563', 'Marciedqxwu75903',
                       'Allyceoyknv57293', 'Verlaiuvnb74632', 'Denysencwim05822', 'Lydaqmizb76423', 'Mamenipbz28850',
                       'Babehnkf63856', 'Orsolaxjzxk45485', 'ygfd46javq26', 'zmnlcopu2686', 'dsjbwlum5996',
                       'pxbf05lwoz07', 'Neilahhjbz03212', 'Corrietedkn46060', 'Alfiuugfb11666', 'Kippiejcyks45001',
                       'Gillkmgcs79789', 'Dedebhhul60738', 'Avaqzcmi58035', 'Galedzgni51810', 'Tinapjcsw28356',
                       'Amieudjhu49691', 'Clairlrwdm42543', 'Nattypcrij07701', 'Kimmiesubyn14854', 'Edithahyoxw78374',
                       'Nertieqmxpd32731', 'Cellegkdmi18292', 'Karynacbfd71525', 'Coryuvlwt51986', 'Lettacejfr56990',
                       'Joyetbhxt88466', 'wzubddjd4080', 'fhld47brjw23', 'Yettiekzfri44638', 'Allixiyyxq44339',
                       'Sharylwxxbi11328', 'Danirrhfg11990', 'Rickysgyuu65526', 'Iliseqlhfx79128', 'Doritaiwtrl5583',
                       'Hallielybts05484', 'fyvd44jrmt73', 'hcgn73ikze59', 'Tandyitthe12980', 'Binnionjnh41867',
                       'Dulcevvvvc20096', 'Susannptbcf88804', 'Farahhkssw15335', 'Estaiziwn21714', 'ulyj32jopm67',
                       'hjemsehy8091', 'Malvareqwr81750', 'Karolydynrc39774', 'Shereensslv38796', 'Ruthefomhx15408',
                       'Vickieoogfp37537', 'Lucieeeipn96322', 'Nettiegubbj35290', 'Kerrierpkvx96826',
                       'Annicemrkoe86690', 'Fraydadxssk88635', 'Kelceymuxwp81395', 'Trixieejyeh91580',
                       'Nadeenxxncr75091', 'Deannejympe24965', 'Brittexsbeu82258', 'Tommyyunbp26658',
                       'Earthainawn70402', 'Kaylegxhji84968', 'Shebaqxtsv10520', 'Erintqled37292', 'Kaileywcgpn29681',
                       'Ravenzskmu88313', 'Effieispjd38172', 'Kassieuvros84198', 'Cheriznvcy29905', 'Aliexnryl47995',
                       'Stormidhke83586', 'Teddycfvte04954', 'Sileuvlpc95951', 'Heddatctmq21069', 'Pegpddqf16813',
                       'Janekdgxn60138', 'Gabbiarwjd61114', 'Vannjzdn68502', 'Nertersjto57700', 'Karilkxgsa60954',
                       'Kayefarqk52000', 'Chrysawcmug79577', 'Periaohftm82905', 'Cleodesqc40772'}

-- ตัวแปรสำหรับการทำงาน
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GuiService = game:GetService("GuiService")
local VirtualInputManager = game:GetService("VirtualInputManager")

-- ตัวแปรสำหรับ tracking
local currentStep = 0
local currentStepReceiver = 0 -- ตัวแปรแยกสำหรับ receiver mode
local isTrading = false
local tradePartner = nil

-- ตัวแปรสำหรับตรวจสอบสถานะการเพิ่มไอเทม
local shroomAdded = false
local tokenAdded = false
local creatureAdded = false

-- ตัวแปรควบคุมการเรียก remote (ป้องกันการเรียกซ้อน)
local isRemoteBusy = false
local lastRemoteCallTime = 0

-- ตัวแปรสำหรับ state-based tracking (เพิ่มใหม่)
local receiverCreatureStartTime = 0
local receiverCreatureRequested = false
local receiverAcceptStartTime = 0
local receiverAcceptRequested = false

-- ตัวแปรสำหรับ receiver timeout (เพิ่มใหม่)
local lastTradeRequestTime = tick()
local RECEIVER_TIMEOUT = 300 -- 5 นาที (300 วินาที)

-- ตัวแปรสำหรับ sender state-based tracking
local senderShroomStartTime = 0
local senderShroomRequested = false
local senderTokenStartTime = 0
local senderTokenRequested = false
local senderCreatureStartTime = 0
local senderCreatureRequested = false
local senderAcceptStartTime = 0
local senderAcceptRequested = false

-- ตัวแปรป้องกันการทำงานพร้อมกัน
local isSenderMainActive = false
local isSenderReceiverActive = false

-- ตัวแปรสำหรับ timeout การรอเริ่มเทรดหลังส่งคำขอหา receiver
local SENDER_REQUEST_TIMEOUT = 200 -- วินาที
local lastSentTargetName = nil
local lastSentTargetIsReceiver = false
local lastSentTime = 0

-- ฟังก์ชันช่วยเหลือ
local function IsInList(name, list)
    for _, listName in ipairs(list) do
        if name == listName then
            return true
        end
    end
    return false
end

local function Clicked_Ui(path)
    local success, error = pcall(function()
        GuiService.SelectedObject = path
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการเลือก UI: " .. tostring(error))
    end
end

local function Click_NOW()
    local success, error = pcall(function()
        VirtualInputManager:SendKeyEvent(true, 13, false, game)
        wait(0.1)
        VirtualInputManager:SendKeyEvent(false, 13, false, game)
        task.wait(2)
        Clicked_Ui(nil)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกดปุ่ม: " .. tostring(error))
    end
end

-- ฟังก์ชันวาร์ปไปยังตำแหน่งที่กำหนด
local function WarpToLocation()
    local success, error = pcall(function()
        local character = LocalPlayer.Character
        if character then
            character:PivotTo(CFrame.new(Vector3.new(-2132.24, 490.66, 1106.83)))
            print("✅ วาร์ปไปยังตำแหน่งที่กำหนดแล้ว")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการวาร์ป: " .. tostring(error))
    end
end

-- ฟังก์ชันหาคู่เทรดที่ว่าง
local function FindValidReceiver()
    local result = nil
    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            return nil
        end
        
        print("🔍 กำลังค้นหาคู่เทรดที่ว่าง...")

        -- ค้นหา receiver ที่ว่าง
        local validReceivers = {}
        local getPlayersSuccess = pcall(function()
            for _, player in pairs(Players:GetPlayers()) do
                if IsInList(player.Name, RECEIVER_LIST) then
                    local isAvailable = false
                    local tradingValue = nil
                    local checkSuccess = pcall(function()
                        if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                            tradingValue = player.Settings.Trading.Value
                            isAvailable = (tradingValue == false)
                        else
                            isAvailable = true
                            tradingValue = "unknown"
                        end
                    end)

                    if not checkSuccess then
                        print(
                            "⚠️ เกิดข้อผิดพลาดในการเช็คสถานะ " ..
                                player.Name .. " สมมติว่าว่าง...")
                        isAvailable = true
                        tradingValue = "error"
                    end

                    if isAvailable then
                        print("✅ พบ receiver ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                                  tostring(tradingValue) .. ")")
                        table.insert(validReceivers, player)
                    else
                        print("❌ Receiver " .. player.Name ..
                                  " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) ..
                                  ")")
                    end
                end
            end
        end)

        if not getPlayersSuccess then
            print(
                "❌ เกิดข้อผิดพลาดในการดึงรายชื่อผู้เล่น")
            return nil
        end

        -- ถ้ามี receiver ว่าง ให้เลือกหนึ่งคน
        if #validReceivers > 0 then
            local selected = validReceivers[math.random(1, #validReceivers)]
            print("🎯 เลือก receiver: " .. selected.Name)
            result = selected
            return
        end

        -- ถ้าไม่มี receiver ว่าง ให้ค้นหา sender อื่นที่ว่าง
        print("ไม่มี receiver ว่าง กำลังค้นหา sender อื่น...")
        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    tradingValue = player.Settings.Trading.Value
                    isAvailable = (tradingValue == false)
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " ..
                              tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print(
                        "❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " ..
                            tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender เพื่อเทรดด้วย: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบคู่เทรดที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindValidReceiver: " ..
                 tostring(error))
    end
    return result
end

-- ฟังก์ชันส่ง trade request
local function SendTradeRequest(receiverName)
    local success, error = pcall(function()
        local args = {"SendRequest", game:GetService("Players"):WaitForChild(receiverName)}
        game:GetService("Players").LocalPlayer:WaitForChild("Remotes"):WaitForChild("TradeRequestRemote"):FireServer(
            unpack(args))
        print("📤 ส่ง trade request ไปยัง " .. receiverName)
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการส่ง trade request: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันหาผู้เล่น sender ที่ว่าง (ค้นหาเฉพาะ sender)
local function FindAvailableSender()
    local result = nil
    local success, error = pcall(function()
        print("🔍 กำลังค้นหา sender ที่ว่าง...")

        local validSenders = {}
        for _, player in pairs(Players:GetPlayers()) do
            if IsInList(player.Name, SENDER_LIST) and player.Name ~= LocalPlayer.Name then
                local isAvailable = false
                local tradingValue = nil
                pcall(function()
                    if player and player:FindFirstChild("Settings") and player.Settings:FindFirstChild("Trading") then
                        tradingValue = player.Settings.Trading.Value
                        isAvailable = (tradingValue == false)
                    else
                        isAvailable = true
                        tradingValue = "unknown"
                    end
                end)

                if isAvailable then
                    print("✅ พบ sender ที่ว่าง: " .. player.Name .. " (Trading.Value = " .. tostring(tradingValue) .. ")")
                    table.insert(validSenders, player)
                else
                    print("❌ Sender " .. player.Name .. " กำลังเทรดอยู่ (Trading.Value = " .. tostring(tradingValue) .. ")")
                end
            end
        end

        if #validSenders > 0 then
            local selected = validSenders[math.random(1, #validSenders)]
            print("🎯 เลือก sender: " .. selected.Name)
            result = selected
            return
        end

        print("❌ ไม่พบ sender ที่ว่าง")
    end)
    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน FindAvailableSender: " .. tostring(error))
    end
    return result
end

-- ฟังก์ชัน add shroom
local function AddShroom()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    local success, error = pcall(function()
        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่สามารถเพิ่ม shroom ได้")
            return false
        end
        
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub("@", "")
        local localPlayerName = LocalPlayer.Name

        local amount = coinsValue - 20
        if amount > 500000 then
            amount = 500000
        end
        if amount < 0 then
            amount = 0
        end

        local args = {"AddTradeItem", {
            Overwrite = true,
            ItemType = "Currency",
            Name = "Shooms",
            Amount = amount
        }}

        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ถูกปิดระหว่าง AddShroom, reset currentStep")
            currentStep = 0
            return false
        end

        local remote1Name = localPlayerName .. "-" .. opponentName .. "TradeRemote"
        local remote1 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote1Name)
        if not remote1 then
            print("❌ ไม่พบ remote1: " .. tostring(remote1Name))
            currentStep = 0
            return false
        end
        remote1:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote1...")
        wait(3)

        local remote2Name = opponentName .. "-" .. localPlayerName .. "TradeRemote"
        local remote2 = ReplicatedStorage:FindFirstChild("Remotes") and
                            ReplicatedStorage.Remotes:FindFirstChild(remote2Name)
        if not remote2 then
            print("❌ ไม่พบ remote2: " .. tostring(remote2Name))
            currentStep = 0
            return false
        end
        remote2:InvokeServer(unpack(args))
        print("⏳ รอ 3 วินาทีหลังใช้ remote2...")
        wait(3)

        print("✅ เพิ่ม " .. amount .. " Shrooms ในการเทรดกับ " .. opponentName)
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddShroom: " ..
                 tostring(error))
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add token
local function AddToken()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local tokenList = {'ChangeCreatureColorsToken', 'CreatureReviveToken', 'FullGrowToken', 'PartialGrowToken',
                       'FreeSpinToken', 'RandomStoredCreatureToken','DeathGachaToken'}

    local success, error = pcall(function()
        local tradeGui = LocalPlayer.PlayerGui.TradeGui
        local containerFrame = tradeGui.ContainerFrame
        local theirsFrame = containerFrame.Theirs
        local displayNameLabel = theirsFrame.DisplayNameLabel
        local userNameLabel = displayNameLabel.UserNameLabel
        local opponentName = userNameLabel.Text

        opponentName = opponentName:gsub('@', '')
        local localPlayerName = LocalPlayer.Name

        -- ตั้งค่า remote กำลังใช้งาน
        isRemoteBusy = true

        for i, tokenName in ipairs(tokenList) do
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("❌ TradeGui ถูกปิดระหว่าง AddToken, reset currentStep")
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Tokens',
                Name = tokenName,
                Amount = 150
            }}

            local remoteName = localPlayerName .. '-' .. opponentName .. 'TradeRemote'
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print("📤 กำลังเพิ่ม " .. tokenName .. " (" .. i .. "/" .. #tokenList .. ")...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn(
                    "❌ เกิดข้อผิดพลาดในการเรียก remote สำหรับ " ..
                        tokenName .. ": " .. tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            end

            print('✅ เพิ่ม ' .. tokenName .. ' ในการเทรดกับ ' .. opponentName)

            -- รอ 3 วินาทีหลังใช้ remote
            print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ " .. tokenName ..
                      "...")
            wait(3)
        end

        -- ปลดล็อค remote
        isRemoteBusy = false
        print('✅ เพิ่ม token ทั้งหมดเสร็จสิ้น')
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชัน AddToken: " ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature สำหรับ Receiver แบบปลอดภัย
local function AddCreatureReceiver()
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                    currentStepReceiver = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStepReceiver = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStepReceiver = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            local remotes = ReplicatedStorage:FindFirstChild('Remotes')
            if not remotes then
                print('❌ ไม่พบ Remotes folder')
                currentStepReceiver = 0
                return false
            end

            local remote = remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStepReceiver = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreatureReceiver, reset currentStep')
                currentStepReceiver = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStepReceiver = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStepReceiver = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreatureReceiver: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStepReceiver = 0
        return false
    end

    return true
end

-- ฟังก์ชัน add creature
local function AddCreature(isReceiver)
    local tradeGuiSafe = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
    if not (tradeGuiSafe and tradeGuiSafe.Enabled) then
        print("❌ TradeGui ไม่เปิดใช้งาน")
        return false
    end

    -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
    if isRemoteBusy then
        print("⚠️ Remote กำลังใช้งานอยู่ รอสักครู่...")
        return false
    end

    local success, error = pcall(function()
        local Unlocks = LocalPlayer.Data and LocalPlayer.Data.Unlocks
        local creatureName = nil

        if LocalPlayer and LocalPlayer.Data and LocalPlayer.Data.Unlocks then
            for _, child in pairs(Unlocks:GetChildren()) do
                if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                    print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                    currentStep = 0
                    return false
                end
                if child:IsA('ValueBase') and tonumber(child.Value) and tonumber(child.Value) > 0 then
                    if child.Name ~= "Vin'rou" and child.Name ~= 'Eulopii' then
                        creatureName = child.Name
                        break
                    end
                end
            end

            if not creatureName then
                warn('❌ ไม่พบ creature ที่ตรงเงื่อนไข')
                currentStep = 0
                return false
            end

            local theirLabel = LocalPlayer.PlayerGui and LocalPlayer.PlayerGui:FindFirstChild('TradeGui') and
                                   LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel

            if not theirLabel or not theirLabel.Text then
                warn('❌ ไม่พบชื่อฝ่ายตรงข้าม')
                currentStep = 0
                return false
            end

            local otherPlayerName = theirLabel.Text
            if string.sub(otherPlayerName, 1, 1) == '@' then
                otherPlayerName = string.sub(otherPlayerName, 2)
            end

            local remoteName
            if isReceiver then
                remoteName = otherPlayerName .. '-' .. LocalPlayer.Name .. 'TradeRemote'
            else
                remoteName = LocalPlayer.Name .. '-' .. otherPlayerName .. 'TradeRemote'
            end
            local remote = ReplicatedStorage:FindFirstChild('Remotes') and
                               ReplicatedStorage.Remotes:FindFirstChild(remoteName)
            if not remote then
                print('❌ ไม่พบ remote: ' .. tostring(remoteName))
                currentStep = 0
                return false
            end

            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print('❌ TradeGui ถูกปิดระหว่าง AddCreature, reset currentStep')
                currentStep = 0
                return false
            end

            -- ตรวจสอบเวลาที่ผ่านไปตั้งแต่ remote call ล่าสุด
            local timeSinceLastCall = tick() - lastRemoteCallTime
            if timeSinceLastCall < 3 then
                local waitTime = 3 - timeSinceLastCall
                print("⏳ รอ " .. string.format("%.1f", waitTime) ..
                          " วินาทีก่อนเรียก remote สำหรับ creature...")
                wait(waitTime)
            end

            -- ตั้งค่า remote กำลังใช้งาน
            isRemoteBusy = true
            lastRemoteCallTime = tick()

            local args = {'AddTradeItem', {
                Overwrite = true,
                ItemType = 'Creatures',
                Name = creatureName,
                Amount = 1
            }}

            print("📤 กำลังเพิ่ม creature: " .. creatureName .. "...")

            local remoteSuccess, remoteError = pcall(function()
                remote:InvokeServer(unpack(args))
            end)

            if not remoteSuccess then
                warn('❌ เกิดข้อผิดพลาดในการเรียก Remote: ' ..
                         tostring(remoteError))
                isRemoteBusy = false
                currentStep = 0
                return false
            else
                print('✅ เพิ่ม creature สำเร็จ!')
                lastRemoteCallTime = tick()

                -- รอ 3 วินาทีหลังใช้ remote
                print("⏳ รอ 3 วินาทีหลังใช้ remote สำหรับ creature...")
                wait(3)

                -- ปลดล็อค remote
                isRemoteBusy = false
                return true
            end
        else
            print('❌ ไม่สามารถเข้าถึง Data.Unlocks ได้')
            currentStep = 0
            return false
        end
    end)

    if not success then
        warn('❌ เกิดข้อผิดพลาดในฟังก์ชัน AddCreature: ' ..
                 tostring(error))
        isRemoteBusy = false
        currentStep = 0
        return false
    end

    return true
end

-- ฟังก์ชันกด accept สำหรับ Receiver แบบปลอดภัย
local function ClickAcceptReceiver()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
        if not tradeGui then
            print("❌ ไม่พบ TradeGui")
            return false
        end

        local containerFrame = tradeGui:FindFirstChild("ContainerFrame")
        if not containerFrame then
            print("❌ ไม่พบ ContainerFrame")
            return false
        end

        local acceptButton = containerFrame:FindFirstChild("AcceptButton")
        if not acceptButton then
            print("❌ ไม่พบ AcceptButton")
            return false
        end

        local upperLabel = acceptButton:FindFirstChild("UpperLabel")
        if not upperLabel then
            print("❌ ไม่พบ UpperLabel")
            return false
        end

        Clicked_Ui(upperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด accept
local function ClickAccept()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            print("❌ TradeGui ไม่เปิดใช้งาน")
            return false
        end

        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
        if isRemoteBusy then
            print(
                "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้!")
            return false
        end

        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.AcceptButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("✅ กด accept แล้ว")
        return true
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด accept: " .. tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชันกด cancel
local function ClickCancel()
    local success, error = pcall(function()
        Clicked_Ui(LocalPlayer.PlayerGui.TradeGui.ContainerFrame.CancelButton.UpperLabel)
        task.wait(.1)
        Click_NOW()
        print("❌ ยกเลิกการเทรด")
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในการกด cancel: " .. tostring(error))
    end
end

-- ฟังก์ชันเช็คชื่อคู่เทรด
local function CheckTradePartner()
    local success, error = pcall(function()
        if not LocalPlayer.PlayerGui.TradeGui.Enabled then
            return false
        end

        local theirLabel = LocalPlayer.PlayerGui.TradeGui.ContainerFrame.Theirs.DisplayNameLabel.UserNameLabel
        if not theirLabel or not theirLabel.Text then
            return false
        end

        local opponentName = theirLabel.Text:gsub("@", "")

        -- เช็คว่าชื่อตรงกับในรายชื่อหรือไม่
        if IsInList(opponentName, RECEIVER_LIST) or IsInList(opponentName, SENDER_LIST) then
            print("✅ ชื่อคู่เทรดถูกต้อง: " .. opponentName)
            return true
        else
            print("❌ ชื่อคู่เทรดไม่ตรงกับรายชื่อ: " ..
                      opponentName)
            ClickCancel()
            return false
        end
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการเช็คชื่อคู่เทรด: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Sender
local function AcceptTradeRequestForSender()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    -- Sender สามารถรับ trade request จาก sender อื่นได้
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Sender พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                -- Sender สามารถรับ trade request จาก sender อื่นได้
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Sender พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Sender: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver แบบปลอดภัย
local function AcceptTradeRequestReceiver()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน accept trade request สำหรับ Receiver
local function AcceptTradeRequest()
    local success, error = pcall(function()
        local requestsGui = LocalPlayer.PlayerGui:FindFirstChild('RequestsGui')
        if not requestsGui then
            return false
        end

        local requestsFrame = requestsGui:FindFirstChild('RequestsFrame')
        if not requestsFrame then
            return false
        end

        local mobileFrame = requestsFrame:FindFirstChild('Mobile')
        if mobileFrame then
            for _, child in pairs(mobileFrame:GetChildren()) do
                if string.find(child.Name, "^Trade") then
                    local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                    if IsInList(senderName, SENDER_LIST) then
                        print("✅ Receiver พบ trade request แบบ Mobile จาก " .. senderName .. " กำลัง accept...")

                        -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                        lastTradeRequestTime = tick()

                        Clicked_Ui(child.AcceptButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                        return true
                    else
                        print("❌ Trade request แบบ Mobile จาก " .. senderName ..
                                  " ไม่ตรงกับรายชื่อ กำลัง decline...")
                        Clicked_Ui(child.DeclineButton.UpperLabel)
                        task.wait(.1)
                        Click_NOW()
                    end
                end
            end
        end

        local otherFrame = requestsFrame:FindFirstChild('Other')
        if not otherFrame then
            return false
        end

        for _, child in pairs(otherFrame:GetChildren()) do
            if string.find(child.Name, "^Trade") then
                local senderName = child.Name:sub(6) -- ตัด "Trade" ออก
                if IsInList(senderName, SENDER_LIST) then
                    print("✅ Receiver พบ trade request แบบ Other จาก " .. senderName .. " กำลัง accept...")

                    -- อัปเดตเวลาสุดท้ายที่ได้รับ trade request (เพิ่มใหม่)
                    lastTradeRequestTime = tick()

                    Clicked_Ui(child.AcceptButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                    return true
                else
                    print("❌ Trade request จาก " .. senderName ..
                              " ไม่ตรงกับรายชื่อ กำลัง decline...")
                    Clicked_Ui(child.DeclineButton.UpperLabel)
                    task.wait(.1)
                    Click_NOW()
                end
            end
        end

        return false
    end)

    if not success then
        warn(
            "❌ เกิดข้อผิดพลาดในการ accept trade request สำหรับ Receiver: " ..
                tostring(error))
        return false
    end

    return true
end

-- ฟังก์ชัน Coroutine สำหรับ Sender ที่รับ trade request
local function SenderReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) SenderReceiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                -- รอ trade request
                AcceptTradeRequestForSender()

                -- ตรวจสอบ timeout สำหรับ Sender ที่ทำงานแบบ Receiver (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Sender (Receiver mode) ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print(
                            "⏰ Sender (Receiver mode) รอ trade request... เหลือเวลาอีก " ..
                                string.format("%.0f", timeRemaining) ..
                                " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                isSenderReceiverActive = false
                wait(2)
            else
                -- กำลังเทรดอยู่ (เมื่อเป็น receiver)
                -- ตรวจสอบว่ามี trade request หรือไม่
                local hasTradeRequest = false
                local requestsFrame = LocalPlayer.PlayerGui.RequestsGui.RequestsFrame.Other
                if requestsFrame then
                    for _, child in pairs(requestsFrame:GetChildren()) do
                        if string.find(child.Name, "^Trade") then
                            hasTradeRequest = true
                            break
                        end
                    end
                end

                -- ถ้ามี trade request ให้ override main sender
                if hasTradeRequest then
                    print("📩 พบ trade request กำลัง override Main Sender...")
                    isSenderMainActive = false
                end

                -- ตรวจสอบว่า main sender loop กำลังทำงานอยู่หรือไม่
                if isSenderMainActive then
                    print(
                        "⏸️ Main Sender กำลังทำงานอยู่ SenderReceiver รอสักครู่...")
                    wait(1)
                    return
                end

                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        isSenderReceiverActive = true
                        currentStepReceiver = 1
                        print(
                            "🚀 Sender เริ่มขั้นตอนที่ 1: Add Creature (โหมด Receiver)")
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 เริ่ม Add Creature...")
                            -- เริ่มทำ AddCreature แบบไม่รอผลลัพธ์
                            spawn(function()
                                AddCreature(true)
                            end)
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()
                            print("⏳ รอให้ Add Creature เสร็จ...")
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 5 then
                            currentStepReceiver = 2
                            print(
                                "   Sender เริ่มขั้นตอนที่ 2: Click Accept (โหมด Receiver)")
                        else
                            print("⏳ รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking
                    if not receiverAcceptRequested then
                        print("🚀 เริ่ม Click Accept...")
                        -- เริ่มทำ ClickAccept แบบไม่รอผลลัพธ์
                        spawn(function()
                            ClickAccept()
                        end)
                        receiverAcceptRequested = true
                        receiverAcceptStartTime = tick()
                        print("⏳ รอให้ Click Accept เสร็จ...")
                    else
                        -- ตรวจสอบว่าผ่านไป 3 วินาทีแล้วหรือยัง
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 3 then
                            currentStepReceiver = 0
                            print("✅ Sender เทรดเสร็จสิ้น (โหมด Receiver)")
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                            isSenderReceiverActive = false
                        else
                            print("⏳ รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 3 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน SenderReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            isSenderReceiverActive = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

function TradeStepHandlerSender(step)
    if not LocalPlayer.PlayerGui.TradeGui.Enabled then
        -- ยังไม่ได้เทรด
        if step ~= 0 then
            print(
                "Trade ถูกยกเลิกหรือจบกลางคัน กำลัง reset step...")
            -- รีเซ็ตสถานะการเพิ่มไอเทม
            shroomAdded = false
            tokenAdded = false
            creatureAdded = false
            -- รีเซ็ตสถานะ sender tracking
            senderShroomStartTime = 0
            senderShroomRequested = false
            senderTokenStartTime = 0
            senderTokenRequested = false
            senderCreatureStartTime = 0
            senderCreatureRequested = false
            senderAcceptStartTime = 0
            senderAcceptRequested = false
            isSenderMainActive = false
            -- รีเซ็ตสถานะการส่งคำขอค้าง
            lastSentTargetName = nil
            lastSentTargetIsReceiver = false
            lastSentTime = 0
            step = 0
        end

        -- ตรวจสอบว่า SenderReceiver กำลังทำงานอยู่หรือไม่
        if isSenderReceiverActive then
            print(
                "⏸️ SenderReceiver กำลังทำงานอยู่ Main Sender รอสักครู่...")
            return 0
        end

        -- ตรวจสอบ coins ก่อน
        local coinsValue = LocalPlayer.Data.Coins.Value
        if coinsValue <= 20 then
            print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) ไม่ทำการเทรด")
            -- ถ้า coins ไม่เพียงพอ ให้ปลดล็อค main sender และรอ
            isSenderMainActive = false
            wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
        else
            -- ถ้าส่งหา receiver ค้างไว้นานเกินกำหนด ให้ลองหา sender ที่ว่างแทน
            if lastSentTargetIsReceiver and lastSentTime > 0 then
                local elapsed = tick() - lastSentTime
                if elapsed >= SENDER_REQUEST_TIMEOUT then
                    print("⚠️ รอเริ่มเทรดกับ receiver (" .. tostring(lastSentTargetName) .. ") นานเกิน " .. SENDER_REQUEST_TIMEOUT .. " วินาที กำลังหา sender แทน...")
                    local fallbackSender = FindAvailableSender()
                    if fallbackSender then
                        SendTradeRequest(fallbackSender.Name)
                        lastSentTargetName = fallbackSender.Name
                        lastSentTargetIsReceiver = false
                        lastSentTime = tick()
                        return 0
                    else
                        -- ปรับเวลาเพื่อหลีกเลี่ยงการ spam ตรวจซ้ำทันที
                        lastSentTime = tick()
                    end
                end
            end

            local validPartner = FindValidReceiver()
            if validPartner then
                SendTradeRequest(validPartner.Name)
                -- บันทึกสถานะเป้าหมายล่าสุดที่ส่งคำขอ
                lastSentTargetName = validPartner.Name
                lastSentTargetIsReceiver = IsInList(validPartner.Name, RECEIVER_LIST)
                lastSentTime = tick()
            else
                -- ถ้าไม่มี partner ให้ปลดล็อค main sender
                isSenderMainActive = false
            end
        end
        return 0 -- reset step
    else
        -- กำลังเทรดอยู่
        -- เคลียร์สถานะการส่งคำขอค้างเมื่อเข้าสู่หน้าต่าง Trade จริง
        lastSentTargetName = nil
        lastSentTargetIsReceiver = false
        lastSentTime = 0
        if step == 0 then
            if CheckTradePartner() then
                print("🚀 เริ่มขั้นตอนที่ 1: Add Shroom")
                -- รีเซ็ตสถานะการเพิ่มไอเทมเมื่อเริ่มเทรดใหม่
                shroomAdded = false
                tokenAdded = false
                creatureAdded = false
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                return 1
            end
        elseif step == 1 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddShroom, reset step")
                return 0
            end
            -- Add Shroom - ใช้ state-based tracking
            if not senderShroomRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 1
                else
                    print("🚀 เริ่ม Add Shroom...")
                    senderShroomRequested = true
                    senderShroomStartTime = tick()
                    isSenderMainActive = true -- ตั้ง active เมื่อเริ่มเทรดจริง
                    -- เรียก AddShroom แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Shroom เสร็จ...")
                    local shroomSuccess = AddShroom()
                    if shroomSuccess then
                        shroomAdded = true
                        print("✅ Add Shroom เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 2: Add Token")
                        return 2
                    else
                        print("❌ Add Shroom ล้มเหลว")
                        senderShroomRequested = false
                        isSenderMainActive = false
                        return 0
                    end
                end
            else
                -- ถ้า shroom ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderShroomStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Shroom ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                    shroomAdded = true
                    return 2
                else
                    print("⏳ รอ Add Shroom เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 1
                end
            end
        elseif step == 2 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddToken, reset step")
                return 0
            end
            -- Add Token - ใช้ state-based tracking
            if not senderTokenRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 2
                else
                    print("🚀 เริ่ม Add Token...")
                    senderTokenRequested = true
                    senderTokenStartTime = tick()
                    -- เรียก AddToken แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Token เสร็จ...")
                    local tokenSuccess = AddToken()
                    if tokenSuccess then
                        tokenAdded = true
                        print("✅ Add Token เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 3: Add Creature")
                        return 3
                    else
                        print("❌ Add Token ล้มเหลว")
                        senderTokenRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า token ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderTokenStartTime
                if elapsedTime >= 30 then
                    print(
                        "⚠️ Add Token ใช้เวลานานเกินไป กำลังข้ามไป step 3")
                    tokenAdded = true
                    return 3
                else
                    print("⏳ รอ Add Token เสร็จ... (" .. string.format("%.1f", 30 - elapsedTime) ..
                              " วินาที)")
                    return 2
                end
            end
        elseif step == 3 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง AddCreature, reset step")
                return 0
            end
            -- Add Creature - ใช้ state-based tracking
            if not senderCreatureRequested then
                -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                if isRemoteBusy then
                    print("⏳ Remote กำลังใช้งานอยู่ รอสักครู่...")
                    return 3
                else
                    print("🚀 เริ่ม Add Creature...")
                    senderCreatureRequested = true
                    senderCreatureStartTime = tick()
                    -- เรียก AddCreature แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Add Creature เสร็จ...")
                    local creatureSuccess = AddCreature(false)
                    if creatureSuccess then
                        creatureAdded = true
                        print("✅ Add Creature เสร็จสิ้น")
                        print("🚀 เริ่มขั้นตอนที่ 4: Click Accept")
                        return 4
                    else
                        print("❌ Add Creature ล้มเหลว")
                        senderCreatureRequested = false
                        return 0
                    end
                end
            else
                -- ถ้า creature ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderCreatureStartTime
                if elapsedTime >= 10 then
                    print(
                        "⚠️ Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 4")
                    creatureAdded = true
                    return 4
                else
                    print("⏳ รอ Add Creature เสร็จ... (" .. string.format("%.1f", 10 - elapsedTime) ..
                              " วินาที)")
                    return 3
                end
            end
        elseif step == 4 then
            if not LocalPlayer.PlayerGui.TradeGui.Enabled then
                print("TradeGui ถูกปิดระหว่าง ClickAccept, reset step")
                return 0
            end
            -- Click Accept - ใช้ state-based tracking
            if not senderAcceptRequested then
                -- ตรวจสอบว่าทุกขั้นตอนเสร็จสิ้นแล้ว
                if shroomAdded and tokenAdded and creatureAdded then
                    print("🔍 ตรวจสอบสถานะ: Shroom=" .. tostring(shroomAdded) .. ", Token=" ..
                              tostring(tokenAdded) .. ", Creature=" .. tostring(creatureAdded))

                    -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                    if isRemoteBusy then
                        print(
                            "⚠️ Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                        return 4 -- ยังคงอยู่ใน step 4
                    end
                    print("🚀 เริ่ม Click Accept...")
                    senderAcceptRequested = true
                    senderAcceptStartTime = tick()
                    -- เรียก ClickAccept แบบ synchronous และหยุด loop
                    print("⏸️ หยุด loop เพื่อรอ Click Accept เสร็จ...")
                    local acceptSuccess = ClickAccept()
                    if acceptSuccess then
                        print("✅ เทรดเสร็จสิ้น")
                        -- รีเซ็ตสถานะการเพิ่มไอเทม
                        shroomAdded = false
                        tokenAdded = false
                        creatureAdded = false
                        -- รีเซ็ตสถานะ sender tracking
                        senderShroomStartTime = 0
                        senderShroomRequested = false
                        senderTokenStartTime = 0
                        senderTokenRequested = false
                        senderCreatureStartTime = 0
                        senderCreatureRequested = false
                        senderAcceptStartTime = 0
                        senderAcceptRequested = false
                        isSenderMainActive = false
                        return 0
                    else
                        print("❌ Click Accept ล้มเหลว")
                        senderAcceptRequested = false
                        return 0
                    end
                else
                    print(
                        "⚠️ ยังมีขั้นตอนที่ยังไม่เสร็จ: Shroom=" ..
                            tostring(shroomAdded) .. ", Token=" .. tostring(tokenAdded) .. ", Creature=" ..
                            tostring(creatureAdded))
                    -- กลับไปทำขั้นตอนที่ยังไม่เสร็จ
                    if not shroomAdded then
                        print("🔄 กลับไปทำ Add Shroom")
                        return 1
                    elseif not tokenAdded then
                        print("🔄 กลับไปทำ Add Token")
                        return 2
                    elseif not creatureAdded then
                        print("🔄 กลับไปทำ Add Creature")
                        return 3
                    end
                end
            else
                -- ถ้า accept ยังไม่เสร็จ แต่เวลาผ่านไปมากเกินไป
                local elapsedTime = tick() - senderAcceptStartTime
                if elapsedTime >= 5 then
                    print(
                        "⚠️ Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                    print("✅ เทรดเสร็จสิ้น")
                    -- รีเซ็ตสถานะการเพิ่มไอเทม
                    shroomAdded = false
                    tokenAdded = false
                    creatureAdded = false
                    -- รีเซ็ตสถานะ sender tracking
                    senderShroomStartTime = 0
                    senderShroomRequested = false
                    senderTokenStartTime = 0
                    senderTokenRequested = false
                    senderCreatureStartTime = 0
                    senderCreatureRequested = false
                    senderAcceptStartTime = 0
                    senderAcceptRequested = false
                    isSenderMainActive = false
                    return 0
                else
                    print("⏳ รอ Click Accept เสร็จ... (" .. string.format("%.1f", 5 - elapsedTime) ..
                              " วินาที)")
                    return 4
                end
            end
        end
    end
    return step
end

-- เรียกใช้งานแบบ timer (ทุก 1 วินาที)
local function StartSenderStepLoop()
    spawn(function()
        while true do
            local success, err = pcall(function()
                local previousStep = currentStep
                currentStep = TradeStepHandlerSender(currentStep)

                -- ถ้า step เปลี่ยน แสดงว่าขั้นตอนเสร็จแล้ว
                if previousStep ~= currentStep then
                    print("🔄 ขั้นตอนเปลี่ยนจาก " .. previousStep ..
                              " เป็น " .. currentStep)
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน TradeStepHandlerSender: " .. tostring(err))
                currentStep = 0
                -- รีเซ็ตสถานะ sender tracking
                senderShroomStartTime = 0
                senderShroomRequested = false
                senderTokenStartTime = 0
                senderTokenRequested = false
                senderCreatureStartTime = 0
                senderCreatureRequested = false
                senderAcceptStartTime = 0
                senderAcceptRequested = false
                isSenderMainActive = false
            end

            -- รอ 1 วินาทีแล้ววนใหม่
            wait(1)
        end
    end)
end

-- Coroutine สำหรับ Receiver แบบปลอดภัย
local function ReceiverCoroutine()
    while true do
        local success, error = pcall(function()
            -- ตรวจสอบ coins ก่อน
            local coinsValue = LocalPlayer.Data.Coins.Value
            if coinsValue <= 20 then
                print("💰 Coins ไม่เพียงพอ (" .. coinsValue .. " <= 20) Receiver ไม่ทำงาน")
                wait(10) -- รอ 10 วินาทีก่อนตรวจสอบใหม่
                return
            end
            
            -- ตรวจสอบ TradeGui อย่างปลอดภัย
            local tradeGuiEnabled = false
            local tradeGui = LocalPlayer.PlayerGui:FindFirstChild("TradeGui")
            if tradeGui then
                tradeGuiEnabled = tradeGui.Enabled
            end

            if not tradeGuiEnabled then
                -- รอ trade request
                AcceptTradeRequestReceiver()

                -- ตรวจสอบ timeout (เพิ่มใหม่)
                local timeSinceLastRequest = tick() - lastTradeRequestTime
                local timeRemaining = RECEIVER_TIMEOUT - timeSinceLastRequest

                if timeSinceLastRequest >= RECEIVER_TIMEOUT then
                    print("⚠️ Receiver ไม่ได้รับ trade request นาน " ..
                              string.format("%.1f", timeSinceLastRequest) .. " วินาที (เกิน " ..
                              RECEIVER_TIMEOUT .. " วินาที)")
                    print(
                        "🔄 กำลังเปลี่ยนเซิร์ฟเวอร์เพื่อหาคู่เทรดใหม่...")

                    local success, error = pcall(function()
                        local TeleportService = game:GetService("TeleportService")
                        TeleportService:Teleport(14119723130)
                    end)

                    if not success then
                        warn(
                            "❌ เกิดข้อผิดพลาดในการเปลี่ยนเซิร์ฟเวอร์: " ..
                                tostring(error))
                        print("🚪 กำลังออกจากเกม...")
                        game:Shutdown()
                    end
                    return
                else
                    -- แสดงสถานะเวลาที่เหลือทุก 30 วินาที
                    if math.floor(timeSinceLastRequest) % 30 == 0 or timeRemaining <= 60 then
                        print("⏰ Receiver รอ trade request... เหลือเวลาอีก " ..
                                  string.format("%.0f", timeRemaining) ..
                                  " วินาทีก่อนเปลี่ยนเซิร์ฟเวอร์")
                    end
                end

                -- รีเซ็ตสถานะเมื่อไม่ได้เทรด
                receiverCreatureStartTime = 0
                receiverCreatureRequested = false
                receiverAcceptStartTime = 0
                receiverAcceptRequested = false
                currentStepReceiver = 0
                wait(2)
            else
                -- กำลังเทรดอยู่
                if currentStepReceiver == 0 then
                    -- เช็คชื่อคู่เทรดก่อน
                    if CheckTradePartner() then
                        currentStepReceiver = 1
                        print("🚀 Receiver เริ่มขั้นตอนที่ 1: Add Creature")
                        -- รีเซ็ตสถานะก่อนเริ่มใหม่
                        receiverCreatureStartTime = 0
                        receiverCreatureRequested = false
                        receiverAcceptStartTime = 0
                        receiverAcceptRequested = false
                    else
                        wait(1)
                    end
                elseif currentStepReceiver == 1 then
                    -- Add Creature - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverCreatureRequested then
                        -- ตรวจสอบว่า remote กำลังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⏳ Receiver: Remote กำลังใช้งานอยู่ รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Add Creature...")
                            receiverCreatureRequested = true
                            receiverCreatureStartTime = tick()

                            -- เรียก AddCreatureReceiver แบบ synchronous พร้อม error handling
                            local creatureSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                creatureSuccess = AddCreatureReceiver()
                            end)

                            if attemptSuccess and creatureSuccess then
                                print("✅ Receiver Add Creature เสร็จสิ้น")
                                currentStepReceiver = 2
                                print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                            else
                                warn("❌ Receiver Add Creature ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverCreatureRequested = false
                                receiverCreatureStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 10 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverCreatureStartTime
                        if elapsedTime >= 10 then
                            print(
                                "⚠️ Receiver Add Creature ใช้เวลานานเกินไป กำลังข้ามไป step 2")
                            currentStepReceiver = 2
                            print("🚀 Receiver เริ่มขั้นตอนที่ 2: Click Accept")
                        else
                            print("⏳ Receiver รอ Add Creature เสร็จ... (" ..
                                      string.format("%.1f", 10 - elapsedTime) .. " วินาที)")
                        end
                    end
                elseif currentStepReceiver == 2 then
                    -- Click Accept - ใช้ state-based tracking แบบปรับปรุง
                    if not receiverAcceptRequested then
                        -- ตรวจสอบว่า remote ยังใช้งานอยู่หรือไม่
                        if isRemoteBusy then
                            print(
                                "⚠️ Receiver: Remote ยังใช้งานอยู่ ไม่สามารถกด accept ได้! รอสักครู่...")
                            wait(1)
                        else
                            print("🚀 Receiver เริ่ม Click Accept...")
                            receiverAcceptRequested = true
                            receiverAcceptStartTime = tick()

                            -- เรียก ClickAcceptReceiver แบบ synchronous พร้อม error handling
                            local acceptSuccess = false
                            local attemptSuccess, attemptError = pcall(function()
                                acceptSuccess = ClickAcceptReceiver()
                            end)

                            if attemptSuccess and acceptSuccess then
                                print("✅ Receiver เทรดเสร็จสิ้น")
                                currentStepReceiver = 0
                                -- รีเซ็ตสถานะ
                                receiverCreatureStartTime = 0
                                receiverCreatureRequested = false
                                receiverAcceptStartTime = 0
                                receiverAcceptRequested = false
                            else
                                warn("❌ Receiver Click Accept ล้มเหลว: " .. tostring(attemptError))
                                -- รีเซ็ตเพื่อลองใหม่
                                receiverAcceptRequested = false
                                receiverAcceptStartTime = 0
                                wait(2) -- รอก่อนลองใหม่
                            end
                        end
                    else
                        -- ตรวจสอบว่าผ่านไป 5 วินาทีแล้วหรือยัง (เพิ่มเวลา)
                        local elapsedTime = tick() - receiverAcceptStartTime
                        if elapsedTime >= 5 then
                            print(
                                "⚠️ Receiver Click Accept ใช้เวลานานเกินไป กำลังจบเทรด")
                            print("✅ Receiver เทรดเสร็จสิ้น")
                            currentStepReceiver = 0
                            -- รีเซ็ตสถานะ
                            receiverCreatureStartTime = 0
                            receiverCreatureRequested = false
                            receiverAcceptStartTime = 0
                            receiverAcceptRequested = false
                        else
                            print("⏳ Receiver รอ Click Accept เสร็จ... (" ..
                                      string.format("%.1f", 5 - elapsedTime) .. " วินาที)")
                        end
                    end
                end
                wait(1)
            end
        end)

        if not success then
            warn("❌ เกิดข้อผิดพลาดใน ReceiverCoroutine: " .. tostring(error))
            currentStepReceiver = 0
            -- รีเซ็ตสถานะ
            receiverCreatureStartTime = 0
            receiverCreatureRequested = false
            receiverAcceptStartTime = 0
            receiverAcceptRequested = false
            wait(5) -- รอ 5 วินาทีก่อนลองใหม่
        end
    end
end

-- Coroutine ปิดหน้าต่าง CreatureInventoryFrame อัตโนมัติ (ทำงานเบื้องหลังตลอดเวลา)
local function InventoryCloserCoroutine()
    spawn(function()
        while true do
            local success, error = pcall(function()
                local playerGui = LocalPlayer and LocalPlayer.PlayerGui
                if not playerGui then return end

                local tradeHudGui = playerGui:FindFirstChild("TradeHUDGui")
                if not tradeHudGui then return end

                local bottomFrame = tradeHudGui:FindFirstChild("BottomFrame")
                if not bottomFrame then return end

                local creatureInventoryFrame = bottomFrame:FindFirstChild("CreatureInventoryFrame")
                if not creatureInventoryFrame then return end

                if creatureInventoryFrame.Visible == true then
                    local closeButton = creatureInventoryFrame:FindFirstChild("CloseButton")
                    local upperLabel = closeButton and closeButton:FindFirstChild("UpperLabel")
                    if upperLabel then
                        local safetyCounter = 0
                        while creatureInventoryFrame.Visible == true and safetyCounter < 30 do
                            Clicked_Ui(upperLabel)
                            task.wait(0.1)
                            Click_NOW()
                            task.wait(0.2)
                            safetyCounter = safetyCounter + 1
                        end
                    end
                end
            end)
            if not success then
                warn("❌ เกิดข้อผิดพลาดใน InventoryCloserCoroutine: " .. tostring(error))
            end
            wait(0.5)
        end
    end)
end

-- ฟังก์ชันหลัก
local function Main()
    local success, error = pcall(function()
        print("🎮 เริ่มต้นสคริปต์ Trade")

        -- วาร์ปไปยังตำแหน่งที่กำหนด
        WarpToLocation()

        -- เริ่ม coroutine ปิด CreatureInventoryFrame อัตโนมัติ
        InventoryCloserCoroutine()

        -- ตรวจสอบว่าเป็น Sender หรือ Receiver
        local isSender = IsInList(LocalPlayer.Name, SENDER_LIST)
        local isReceiver = IsInList(LocalPlayer.Name, RECEIVER_LIST)

        if isSender then
            print("👤 ทำงานในโหมด Sender")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ sender (สำหรับโหมด receiver) (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            StartSenderStepLoop()
            -- เพิ่มการทำงานแบบ Receiver สำหรับ Sender
            coroutine.wrap(SenderReceiverCoroutine)()
        elseif isReceiver then
            print("👤 ทำงานในโหมด Receiver")
            -- รีเซ็ตเวลาเริ่มต้นสำหรับ receiver (เพิ่มใหม่)
            lastTradeRequestTime = tick()
            coroutine.wrap(ReceiverCoroutine)()
        else
            print("❌ ชื่อผู้เล่นไม่ตรงกับรายชื่อใดๆ")
        end
    end)

    if not success then
        warn("❌ เกิดข้อผิดพลาดในฟังก์ชันหลัก: " ..
                 tostring(error))
        -- ลองรันใหม่หลังจาก 10 วินาที
        wait(10)
        Main()
    end
end

-- เริ่มต้นสคริปต์
Main()
